{
    "sourceFile": "Servidor/tests/seed.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1754508978212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1754509361466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,17 @@\n // D:\\SCripts\\SiteLobos\\Servidor\\tests\\seed.js\r\n \r\n-const mongoose = require('mongoose');\r\n const { schema: EmailTemplateSchema } = require('../models/EmailTemplate');\r\n \r\n /**\r\n  * Insere os dados essenciais na base de dados de teste.\r\n- * Atualmente, insere os templates de e-mail necess√°rios para as rotas de autentica√ß√£o.\r\n+ * @param {mongoose.Connection} dbConnection - A conex√£o ativa com a base de dados de teste.\r\n  */\r\n-const seedDatabase = async () => {\r\n-    // Obt√©m o modelo a partir da conex√£o de teste ativa\r\n-    const EmailTemplate = mongoose.model('EmailTemplate', EmailTemplateSchema);\r\n+const seedDatabase = async (dbConnection) => {\r\n+    // A MUDAN√áA EST√Å AQUI: Usamos a conex√£o fornecida para criar o modelo.\r\n+    const EmailTemplate = dbConnection.model('EmailTemplate', EmailTemplateSchema);\r\n \r\n-    // Cria os templates de e-mail que as nossas rotas precisam para funcionar\r\n+    // O resto da fun√ß√£o continua igual.\r\n     await EmailTemplate.create([\r\n         {\r\n             name: 'emailVerification',\r\n             subject: 'Verifique o seu e-mail',\r\n"
                }
            ],
            "date": 1754508978212,
            "name": "Commit-0",
            "content": "// D:\\SCripts\\SiteLobos\\Servidor\\tests\\seed.js\r\n\r\nconst mongoose = require('mongoose');\r\nconst { schema: EmailTemplateSchema } = require('../models/EmailTemplate');\r\n\r\n/**\r\n * Insere os dados essenciais na base de dados de teste.\r\n * Atualmente, insere os templates de e-mail necess√°rios para as rotas de autentica√ß√£o.\r\n */\r\nconst seedDatabase = async () => {\r\n    // Obt√©m o modelo a partir da conex√£o de teste ativa\r\n    const EmailTemplate = mongoose.model('EmailTemplate', EmailTemplateSchema);\r\n\r\n    // Cria os templates de e-mail que as nossas rotas precisam para funcionar\r\n    await EmailTemplate.create([\r\n        {\r\n            name: 'emailVerification',\r\n            subject: 'Verifique o seu e-mail',\r\n            body: '<h1>Bem-vindo!</h1><p>Clique aqui para verificar: {{verificationLink}}</p>'\r\n        },\r\n        {\r\n            name: 'passwordReset',\r\n            subject: 'Recupera√ß√£o de Senha',\r\n            body: '<h1>Recupera√ß√£o</h1><p>Clique aqui para redefinir: {{resetLink}}</p>'\r\n        },\r\n        {\r\n            name: 'dailyReport',\r\n            subject: 'Relat√≥rio Di√°rio de Boletos',\r\n            body: '<h1>Relat√≥rio para {{companyName}}</h1><div>{{parcelsHtml}}</div>'\r\n        }\r\n    ]);\r\n\r\n    console.log('üå± Base de dados de teste semeada com templates de e-mail.');\r\n};\r\n\r\nmodule.exports = { seedDatabase };"
        }
    ]
}