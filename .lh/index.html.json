{
    "sourceFile": "Index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 221,
            "patches": [
                {
                    "date": 1752239206847,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752243617335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -491,8 +491,73 @@\n             </form>\r\n         </div>\r\n     </div>\r\n \r\n+    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl\">\r\n+        <div class=\"flex justify-between items-center mb-6\">\r\n+            <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Permissões dos Papéis</h3>\r\n+            <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                <i class=\"fas fa-times\"></i>\r\n+            </button>\r\n+        </div>\r\n+\r\n+        <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+            <div>\r\n+                <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Gerente</h4>\r\n+                <div class=\"space-y-3 pl-4\" data-role=\"Gerente\">\r\n+                    <div class=\"flex items-center\">\r\n+                        <input id=\"gerente-canCreate\" type=\"checkbox\" name=\"gerente-canCreate\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded permission-check\">\r\n+                        <label for=\"gerente-canCreate\" class=\"ml-3 block text-sm font-medium text-gray-300\">Pode Cadastrar Boletos</label>\r\n+                    </div>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n+                        <div class=\"pt-2 space-y-2\">\r\n+                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-none\" value=\"none\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n+                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-own\" value=\"own\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n+                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-all\" value=\"all\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n+                        </div>\r\n+                    </fieldset>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n+                        <div class=\"pt-2 space-y-2\">\r\n+                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-none\" value=\"none\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n+                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-own\" value=\"own\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n+                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-all\" value=\"all\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n+                        </div>\r\n+                    </fieldset>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div>\r\n+                <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Funcionário</h4>\r\n+                <div class=\"space-y-3 pl-4\" data-role=\"Funcionário\">\r\n+                    <div class=\"flex items-center\">\r\n+                        <input id=\"funcionario-canCreate\" type=\"checkbox\" name=\"funcionario-canCreate\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded permission-check\">\r\n+                        <label for=\"funcionario-canCreate\" class=\"ml-3 block text-sm font-medium text-gray-300\">Pode Cadastrar Boletos</label>\r\n+                    </div>\r\n+                     <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n+                        <div class=\"pt-2 space-y-2\">\r\n+                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-none\" value=\"none\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n+                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-own\" value=\"own\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n+                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-all\" value=\"all\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n+                        </div>\r\n+                    </fieldset>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n+                        <div class=\"pt-2 space-y-2\">\r\n+                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-none\" value=\"none\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n+                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-own\" value=\"own\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n+                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-all\" value=\"all\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n+                        </div>\r\n+                    </fieldset>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+</div>\r\n+\r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n             <div class=\"flex justify-between items-center mb-4\">\r\n"
                },
                {
                    "date": 1752244080048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -500,63 +500,64 @@\n                 <i class=\"fas fa-times\"></i>\r\n             </button>\r\n         </div>\r\n \r\n-        <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n-            <div>\r\n-                <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Gerente</h4>\r\n-                <div class=\"space-y-3 pl-4\" data-role=\"Gerente\">\r\n-                    <div class=\"flex items-center\">\r\n-                        <input id=\"gerente-canCreate\" type=\"checkbox\" name=\"gerente-canCreate\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded permission-check\">\r\n-                        <label for=\"gerente-canCreate\" class=\"ml-3 block text-sm font-medium text-gray-300\">Pode Cadastrar Boletos</label>\r\n+    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Permissões dos Papéis</h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+                <div>\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Gerente</h4>\r\n+                    <div class=\"space-y-3 pl-4\" data-role=\"Gerente\">\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"pt-2 space-x-4 flex\">\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-none\" value=\"none\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-own\" value=\"own\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-all\" value=\"all\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"pt-2 space-x-4 flex\">\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-none\" value=\"none\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-own\" value=\"own\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-all\" value=\"all\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n-                        <div class=\"pt-2 space-y-2\">\r\n-                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-none\" value=\"none\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n-                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-own\" value=\"own\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n-                            <div class=\"flex items-center\"><input id=\"gerente-canUpdate-all\" value=\"all\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n-                        </div>\r\n-                    </fieldset>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n-                        <div class=\"pt-2 space-y-2\">\r\n-                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-none\" value=\"none\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n-                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-own\" value=\"own\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n-                             <div class=\"flex items-center\"><input id=\"gerente-canDelete-all\" value=\"all\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n-                        </div>\r\n-                    </fieldset>\r\n                 </div>\r\n-            </div>\r\n \r\n-            <div>\r\n-                <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Funcionário</h4>\r\n-                <div class=\"space-y-3 pl-4\" data-role=\"Funcionário\">\r\n-                    <div class=\"flex items-center\">\r\n-                        <input id=\"funcionario-canCreate\" type=\"checkbox\" name=\"funcionario-canCreate\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded permission-check\">\r\n-                        <label for=\"funcionario-canCreate\" class=\"ml-3 block text-sm font-medium text-gray-300\">Pode Cadastrar Boletos</label>\r\n+                <div>\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Funcionário</h4>\r\n+                    <div class=\"space-y-3 pl-4\" data-role=\"Funcionário\">\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"pt-2 space-x-4 flex\">\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-none\" value=\"none\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-own\" value=\"own\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-all\" value=\"all\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"pt-2 space-x-4 flex\">\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-none\" value=\"none\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-own\" value=\"own\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n+                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-all\" value=\"all\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n-                     <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n-                        <div class=\"pt-2 space-y-2\">\r\n-                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-none\" value=\"none\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n-                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-own\" value=\"own\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n-                            <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-all\" value=\"all\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n-                        </div>\r\n-                    </fieldset>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n-                        <div class=\"pt-2 space-y-2\">\r\n-                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-none\" value=\"none\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-none\" class=\"ml-3 text-sm\">Nenhuma</label></div>\r\n-                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-own\" value=\"own\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-own\" class=\"ml-3 text-sm\">Apenas os próprios</label></div>\r\n-                             <div class=\"flex items-center\"><input id=\"funcionario-canDelete-all\" value=\"all\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-all\" class=\"ml-3 text-sm\">Todos</label></div>\r\n-                        </div>\r\n-                    </fieldset>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n     </div>\r\n-</div>\r\n \r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n"
                },
                {
                    "date": 1752250594262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -492,17 +492,8 @@\n         </div>\r\n     </div>\r\n \r\n     <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl\">\r\n-        <div class=\"flex justify-between items-center mb-6\">\r\n-            <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Permissões dos Papéis</h3>\r\n-            <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                <i class=\"fas fa-times\"></i>\r\n-            </button>\r\n-        </div>\r\n-\r\n-    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl\">\r\n             <div class=\"flex justify-between items-center mb-6\">\r\n                 <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Permissões dos Papéis</h3>\r\n                 <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n"
                },
                {
                    "date": 1752274849448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Organizador de Boletos</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n"
                },
                {
                    "date": 1752274862215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Organizador de Boletos</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n"
                },
                {
                    "date": 1752275237154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -570,9 +570,9 @@\n             </div>\r\n         </div>\r\n     </div>\r\n     <button id=\"openAddBillModalBtn\"\r\n-        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30\">\r\n+        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n         <i class=\"fas fa-plus\"></i>\r\n     </button>\r\n \r\n     <script src=\"script.js\"></script>\r\n"
                },
                {
                    "date": 1752275668997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -409,9 +409,12 @@\n     <div id=\"companyDetailsModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n             <div class=\"flex justify-between items-center mb-4\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalCompanyName\"></h3>\r\n+                <div>\r\n+                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyNameInput\" class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n                 <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n                     <i class=\"fas fa-times\"></i>\r\n                 </button>\r\n             </div>\r\n"
                },
                {
                    "date": 1752335155306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,628 @@\n+<!DOCTYPE html>\r\n+<html lang=\"pt-BR\">\r\n+\r\n+<head>\r\n+    <meta charset=\"UTF-8\">\r\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n+    <title>Organizador de Boletos</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n+</head>\r\n+\r\n+<body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n+\r\n+    <div id=\"toastMessage\"\r\n+        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n+    </div>\r\n+\r\n+    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center\">\r\n+        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Bem-vindo!</h2>\r\n+        <p class=\"text-gray-300 mb-6\">Escolha como deseja fazer o login:</p>\r\n+        <button id=\"showCnpjLoginBtn\"\r\n+            class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 mb-4\">\r\n+            Login de Empresa\r\n+        </button>\r\n+        <button id=\"showAdminLoginBtn\"\r\n+            class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n+            Login de Administrador\r\n+        </button>\r\n+    </div>\r\n+\r\n+    <div id=\"cnpjLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n+        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Login da Empresa</h2>\r\n+        <form id=\"cnpjLoginForm\" class=\"space-y-4\">\r\n+            <div>\r\n+                <label for=\"cnpjInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n+                <input type=\"text\" id=\"cnpjInput\" placeholder=\"XX.XXX.XXX/YYYY-ZZ\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+            </div>\r\n+            <div>\r\n+                <label for=\"cnpjPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n+                    Empresa</label>\r\n+                <input type=\"password\" id=\"cnpjPasswordInput\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+            </div>\r\n+            <button type=\"submit\"\r\n+                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n+                Entrar na Empresa\r\n+            </button>\r\n+            <button type=\"button\" id=\"backToInitialLoginBtnCnpj\"\r\n+                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n+                Voltar\r\n+            </button>\r\n+        </form>\r\n+    </div>\r\n+\r\n+    <div id=\"adminLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n+        <h2 class=\"text-2xl font-bold text-center text-red-400 mb-6\">Login de Administrador</h2>\r\n+        <form id=\"adminLoginForm\" class=\"space-y-4\">\r\n+            <div>\r\n+                <label for=\"adminUsernameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Usuário</label>\r\n+                <input type=\"text\" id=\"adminUsernameInput\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n+            </div>\r\n+            <div>\r\n+                <label for=\"adminPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                <input type=\"password\" id=\"adminPasswordInput\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n+            </div>\r\n+            <button type=\"submit\"\r\n+                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200\">\r\n+                Entrar como Admin\r\n+            </button>\r\n+            <button type=\"button\" id=\"backToInitialLoginBtnAdmin\"\r\n+                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 mt-4\">\r\n+                Voltar\r\n+            </button>\r\n+        </form>\r\n+    </div>\r\n+\r\n+    <div id=\"userLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n+        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\" id=\"welcomeUserText\"></h2>\r\n+        <h3 class=\"text-xl font-semibold text-center text-gray-300 mb-6\">Login de Usuário</h3>\r\n+        <form id=\"userLoginForm\" class=\"space-y-4\">\r\n+            <div>\r\n+                <label for=\"userInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de Usuário</label>\r\n+                <input type=\"text\" id=\"userInput\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+            </div>\r\n+            <div>\r\n+                <label for=\"userPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha do\r\n+                    Usuário</label>\r\n+                <input type=\"password\" id=\"userPasswordInput\" required\r\n+                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+            </div>\r\n+            <button type=\"submit\"\r\n+                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n+                Entrar como Usuário\r\n+            </button>\r\n+            <button type=\"button\" id=\"registerUserBtn\"\r\n+                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n+                Registrar Novo Usuário\r\n+            </button>\r\n+            <button type=\"button\" id=\"backToCnpjLoginBtn\"\r\n+                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n+                Voltar para Login de Empresa\r\n+            </button>\r\n+        </form>\r\n+    </div>\r\n+\r\n+    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n+        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n+        <button id=\"adminLogoutBtn\"\r\n+            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n+\r\n+        <div class=\"mb-6 flex justify-center space-x-4\">\r\n+            <button id=\"createCompanyBtn\"\r\n+                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n+            </button>\r\n+        </div>\r\n+\r\n+        <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n+            <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n+                Nenhuma empresa cadastrada ainda.\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n+        <header class=\"mb-10 text-center relative\">\r\n+            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n+                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n+            </h1>\r\n+            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n+            <div class=\"absolute top-0 right-0 flex items-center space-x-2\">\r\n+\r\n+                <button id=\"backToAdminBtn\"\r\n+                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n+                    Admin</button>\r\n+\r\n+                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n+                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-cog text-lg\"></i>\r\n+                    </button>\r\n+                    <div id=\"settingsDropdown\"\r\n+                        class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n+                        <a href=\"#\" id=\"menuEmpresa\"\r\n+                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n+                        <a href=\"#\" id=\"menuUsuarios\"\r\n+                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n+                        <a href=\"#\" id=\"menuPermissoes\"\r\n+                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n+            </div>\r\n+        </header>\r\n+\r\n+        <div>\r\n+            <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n+                <div class=\"flex justify-between items-center mb-4\">\r\n+                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n+                        <i class=\"fas fa-calendar-alt mr-2 text-indigo-400\"></i> Calendário de Boletos\r\n+                    </h2>\r\n+                    <div class=\"text-sm text-gray-400\">\r\n+                        <span id=\"totalBills\">0</span> parcelas registradas\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"monthlySummary\"\r\n+                    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n+                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                        <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n+                        <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                    </div>\r\n+                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n+                        <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                    </div>\r\n+                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n+                        <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n+                    </div>\r\n+                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                        <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n+                        <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n+\r\n+                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n+                        <div class=\"flex justify-between items-center mb-4\">\r\n+                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                                <i class=\"fas fa-chevron-left\"></i>\r\n+                            </button>\r\n+                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                                <i class=\"fas fa-chevron-right\"></i>\r\n+                            </button>\r\n+                        </div>\r\n+\r\n+                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n+                        </div>\r\n+\r\n+                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n+                    <div class=\"flex justify-between items-center mb-4\">\r\n+                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-left\"></i>\r\n+                        </button>\r\n+                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-right\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n+                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n+                            dia.</div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n+                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n+                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n+                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n+                </div>\r\n+\r\n+                <div id=\"addBillModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n+                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n+                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n+\r\n+                            <button id=\"closeAddBillModalBtn\"\r\n+                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+\r\n+                            <div id=\"installmentsPreview\"\r\n+                                class=\"hidden mb-8 bg-gray-900 rounded-lg shadow-md p-6 fade-in\">\r\n+                                <div class=\"flex justify-between items-center mb-4\">\r\n+                                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n+                                        <i class=\"fas fa-list-check mr-2 text-indigo-400\"></i> Pré-visualização das\r\n+                                        Parcelas\r\n+                                    </h2>\r\n+                                    <div class=\"flex items-center space-x-4\">\r\n+                                        <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n+                                        <button id=\"addToOrganizer\"\r\n+                                            class=\"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n+                                            <i class=\"fas fa-save mr-1\"></i> Adicionar ao Organizador\r\n+                                        </button>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <div id=\"installmentsList\" class=\"space-y-3 max-h-64 overflow-y-auto pr-2\">\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n+                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n+                            </h2>\r\n+\r\n+                            <form id=\"billForm\" class=\"space-y-4\">\r\n+                                <div>\r\n+                                    <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n+                                    </label>\r\n+                                    <input type=\"text\" id=\"billName\" required\r\n+                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n+                                    </label>\r\n+                                    <input type=\"date\" id=\"dueDate\" required\r\n+                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n+                                    </label>\r\n+                                    <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" required\r\n+                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                </div>\r\n+                                <div class=\"mb-4\">\r\n+                                    <label for=\"installments\" class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n+                                            class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n+                                    <input type=\"number\" id=\"installments\" placeholder=\"Digite a quantidade de parcelas\"\r\n+                                        min=\"1\"\r\n+                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre boletos\r\n+                                        (dias)\r\n+                                    </label>\r\n+                                    <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n+                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"barcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"fas fa-barcode mr-1 text-gray-400\"></i> Código de Barras (opcional)\r\n+                                    </label>\r\n+                                    <input type=\"text\" id=\"barcode\"\r\n+                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"\r\n+                                        placeholder=\"Ex: 0009999991234567890123456789012345678901234\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                        <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n+                                    </label>\r\n+                                    <textarea id=\"description\" rows=\"3\"\r\n+                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n+                                </div>\r\n+                                <button type=\"submit\"\r\n+                                    class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center justify-center\">\r\n+                                    <i class=\"fas fa-calculator mr-2\"></i> Calcular Parcelas\r\n+                                </button>\r\n+                                <button type=\"button\" id=\"clearFormBtn\"\r\n+                                    class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 flex items-center justify-center mt-2\">\r\n+                                    <i class=\"fas fa-times-circle mr-2\"></i> Limpar Formulário\r\n+                                </button>\r\n+                            </form>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+\r\n+    </div>\r\n+    </div>\r\n+\r\n+    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-4\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalBillName\"></h3>\r\n+                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div class=\"space-y-4\">\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n+                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n+                    <input type=\"date\" id=\"modalBillDate\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n+                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n+                        Barras</label>\r\n+                    <input type=\"text\" id=\"modalBillBarcode\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n+                        placeholder=\"Código de Barras\">\r\n+                </div>\r\n+\r\n+                <div class=\"mt-2\">\r\n+                    <button id=\"showFullScreenBarcodeBtn\"\r\n+                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n+                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div class=\"flex items-center mt-4\">\r\n+                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n+                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n+                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n+                </div>\r\n+\r\n+                <div class=\"flex justify-between pt-4\">\r\n+                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n+                        Salvar\r\n+                    </button>\r\n+                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n+                        Excluir Parcela\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n+                    <button id=\"deleteEntireBillBtn\"\r\n+                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n+                        Excluir Boleto Completo\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"companyDetailsModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-4\">\r\n+                <div>\r\n+                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyNameInput\" class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div class=\"space-y-4\">\r\n+                <p class=\"text-gray-300\">\r\n+                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n+                </p>\r\n+                <div>\r\n+                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n+                        Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n+                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n+                </div>\r\n+                <div class=\"mt-4 flex justify-end space-x-2\">\r\n+                    <button id=\"saveCompanyDetailsBtn\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n+                    </button>\r\n+                    <button id=\"addUserBtn\"\r\n+                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n+                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n+                    <button id=\"deleteCompanyBtn\"\r\n+                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n+                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"barcodeFullScreenModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\">\r\n+            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n+        </div>\r\n+        <button id=\"closeFullScreenBarcodeBtn\"\r\n+            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n+            Fechar\r\n+        </button>\r\n+    </div>\r\n+\r\n+    <div id=\"quickUserAddModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n+                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n+                        Usuário</label>\r\n+                    <input type=\"text\" id=\"quickAddUsername\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                    <input type=\"password\" id=\"quickAddPassword\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div class=\"pt-4 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n+                        Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>\r\n+                    Gerenciar Permissões dos Papéis\r\n+                </h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div class=\"space-y-6\">\r\n+\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n+                        \r\n+                        <div class=\"space-y-3\">\r\n+                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n+                                <i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>\r\n+                                Boletos\r\n+                            </p>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos de outros</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos de outros</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                        </div>\r\n+\r\n+                        <div class=\"space-y-3\">\r\n+                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n+                                <i class=\"fas fa-users w-5 mr-1 text-gray-400\"></i>\r\n+                                Usuários\r\n+                            </p>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode convidar usuários</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode remover usuários</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                        </div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+                \r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n+                        \r\n+                        <div class=\"space-y-3\">\r\n+                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n+                                <i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>\r\n+                                Boletos\r\n+                            </p>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode editar apenas boletos próprios</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir apenas boletos próprios</span>\r\n+                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                            </label>\r\n+                        </div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+\r\n+            </div>\r\n+\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-save mr-2\"></i>\r\n+                    Salvar Alterações\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"manageUsersModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-4\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Usuários da Empresa</h3>\r\n+                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div id=\"companyUsersList\" class=\"space-y-3 mb-4\">\r\n+            </div>\r\n+\r\n+            <div class=\"mt-4 flex justify-end\">\r\n+                <button id=\"addCompanyUserBtn\"\r\n+                    class=\"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200\">\r\n+                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Usuário\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+    <button id=\"openAddBillModalBtn\"\r\n+        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n+        <i class=\"fas fa-plus\"></i>\r\n+    </button>\r\n+\r\n+    <script src=\"script.js\"></script>\r\n+\r\n+</body>\r\n+\r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752335305198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -506,89 +506,60 @@\n                     <i class=\"fas fa-times text-xl\"></i>\r\n                 </button>\r\n             </div>\r\n \r\n-            <div class=\"space-y-6\">\r\n-\r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Gerente\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n                     <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n-                        \r\n                         <div class=\"space-y-3\">\r\n-                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n-                                <i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>\r\n-                                Boletos\r\n-                            </p>\r\n+                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\"><i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>Boletos</p>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n                                 <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos de outros</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos (todos)</span>\r\n+                                <input type=\"checkbox\" id=\"gerente-canUpdate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos de outros</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos (todos)</span>\r\n+                                <input type=\"checkbox\" id=\"gerente-canDelete-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                         </div>\r\n-\r\n-                        <div class=\"space-y-3\">\r\n-                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n-                                <i class=\"fas fa-users w-5 mr-1 text-gray-400\"></i>\r\n-                                Usuários\r\n-                            </p>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode convidar usuários</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode remover usuários</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n-                        </div>\r\n-\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Funcionário\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n                     <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n-                        \r\n                         <div class=\"space-y-3\">\r\n-                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\">\r\n-                                <i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>\r\n-                                Boletos\r\n-                            </p>\r\n+                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\"><i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>Boletos</p>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n                                 <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode editar apenas boletos próprios</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\" checked>\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos (apenas próprios)</span>\r\n+                                <input type=\"checkbox\" id=\"funcionario-canUpdate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                             <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir apenas boletos próprios</span>\r\n-                                <input type=\"checkbox\" value=\"\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos (apenas próprios)</span>\r\n+                                <input type=\"checkbox\" id=\"funcionario-canDelete-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n                         </div>\r\n-\r\n                     </div>\r\n                 </div>\r\n-\r\n             </div>\r\n \r\n             <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-                <button class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n                     <i class=\"fas fa-save mr-2\"></i>\r\n                     Salvar Alterações\r\n                 </button>\r\n             </div>\r\n@@ -624,590 +595,5 @@\n     <script src=\"script.js\"></script>\r\n \r\n </body>\r\n \r\n-</html>\n-<!DOCTYPE html>\r\n-<html lang=\"pt-BR\">\r\n-\r\n-<head>\r\n-    <meta charset=\"UTF-8\">\r\n-    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>Organizador de Boletos</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n-    <link rel=\"stylesheet\" href=\"style.css\">\r\n-</head>\r\n-\r\n-<body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n-\r\n-    <div id=\"toastMessage\"\r\n-        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n-    </div>\r\n-\r\n-    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Bem-vindo!</h2>\r\n-        <p class=\"text-gray-300 mb-6\">Escolha como deseja fazer o login:</p>\r\n-        <button id=\"showCnpjLoginBtn\"\r\n-            class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 mb-4\">\r\n-            Login de Empresa\r\n-        </button>\r\n-        <button id=\"showAdminLoginBtn\"\r\n-            class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n-            Login de Administrador\r\n-        </button>\r\n-    </div>\r\n-\r\n-    <div id=\"cnpjLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Login da Empresa</h2>\r\n-        <form id=\"cnpjLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"cnpjInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n-                <input type=\"text\" id=\"cnpjInput\" placeholder=\"XX.XXX.XXX/YYYY-ZZ\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <div>\r\n-                <label for=\"cnpjPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n-                    Empresa</label>\r\n-                <input type=\"password\" id=\"cnpjPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n-                Entrar na Empresa\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToInitialLoginBtnCnpj\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n-                Voltar\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n-\r\n-    <div id=\"adminLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-red-400 mb-6\">Login de Administrador</h2>\r\n-        <form id=\"adminLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"adminUsernameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Usuário</label>\r\n-                <input type=\"text\" id=\"adminUsernameInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n-            </div>\r\n-            <div>\r\n-                <label for=\"adminPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                <input type=\"password\" id=\"adminPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n-            </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200\">\r\n-                Entrar como Admin\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToInitialLoginBtnAdmin\"\r\n-                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 mt-4\">\r\n-                Voltar\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n-\r\n-    <div id=\"userLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\" id=\"welcomeUserText\"></h2>\r\n-        <h3 class=\"text-xl font-semibold text-center text-gray-300 mb-6\">Login de Usuário</h3>\r\n-        <form id=\"userLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"userInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de Usuário</label>\r\n-                <input type=\"text\" id=\"userInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <div>\r\n-                <label for=\"userPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha do\r\n-                    Usuário</label>\r\n-                <input type=\"password\" id=\"userPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n-                Entrar como Usuário\r\n-            </button>\r\n-            <button type=\"button\" id=\"registerUserBtn\"\r\n-                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n-                Registrar Novo Usuário\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToCnpjLoginBtn\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n-                Voltar para Login de Empresa\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n-\r\n-    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n-        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n-        <button id=\"adminLogoutBtn\"\r\n-            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n-\r\n-        <div class=\"mb-6 flex justify-center space-x-4\">\r\n-            <button id=\"createCompanyBtn\"\r\n-                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n-                <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n-            </button>\r\n-        </div>\r\n-\r\n-        <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n-            <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n-                Nenhuma empresa cadastrada ainda.\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n-        <header class=\"mb-10 text-center relative\">\r\n-            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n-                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n-            </h1>\r\n-            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n-            <div class=\"absolute top-0 right-0 flex items-center space-x-2\">\r\n-\r\n-                <button id=\"backToAdminBtn\"\r\n-                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n-                    Admin</button>\r\n-\r\n-                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n-                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n-                        <i class=\"fas fa-cog text-lg\"></i>\r\n-                    </button>\r\n-                    <div id=\"settingsDropdown\"\r\n-                        class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n-                        <a href=\"#\" id=\"menuEmpresa\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n-                        <a href=\"#\" id=\"menuUsuarios\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n-                        <a href=\"#\" id=\"menuPermissoes\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n-            </div>\r\n-        </header>\r\n-\r\n-        <div>\r\n-            <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n-                <div class=\"flex justify-between items-center mb-4\">\r\n-                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n-                        <i class=\"fas fa-calendar-alt mr-2 text-indigo-400\"></i> Calendário de Boletos\r\n-                    </h2>\r\n-                    <div class=\"text-sm text-gray-400\">\r\n-                        <span id=\"totalBills\">0</span> parcelas registradas\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                <div id=\"monthlySummary\"\r\n-                    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n-                        <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n-                    </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n-                        <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n-                    </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n-                        <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n-                    </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n-                        <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n-                    </div>\r\n-                </div>\r\n-                <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n-\r\n-                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n-                        <div class=\"flex justify-between items-center mb-4\">\r\n-                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                                <i class=\"fas fa-chevron-left\"></i>\r\n-                            </button>\r\n-                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n-                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                                <i class=\"fas fa-chevron-right\"></i>\r\n-                            </button>\r\n-                        </div>\r\n-\r\n-                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n-                        </div>\r\n-\r\n-                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n-                    <div class=\"flex justify-between items-center mb-4\">\r\n-                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                            <i class=\"fas fa-chevron-left\"></i>\r\n-                        </button>\r\n-                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n-                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                            <i class=\"fas fa-chevron-right\"></i>\r\n-                        </button>\r\n-                    </div>\r\n-                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n-                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n-                            dia.</div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n-                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n-                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n-                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n-                </div>\r\n-\r\n-                <div id=\"addBillModal\"\r\n-                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n-                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n-                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n-\r\n-                            <button id=\"closeAddBillModalBtn\"\r\n-                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n-                                <i class=\"fas fa-times text-xl\"></i>\r\n-                            </button>\r\n-\r\n-                            <div id=\"installmentsPreview\"\r\n-                                class=\"hidden mb-8 bg-gray-900 rounded-lg shadow-md p-6 fade-in\">\r\n-                                <div class=\"flex justify-between items-center mb-4\">\r\n-                                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n-                                        <i class=\"fas fa-list-check mr-2 text-indigo-400\"></i> Pré-visualização das\r\n-                                        Parcelas\r\n-                                    </h2>\r\n-                                    <div class=\"flex items-center space-x-4\">\r\n-                                        <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n-                                        <button id=\"addToOrganizer\"\r\n-                                            class=\"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n-                                            <i class=\"fas fa-save mr-1\"></i> Adicionar ao Organizador\r\n-                                        </button>\r\n-                                    </div>\r\n-                                </div>\r\n-                                <div id=\"installmentsList\" class=\"space-y-3 max-h-64 overflow-y-auto pr-2\">\r\n-                                </div>\r\n-                            </div>\r\n-\r\n-                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n-                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n-                            </h2>\r\n-\r\n-                            <form id=\"billForm\" class=\"space-y-4\">\r\n-                                <div>\r\n-                                    <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n-                                    </label>\r\n-                                    <input type=\"text\" id=\"billName\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n-                                    </label>\r\n-                                    <input type=\"date\" id=\"dueDate\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n-                                    </label>\r\n-                                    <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-                                </div>\r\n-                                <div class=\"mb-4\">\r\n-                                    <label for=\"installments\" class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n-                                            class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n-                                    <input type=\"number\" id=\"installments\" placeholder=\"Digite a quantidade de parcelas\"\r\n-                                        min=\"1\"\r\n-                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre boletos\r\n-                                        (dias)\r\n-                                    </label>\r\n-                                    <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n-                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"barcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-barcode mr-1 text-gray-400\"></i> Código de Barras (opcional)\r\n-                                    </label>\r\n-                                    <input type=\"text\" id=\"barcode\"\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"\r\n-                                        placeholder=\"Ex: 0009999991234567890123456789012345678901234\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n-                                    </label>\r\n-                                    <textarea id=\"description\" rows=\"3\"\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n-                                </div>\r\n-                                <button type=\"submit\"\r\n-                                    class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center justify-center\">\r\n-                                    <i class=\"fas fa-calculator mr-2\"></i> Calcular Parcelas\r\n-                                </button>\r\n-                                <button type=\"button\" id=\"clearFormBtn\"\r\n-                                    class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 flex items-center justify-center mt-2\">\r\n-                                    <i class=\"fas fa-times-circle mr-2\"></i> Limpar Formulário\r\n-                                </button>\r\n-                            </form>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-\r\n-    </div>\r\n-    </div>\r\n-\r\n-    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalBillName\"></h3>\r\n-                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div class=\"space-y-4\">\r\n-                <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n-                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n-                </div>\r\n-                <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n-                    <input type=\"date\" id=\"modalBillDate\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n-                </div>\r\n-                <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n-                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n-                </div>\r\n-\r\n-                <div>\r\n-                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n-                        Barras</label>\r\n-                    <input type=\"text\" id=\"modalBillBarcode\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n-                        placeholder=\"Código de Barras\">\r\n-                </div>\r\n-\r\n-                <div class=\"mt-2\">\r\n-                    <button id=\"showFullScreenBarcodeBtn\"\r\n-                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n-                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n-                    </button>\r\n-                </div>\r\n-\r\n-                <div class=\"flex items-center mt-4\">\r\n-                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n-                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n-                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n-                </div>\r\n-\r\n-                <div class=\"flex justify-between pt-4\">\r\n-                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n-                        Salvar\r\n-                    </button>\r\n-                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n-                        Excluir Parcela\r\n-                    </button>\r\n-                </div>\r\n-                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n-                    <button id=\"deleteEntireBillBtn\"\r\n-                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n-                        Excluir Boleto Completo\r\n-                    </button>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"companyDetailsModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <div>\r\n-                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n-                    <input type=\"text\" id=\"modalCompanyNameInput\" class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div class=\"space-y-4\">\r\n-                <p class=\"text-gray-300\">\r\n-                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n-                </p>\r\n-                <div>\r\n-                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n-                        Empresa</label>\r\n-                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n-                </div>\r\n-                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n-                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n-                </div>\r\n-                <div class=\"mt-4 flex justify-end space-x-2\">\r\n-                    <button id=\"saveCompanyDetailsBtn\"\r\n-                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n-                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n-                    </button>\r\n-                    <button id=\"addUserBtn\"\r\n-                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n-                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n-                    </button>\r\n-                </div>\r\n-                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n-                    <button id=\"deleteCompanyBtn\"\r\n-                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n-                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n-                    </button>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"barcodeFullScreenModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\">\r\n-            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n-        </div>\r\n-        <button id=\"closeFullScreenBarcodeBtn\"\r\n-            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n-            Fechar\r\n-        </button>\r\n-    </div>\r\n-\r\n-    <div id=\"quickUserAddModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n-                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n-                <div>\r\n-                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n-                        Usuário</label>\r\n-                    <input type=\"text\" id=\"quickAddUsername\" required\r\n-                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                    <input type=\"password\" id=\"quickAddPassword\" required\r\n-                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div class=\"pt-4 flex justify-end space-x-3\">\r\n-                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n-                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n-                    <button type=\"submit\"\r\n-                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n-                        Usuário</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Permissões dos Papéis</h3>\r\n-                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n-                <div>\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Gerente</h4>\r\n-                    <div class=\"space-y-3 pl-4\" data-role=\"Gerente\">\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"pt-2 space-x-4 flex\">\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-none\" value=\"none\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-own\" value=\"own\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canUpdate-all\" value=\"all\" type=\"radio\" name=\"gerente-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canUpdate-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"pt-2 space-x-4 flex\">\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-none\" value=\"none\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-own\" value=\"own\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"gerente-canDelete-all\" value=\"all\" type=\"radio\" name=\"gerente-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"gerente-canDelete-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                <div>\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 border-b border-gray-700 pb-2 mb-3\">Funcionário</h4>\r\n-                    <div class=\"space-y-3 pl-4\" data-role=\"Funcionário\">\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"pt-2 space-x-4 flex\">\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-none\" value=\"none\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-own\" value=\"own\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canUpdate-all\" value=\"all\" type=\"radio\" name=\"funcionario-canUpdate\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canUpdate-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"pt-2 space-x-4 flex\">\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-none\" value=\"none\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-none\" class=\"ml-2 text-sm\">Nenhuma</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-own\" value=\"own\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-own\" class=\"ml-2 text-sm\">Apenas os próprios</label></div>\r\n-                                <div class=\"flex items-center\"><input id=\"funcionario-canDelete-all\" value=\"all\" type=\"radio\" name=\"funcionario-canDelete\" class=\"h-4 w-4 permission-radio\"><label for=\"funcionario-canDelete-all\" class=\"ml-2 text-sm\">Todos</label></div>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"manageUsersModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Usuários da Empresa</h3>\r\n-                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div id=\"companyUsersList\" class=\"space-y-3 mb-4\">\r\n-            </div>\r\n-\r\n-            <div class=\"mt-4 flex justify-end\">\r\n-                <button id=\"addCompanyUserBtn\"\r\n-                    class=\"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200\">\r\n-                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Usuário\r\n-                </button>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-    <button id=\"openAddBillModalBtn\"\r\n-        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n-        <i class=\"fas fa-plus\"></i>\r\n-    </button>\r\n-\r\n-    <script src=\"script.js\"></script>\r\n-\r\n-</body>\r\n-\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752335932359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -495,9 +495,9 @@\n         </div>\r\n     </div>\r\n \r\n     <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n             <div class=\"flex justify-between items-center mb-6\">\r\n                 <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n                     <i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>\r\n                     Gerenciar Permissões dos Papéis\r\n@@ -507,53 +507,64 @@\n                 </button>\r\n             </div>\r\n \r\n             <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+\r\n                 <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Gerente\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n-                        <div class=\"space-y-3\">\r\n-                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\"><i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>Boletos</p>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n                                 <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos (todos)</span>\r\n-                                <input type=\"checkbox\" id=\"gerente-canUpdate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos (todos)</span>\r\n-                                <input type=\"checkbox\" id=\"gerente-canDelete-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n                         </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n                 </div>\r\n                 \r\n                 <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Funcionário\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4\">\r\n-                        <div class=\"space-y-3\">\r\n-                            <p class=\"font-semibold text-gray-300 border-b border-gray-700 pb-1\"><i class=\"fas fa-file-invoice-dollar w-5 mr-1 text-gray-400\"></i>Boletos</p>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n                                 <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n                             </label>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode editar boletos (apenas próprios)</span>\r\n-                                <input type=\"checkbox\" id=\"funcionario-canUpdate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n-                            <label class=\"inline-flex items-center cursor-pointer justify-between w-full\">\r\n-                                <span class=\"text-sm font-medium text-gray-300\">Pode excluir boletos (apenas próprios)</span>\r\n-                                <input type=\"checkbox\" id=\"funcionario-canDelete-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n-                            </label>\r\n                         </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n \r\n"
                },
                {
                    "date": 1752336339659,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -497,20 +497,15 @@\n \r\n     <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n             <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n-                    <i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>\r\n-                    Gerenciar Permissões dos Papéis\r\n-                </h3>\r\n-                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\">\r\n-                    <i class=\"fas fa-times text-xl\"></i>\r\n-                </button>\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n             </div>\r\n \r\n             <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Gerente\">\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n                     <div class=\"space-y-4\">\r\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n@@ -521,25 +516,25 @@\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n                             <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                             </div>\r\n                         </fieldset>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n                             <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                             </div>\r\n                         </fieldset>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\" data-role=\"Funcionário\">\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n                     <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n                     <div class=\"space-y-4\">\r\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n@@ -550,30 +545,27 @@\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n                             <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                             </div>\r\n                         </fieldset>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n                             <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600\"><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                             </div>\r\n                         </fieldset>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n \r\n             <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n-                    <i class=\"fas fa-save mr-2\"></i>\r\n-                    Salvar Alterações\r\n-                </button>\r\n+                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n             </div>\r\n         </div>\r\n     </div>\r\n \r\n"
                },
                {
                    "date": 1752336585390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Organizador de Boletos</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n"
                },
                {
                    "date": 1752337081216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Organizador de Boletos</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n"
                },
                {
                    "date": 1752337363744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -510,9 +510,11 @@\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n+                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform peer-checked:translate-x-full\"></div>\r\n+                                </div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n@@ -539,9 +541,11 @@\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600\"></div>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n+                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform peer-checked:translate-x-full\"></div>\r\n+                                </div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n"
                },
                {
                    "date": 1752337621953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -511,9 +511,9 @@\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n                                 <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n-                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform peer-checked:translate-x-full\"></div>\r\n+                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform duration-300 ease-in-out peer-checked:translate-x-full\"></div>\r\n                                 </div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n@@ -542,9 +542,9 @@\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n                                 <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n-                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform peer-checked:translate-x-full\"></div>\r\n+                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform duration-300 ease-in-out peer-checked:translate-x-full\"></div>\r\n                                 </div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n"
                },
                {
                    "date": 1752339724750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -510,11 +510,9 @@\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n-                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform duration-300 ease-in-out peer-checked:translate-x-full\"></div>\r\n-                                </div>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n@@ -541,11 +539,9 @@\n                         <div class=\"flex items-center justify-between\">\r\n                             <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n                             <label class=\"inline-flex items-center cursor-pointer\">\r\n                                 <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer flex items-center peer-checked:bg-indigo-600\">\r\n-                                    <div class=\"absolute h-5 w-5 bg-white rounded-full start-0.5 transition-transform duration-300 ease-in-out peer-checked:translate-x-full\"></div>\r\n-                                </div>\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n                             </label>\r\n                         </div>\r\n                         <fieldset>\r\n                             <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n"
                },
                {
                    "date": 1752339838248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -494,81 +494,81 @@\n             </form>\r\n         </div>\r\n     </div>\r\n \r\n-    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n-                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n-            </div>\r\n+<div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n+        <div class=\"flex justify-between items-center mb-6\">\r\n+            <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n+            <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n+        </div>\r\n \r\n-            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+        <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n-                    <div class=\"space-y-4\">\r\n-                        <div class=\"flex items-center justify-between\">\r\n-                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                            <label class=\"inline-flex items-center cursor-pointer\">\r\n-                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                            </label>\r\n+            <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n+                <div class=\"space-y-4\">\r\n+                    <div class=\"flex items-center justify-between\">\r\n+                        <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                        <label class=\"inline-flex items-center cursor-pointer\">\r\n+                            <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n+                            <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n+                        </label>\r\n+                    </div>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                        <div class=\"flex items-center space-x-6\">\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                         </div>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n+                    </fieldset>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                        <div class=\"flex items-center space-x-6\">\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                        </div>\r\n+                    </fieldset>\r\n+                </div>\r\n+            </div>\r\n+            \r\n+            <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n+                <div class=\"space-y-4\">\r\n+                    <div class=\"flex items-center justify-between\">\r\n+                        <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                        <label class=\"inline-flex items-center cursor-pointer\">\r\n+                            <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n+                             <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n+                        </label>\r\n                     </div>\r\n-                </div>\r\n-                \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n-                    <div class=\"space-y-4\">\r\n-                        <div class=\"flex items-center justify-between\">\r\n-                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                            <label class=\"inline-flex items-center cursor-pointer\">\r\n-                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                            </label>\r\n+                     <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                        <div class=\"flex items-center space-x-6\">\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n                         </div>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                    </div>\r\n+                    </fieldset>\r\n+                    <fieldset>\r\n+                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                        <div class=\"flex items-center space-x-6\">\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                        </div>\r\n+                    </fieldset>\r\n                 </div>\r\n             </div>\r\n+        </div>\r\n \r\n-            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n-            </div>\r\n+        <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+            <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n         </div>\r\n     </div>\r\n+</div>\r\n \r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n"
                },
                {
                    "date": 1752340440842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -494,81 +494,121 @@\n             </form>\r\n         </div>\r\n     </div>\r\n \r\n-<div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n-        <div class=\"flex justify-between items-center mb-6\">\r\n-            <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n-            <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n+    <div id=\"companyInfoModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Detalhes da Empresa\r\n+                </h3>\r\n+                <button id=\"closeCompanyInfoModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n+                    <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n+                    <input type=\"text\" id=\"companyInfoName\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone Fixo</label>\r\n+                    <input type=\"text\" id=\"companyInfoTelefone\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone WhatsApp</label>\r\n+                    <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+            </form>\r\n+\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"saveCompanyInfoBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-save mr-2\"></i>\r\n+                    Salvar Alterações\r\n+                </button>\r\n+            </div>\r\n         </div>\r\n+    </div>\r\n \r\n-        <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n+            </div>\r\n \r\n-            <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n-                <div class=\"space-y-4\">\r\n-                    <div class=\"flex items-center justify-between\">\r\n-                        <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                        <label class=\"inline-flex items-center cursor-pointer\">\r\n-                            <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n-                            <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                        </label>\r\n+            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n+                            </label>\r\n+                        </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                        <div class=\"flex items-center space-x-6\">\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                </div>\r\n+                \r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n+                            </label>\r\n                         </div>\r\n-                    </fieldset>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                        <div class=\"flex items-center space-x-6\">\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                        </div>\r\n-                    </fieldset>\r\n-                </div>\r\n-            </div>\r\n-            \r\n-            <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n-                <div class=\"space-y-4\">\r\n-                    <div class=\"flex items-center justify-between\">\r\n-                        <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                        <label class=\"inline-flex items-center cursor-pointer\">\r\n-                            <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n-                             <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                        </label>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n                     </div>\r\n-                     <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                        <div class=\"flex items-center space-x-6\">\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                        </div>\r\n-                    </fieldset>\r\n-                    <fieldset>\r\n-                        <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                        <div class=\"flex items-center space-x-6\">\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                            <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                        </div>\r\n-                    </fieldset>\r\n                 </div>\r\n             </div>\r\n-        </div>\r\n \r\n-        <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-            <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n+            </div>\r\n         </div>\r\n     </div>\r\n-</div>\r\n \r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n"
                },
                {
                    "date": 1752340981728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -506,27 +506,33 @@\n                     <i class=\"fas fa-times text-xl\"></i>\r\n                 </button>\r\n             </div>\r\n \r\n-            <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n-                <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n-                    <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n-                    <input type=\"text\" id=\"companyInfoName\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone Fixo</label>\r\n-                    <input type=\"text\" id=\"companyInfoTelefone\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone WhatsApp</label>\r\n-                    <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-            </form>\r\n+                <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n+                    <div>\r\n+                        <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n+                        <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n+                    </div>\r\n+                    <div>\r\n+                        <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n+                        <input type=\"text\" id=\"companyInfoName\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                    </div>\r\n \r\n+                    <div>\r\n+                        <label for=\"companyInfoEmail\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n+                        <input type=\"email\" id=\"companyInfoEmail\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                    </div>\r\n+\r\n+                    <div>\r\n+                        <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone Fixo</label>\r\n+                        <input type=\"text\" id=\"companyInfoTelefone\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                    </div>\r\n+                    <div>\r\n+                        <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone WhatsApp</label>\r\n+                        <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                    </div>\r\n+                </form>\r\n+\r\n             <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n                 <button id=\"saveCompanyInfoBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n                     <i class=\"fas fa-save mr-2\"></i>\r\n                     Salvar Alterações\r\n"
                },
                {
                    "date": 1752341438781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -641,8 +641,9 @@\n         <i class=\"fas fa-plus\"></i>\r\n     </button>\r\n \r\n     <script src=\"script.js\"></script>\r\n+    <script src=\"https://unpkg.com/imask\"></script>\r\n \r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752342372018,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -614,8 +614,42 @@\n             </div>\r\n         </div>\r\n     </div>\r\n \r\n+    <div id=\"addUserModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-user-plus mr-3 text-indigo-400\"></i>\r\n+                    Adicionar Novo Usuário\r\n+                </h3>\r\n+                <button id=\"closeAddUserModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <form id=\"addUserForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"addUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de Usuário</label>\r\n+                    <input type=\"text\" id=\"addUsernameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha</label>\r\n+                    <input type=\"password\" id=\"addUserPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserConfirmPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Confirmar Senha</label>\r\n+                    <input type=\"password\" id=\"addUserConfirmPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddUserBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n             <div class=\"flex justify-between items-center mb-4\">\r\n"
                },
                {
                    "date": 1752342858842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -648,8 +648,61 @@\n             </form>\r\n         </div>\r\n     </div>\r\n \r\n+    <div id=\"addCompanyModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Criar Nova Empresa\r\n+                </h3>\r\n+                <button id=\"closeAddCompanyModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <form id=\"addCompanyForm\" class=\"space-y-4\">\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Dados da Empresa</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addCompanyNameInput\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n+                            <input type=\"text\" id=\"addCompanyNameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyCnpjInput\" class=\"block text-sm font-medium text-gray-300\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"addCompanyCnpjInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha da Empresa</label>\r\n+                            <input type=\"password\" id=\"addCompanyPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n+\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Usuário Proprietário</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addOwnerUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de Usuário do Proprietário</label>\r\n+                            <input type=\"text\" id=\"addOwnerUsernameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addOwnerPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha do Proprietário</label>\r\n+                            <input type=\"password\" id=\"addOwnerPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n+\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddCompanyBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar Empresa</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n     <div id=\"manageUsersModal\"\r\n         class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n             <div class=\"flex justify-between items-center mb-4\">\r\n"
                },
                {
                    "date": 1752343395903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -531,14 +531,18 @@\n                         <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n                     </div>\r\n                 </form>\r\n \r\n-            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-between items-center\">\r\n+                <button id=\"sendWhatsappReportBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center text-sm\">\r\n+                    <i class=\"fab fa-whatsapp mr-2\"></i> Notificar Vencidos\r\n+                </button>\r\n+\r\n                 <button id=\"saveCompanyInfoBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n-                    <i class=\"fas fa-save mr-2\"></i>\r\n-                    Salvar Alterações\r\n+                    <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n                 </button>\r\n             </div>\r\n+            \r\n         </div>\r\n     </div>\r\n \r\n     <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n"
                },
                {
                    "date": 1752344354517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -531,18 +531,14 @@\n                         <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n                     </div>\r\n                 </form>\r\n \r\n-            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-between items-center\">\r\n-                <button id=\"sendWhatsappReportBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center text-sm\">\r\n-                    <i class=\"fab fa-whatsapp mr-2\"></i> Notificar Vencidos\r\n-                </button>\r\n-\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n                 <button id=\"saveCompanyInfoBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n                     <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n                 </button>\r\n             </div>\r\n-            \r\n+\r\n         </div>\r\n     </div>\r\n \r\n     <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n"
                },
                {
                    "date": 1752350944415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,13 @@\n </head>\r\n \r\n <body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n \r\n+    <div id=\"loadingScreen\" class=\"fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50\">\r\n+        <i class=\"fas fa-spinner fa-spin text-indigo-400 text-5xl\"></i>\r\n+        <p class=\"mt-4 text-gray-300\">Carregando sua sessão...</p>\r\n+    </div>\r\n+\r\n     <div id=\"toastMessage\"\r\n         class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n     </div>\r\n \r\n"
                },
                {
                    "date": 1752350978249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n     <div id=\"toastMessage\"\r\n         class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n     </div>\r\n \r\n-    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center\">\r\n+    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center hidden\">\r\n         <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Bem-vindo!</h2>\r\n         <p class=\"text-gray-300 mb-6\">Escolha como deseja fazer o login:</p>\r\n         <button id=\"showCnpjLoginBtn\"\r\n             class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 mb-4\">\r\n"
                },
                {
                    "date": 1752351637882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,12 @@\n </head>\r\n \r\n <body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n \r\n+    <div id=\"generalLoader\" class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden\">\r\n+        <i class=\"fas fa-spinner fa-spin text-white text-4xl\"></i>\r\n+    </div>\r\n+\r\n     <div id=\"loadingScreen\" class=\"fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50\">\r\n         <i class=\"fas fa-spinner fa-spin text-indigo-400 text-5xl\"></i>\r\n         <p class=\"mt-4 text-gray-300\">Carregando sua sessão...</p>\r\n     </div>\r\n"
                },
                {
                    "date": 1752355723535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -106,12 +106,8 @@\n             <button type=\"submit\"\r\n                 class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n                 Entrar como Usuário\r\n             </button>\r\n-            <button type=\"button\" id=\"registerUserBtn\"\r\n-                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n-                Registrar Novo Usuário\r\n-            </button>\r\n             <button type=\"button\" id=\"backToCnpjLoginBtn\"\r\n                 class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n                 Voltar para Login de Empresa\r\n             </button>\r\n"
                },
                {
                    "date": 1752355947283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,38 +132,32 @@\n             </div>\r\n         </div>\r\n     </div>\r\n \r\n-    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n-        <header class=\"mb-10 text-center relative\">\r\n-            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n-                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n-            </h1>\r\n-            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n-            <div class=\"absolute top-0 right-0 flex items-center space-x-2\">\r\n+    <header class=\"mb-10 text-center relative\">\r\n+        <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n+            <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n+        </h1>\r\n+        <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n+        \r\n+        <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n \r\n-                <button id=\"backToAdminBtn\"\r\n-                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n-                    Admin</button>\r\n+            <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n \r\n-                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n-                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n-                        <i class=\"fas fa-cog text-lg\"></i>\r\n-                    </button>\r\n-                    <div id=\"settingsDropdown\"\r\n-                        class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n-                        <a href=\"#\" id=\"menuEmpresa\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n-                        <a href=\"#\" id=\"menuUsuarios\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n-                        <a href=\"#\" id=\"menuPermissoes\"\r\n-                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n-                    </div>\r\n+            <button id=\"backToAdminBtn\" class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao Admin</button>\r\n+            <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n+                <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                    <i class=\"fas fa-cog text-lg\"></i>\r\n+                </button>\r\n+                <div id=\"settingsDropdown\" class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n+                    <a href=\"#\" id=\"menuEmpresa\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n+                    <a href=\"#\" id=\"menuUsuarios\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n+                    <a href=\"#\" id=\"menuPermissoes\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n                 </div>\r\n-\r\n-                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n             </div>\r\n-        </header>\r\n+            <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n+        </div>\r\n+    </header>\r\n \r\n         <div>\r\n             <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n                 <div class=\"flex justify-between items-center mb-4\">\r\n"
                },
                {
                    "date": 1752356145411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,32 +132,33 @@\n             </div>\r\n         </div>\r\n     </div>\r\n \r\n-    <header class=\"mb-10 text-center relative\">\r\n-        <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n-            <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n-        </h1>\r\n-        <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n-        \r\n-        <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n+    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n+        <header class=\"mb-10 text-center relative\">\r\n+            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n+                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n+            </h1>\r\n+            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n+            \r\n+            <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n \r\n-            <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n+                <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n \r\n-            <button id=\"backToAdminBtn\" class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao Admin</button>\r\n-            <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n-                <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n-                    <i class=\"fas fa-cog text-lg\"></i>\r\n-                </button>\r\n-                <div id=\"settingsDropdown\" class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n-                    <a href=\"#\" id=\"menuEmpresa\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n-                    <a href=\"#\" id=\"menuUsuarios\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n-                    <a href=\"#\" id=\"menuPermissoes\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n+                <button id=\"backToAdminBtn\" class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao Admin</button>\r\n+                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n+                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-cog text-lg\"></i>\r\n+                    </button>\r\n+                    <div id=\"settingsDropdown\" class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n+                        <a href=\"#\" id=\"menuEmpresa\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n+                        <a href=\"#\" id=\"menuUsuarios\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n+                        <a href=\"#\" id=\"menuPermissoes\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n+                    </div>\r\n                 </div>\r\n+                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n             </div>\r\n-            <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n-        </div>\r\n-    </header>\r\n+        </header>\r\n \r\n         <div>\r\n             <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n                 <div class=\"flex justify-between items-center mb-4\">\r\n"
                },
                {
                    "date": 1752498035484,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,736 +1,479 @@\n <!DOCTYPE html>\r\n <html lang=\"pt-BR\">\r\n-\r\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>Organizador de Boletos</title>\r\n+    <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n-    <link rel=\"stylesheet\" href=\"style.css\">\r\n+    <style>\r\n+        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n+        \r\n+        body {\r\n+            font-family: 'Poppins', sans-serif;\r\n+            background-color: #0f172a;\r\n+            color: #e2e8f0;\r\n+        }\r\n+        \r\n+        .hero-gradient {\r\n+            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n+        }\r\n+        \r\n+        .service-card:hover {\r\n+            transform: translateY(-5px);\r\n+            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n+        }\r\n+        \r\n+        .wolf-logo {\r\n+            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n+        }\r\n+        \r\n+        .login-form {\r\n+            backdrop-filter: blur(10px);\r\n+            background: rgba(15, 23, 42, 0.8);\r\n+            border: 1px solid rgba(99, 102, 241, 0.3);\r\n+        }\r\n+        \r\n+        .nav-link {\r\n+            position: relative;\r\n+        }\r\n+        \r\n+        .nav-link::after {\r\n+            content: '';\r\n+            position: absolute;\r\n+            width: 0;\r\n+            height: 2px;\r\n+            bottom: -2px;\r\n+            left: 0;\r\n+            background-color: #6366f1;\r\n+            transition: width 0.3s ease;\r\n+        }\r\n+        \r\n+        .nav-link:hover::after {\r\n+            width: 100%;\r\n+        }\r\n+        \r\n+        .animated-wolf {\r\n+            animation: float 6s ease-in-out infinite;\r\n+        }\r\n+        \r\n+        @keyframes float {\r\n+            0% { transform: translateY(0px); }\r\n+            50% { transform: translateY(-15px); }\r\n+            100% { transform: translateY(0px); }\r\n+        }\r\n+    </style>\r\n </head>\r\n-\r\n-<body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n-\r\n-    <div id=\"generalLoader\" class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden\">\r\n-        <i class=\"fas fa-spinner fa-spin text-white text-4xl\"></i>\r\n-    </div>\r\n-\r\n-    <div id=\"loadingScreen\" class=\"fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50\">\r\n-        <i class=\"fas fa-spinner fa-spin text-indigo-400 text-5xl\"></i>\r\n-        <p class=\"mt-4 text-gray-300\">Carregando sua sessão...</p>\r\n-    </div>\r\n-\r\n-    <div id=\"toastMessage\"\r\n-        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n-    </div>\r\n-\r\n-    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Bem-vindo!</h2>\r\n-        <p class=\"text-gray-300 mb-6\">Escolha como deseja fazer o login:</p>\r\n-        <button id=\"showCnpjLoginBtn\"\r\n-            class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 mb-4\">\r\n-            Login de Empresa\r\n-        </button>\r\n-        <button id=\"showAdminLoginBtn\"\r\n-            class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n-            Login de Administrador\r\n-        </button>\r\n-    </div>\r\n-\r\n-    <div id=\"cnpjLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Login da Empresa</h2>\r\n-        <form id=\"cnpjLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"cnpjInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n-                <input type=\"text\" id=\"cnpjInput\" placeholder=\"XX.XXX.XXX/YYYY-ZZ\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+<body>\r\n+    <!-- Navbar -->\r\n+    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n+        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n+            <div class=\"flex items-center justify-between h-16\">\r\n+                <div class=\"flex items-center\">\r\n+                    <div class=\"flex-shrink-0 wolf-logo\">\r\n+                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n+                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"hidden md:block\">\r\n+                    <div class=\"ml-10 flex items-baseline space-x-8\">\r\n+                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Iniciar</a>\r\n+                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n+                        <a href=\"#login\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n+                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"-mr-2 flex md:hidden\">\r\n+                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n+                        <span class=\"sr-only\">Abrir menu</span>\r\n+                        <i class=\"fas fa-bars\"></i>\r\n+                    </button>\r\n+                </div>\r\n             </div>\r\n-            <div>\r\n-                <label for=\"cnpjPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n-                    Empresa</label>\r\n-                <input type=\"password\" id=\"cnpjPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+        </div>\r\n+        \r\n+        <!-- Mobile menu -->\r\n+        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n+            <div class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n+                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Iniciar</a>\r\n+                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n+                <a href=\"#login\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n+                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n             </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n-                Entrar na Empresa\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToInitialLoginBtnCnpj\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n-                Voltar\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n+        </div>\r\n+    </nav>\r\n \r\n-    <div id=\"adminLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-red-400 mb-6\">Login de Administrador</h2>\r\n-        <form id=\"adminLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"adminUsernameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Usuário</label>\r\n-                <input type=\"text\" id=\"adminUsernameInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n+    <!-- Hero Section -->\r\n+    <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"lg:grid lg:grid-cols-2 lg:gap-12 items-center\">\r\n+                <div class=\"mb-12 lg:mb-0\">\r\n+                    <h1 class=\"text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n+                        Soluções em TI com a <span class=\"text-indigo-500\">força</span> de uma alcateia\r\n+                    </h1>\r\n+                    <p class=\"text-lg text-gray-300 mb-8\">\r\n+                        Nós da LobosTI oferecemos serviços especializados em tecnologia da informação para impulsionar seu negócio ao próximo nível.\r\n+                    </p>\r\n+                    <div class=\"flex flex-wrap gap-4\">\r\n+                        <a href=\"#servicos\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n+                            Nossos Serviços <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                        </a>\r\n+                        <a href=\"#contato\" class=\"border border-indigo-500 text-indigo-400 hover:bg-indigo-900 hover:bg-opacity-30 font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n+                            Fale Conosco\r\n+                        </a>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"relative\">\r\n+                    <div class=\"animated-wolf\">\r\n+                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n+                    </div>\r\n+                    <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n+                    <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n+                </div>\r\n             </div>\r\n-            <div>\r\n-                <label for=\"adminPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                <input type=\"password\" id=\"adminPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n-            </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200\">\r\n-                Entrar como Admin\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToInitialLoginBtnAdmin\"\r\n-                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 mt-4\">\r\n-                Voltar\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n-\r\n-    <div id=\"userLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n-        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\" id=\"welcomeUserText\"></h2>\r\n-        <h3 class=\"text-xl font-semibold text-center text-gray-300 mb-6\">Login de Usuário</h3>\r\n-        <form id=\"userLoginForm\" class=\"space-y-4\">\r\n-            <div>\r\n-                <label for=\"userInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de Usuário</label>\r\n-                <input type=\"text\" id=\"userInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <div>\r\n-                <label for=\"userPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha do\r\n-                    Usuário</label>\r\n-                <input type=\"password\" id=\"userPasswordInput\" required\r\n-                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n-            </div>\r\n-            <button type=\"submit\"\r\n-                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n-                Entrar como Usuário\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToCnpjLoginBtn\"\r\n-                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n-                Voltar para Login de Empresa\r\n-            </button>\r\n-        </form>\r\n-    </div>\r\n-\r\n-    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n-        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n-        <button id=\"adminLogoutBtn\"\r\n-            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n-\r\n-        <div class=\"mb-6 flex justify-center space-x-4\">\r\n-            <button id=\"createCompanyBtn\"\r\n-                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n-                <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n-            </button>\r\n         </div>\r\n+    </section>\r\n \r\n-        <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n-            <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n-                Nenhuma empresa cadastrada ainda.\r\n+    <!-- Serviços Section -->\r\n+    <section id=\"servicos\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"text-center mb-16\">\r\n+                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Nossos <span class=\"text-indigo-500\">Serviços</span></h2>\r\n+                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n+                    Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n+                </p>\r\n             </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n-        <header class=\"mb-10 text-center relative\">\r\n-            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n-                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n-            </h1>\r\n-            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n             \r\n-            <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n-\r\n-                <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n-\r\n-                <button id=\"backToAdminBtn\" class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao Admin</button>\r\n-                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n-                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n-                        <i class=\"fas fa-cog text-lg\"></i>\r\n-                    </button>\r\n-                    <div id=\"settingsDropdown\" class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n-                        <a href=\"#\" id=\"menuEmpresa\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n-                        <a href=\"#\" id=\"menuUsuarios\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n-                        <a href=\"#\" id=\"menuPermissoes\" class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n+            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n+                <!-- Serviço 1 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n                     </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n+                    </p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n                 </div>\r\n-                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n-            </div>\r\n-        </header>\r\n-\r\n-        <div>\r\n-            <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n-                <div class=\"flex justify-between items-center mb-4\">\r\n-                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n-                        <i class=\"fas fa-calendar-alt mr-2 text-indigo-400\"></i> Calendário de Boletos\r\n-                    </h2>\r\n-                    <div class=\"text-sm text-gray-400\">\r\n-                        <span id=\"totalBills\">0</span> parcelas registradas\r\n+                \r\n+                <!-- Serviço 3 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n                     </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n                 </div>\r\n-\r\n-                <div id=\"monthlySummary\"\r\n-                    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n-                        <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                \r\n+                <!-- Serviço 4 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n                     </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n-                        <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <!-- Serviço 4 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n                     </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n-                        <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n-                    </div>\r\n-                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n-                        <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n-                        <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n-                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n                 </div>\r\n-                <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n \r\n-                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n-                        <div class=\"flex justify-between items-center mb-4\">\r\n-                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                                <i class=\"fas fa-chevron-left\"></i>\r\n-                            </button>\r\n-                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n-                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                                <i class=\"fas fa-chevron-right\"></i>\r\n-                            </button>\r\n+    <!-- Login Section -->\r\n+    <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"flex flex-col lg:flex-row items-center justify-between\">\r\n+                <div class=\"lg:w-1/2 mb-12 lg:mb-0\">\r\n+                    <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-6\">\r\n+                        Acesse sua <span class=\"text-indigo-500\">conta</span>\r\n+                    </h2>\r\n+                    <p class=\"text-lg text-gray-400 mb-8 max-w-lg\">\r\n+                        Faça login para acessar nossos serviços exclusivos e gerenciar sua infraestrutura de TI de forma centralizada.\r\n+                    </p>\r\n+                    <div class=\"flex items-center space-x-4\">\r\n+                        <div class=\"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center\">\r\n+                            <i class=\"fas fa-lock text-indigo-500 text-xl\"></i>\r\n                         </div>\r\n-\r\n-                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n-                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n+                        <div>\r\n+                            <h4 class=\"text-white font-medium\">Segurança garantida</h4>\r\n+                            <p class=\"text-gray-400 text-sm\">Autenticação de dois fatores disponível</p>\r\n                         </div>\r\n-\r\n-                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n                     </div>\r\n                 </div>\r\n-\r\n-                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n-                    <div class=\"flex justify-between items-center mb-4\">\r\n-                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                            <i class=\"fas fa-chevron-left\"></i>\r\n-                        </button>\r\n-                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n-                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n-                            <i class=\"fas fa-chevron-right\"></i>\r\n-                        </button>\r\n+                \r\n+                <div class=\"lg:w-1/2 max-w-md w-full\">\r\n+                    <div class=\"login-form rounded-xl p-8 shadow-lg\">\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Login</h3>\r\n+                        \r\n+                        <form>\r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"email\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n+                                <input type=\"email\" id=\"email\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"password\" class=\"block text-gray-300 text-sm font-medium mb-2\">Senha</label>\r\n+                                <input type=\"password\" id=\"password\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"flex items-center justify-between mb-6\">\r\n+                                <div class=\"flex items-center\">\r\n+                                    <input id=\"remember\" type=\"checkbox\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500\">\r\n+                                    <label for=\"remember\" class=\"ml-2 text-sm text-gray-300\">Lembrar-me</label>\r\n+                                </div>\r\n+                                <a href=\"#\" class=\"text-sm text-indigo-500 hover:text-indigo-400\">Esqueceu a senha?</a>\r\n+                            </div>\r\n+                            \r\n+                            <button type=\"submit\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                Entrar <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+                            </button>\r\n+                            \r\n+                            <div class=\"text-center mt-6\">\r\n+                                <p class=\"text-gray-400 text-sm\">\r\n+                                    Não tem uma conta? <a href=\"#\" class=\"text-indigo-500 hover:text-indigo-400 font-medium\">Cadastre-se</a>\r\n+                                </p>\r\n+                            </div>\r\n+                        </form>\r\n                     </div>\r\n-                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n-                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n-                            dia.</div>\r\n-                    </div>\r\n                 </div>\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n \r\n-                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n-                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n-                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n-                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n-                </div>\r\n-\r\n-                <div id=\"addBillModal\"\r\n-                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n-                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n-                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n-\r\n-                            <button id=\"closeAddBillModalBtn\"\r\n-                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n-                                <i class=\"fas fa-times text-xl\"></i>\r\n-                            </button>\r\n-\r\n-                            <div id=\"installmentsPreview\"\r\n-                                class=\"hidden mb-8 bg-gray-900 rounded-lg shadow-md p-6 fade-in\">\r\n-                                <div class=\"flex justify-between items-center mb-4\">\r\n-                                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n-                                        <i class=\"fas fa-list-check mr-2 text-indigo-400\"></i> Pré-visualização das\r\n-                                        Parcelas\r\n-                                    </h2>\r\n-                                    <div class=\"flex items-center space-x-4\">\r\n-                                        <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n-                                        <button id=\"addToOrganizer\"\r\n-                                            class=\"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n-                                            <i class=\"fas fa-save mr-1\"></i> Adicionar ao Organizador\r\n-                                        </button>\r\n+    <!-- Contato Section -->\r\n+    <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"text-center mb-16\">\r\n+                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Entre em <span class=\"text-indigo-500\">Contato</span></h2>\r\n+                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n+                    Pronto para transformar sua infraestrutura de TI? Nossa equipe está aqui para ajudar.\r\n+                </p>\r\n+            </div>\r\n+            \r\n+            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n+                <div>\r\n+                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n+                        <h3 class=\"text-xl font-semibold text-white mb-6\">Informações de Contato</h3>\r\n+                        \r\n+                        <div class=\"space-y-6\">\r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n                                     </div>\r\n                                 </div>\r\n-                                <div id=\"installmentsList\" class=\"space-y-3 max-h-64 overflow-y-auto pr-2\">\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">Endereço</h4>\r\n+                                    <p class=\"text-gray-400\">Av. Tecnológica, 1234 - Sala 501<br>São Paulo, SP</p>\r\n                                 </div>\r\n                             </div>\r\n-\r\n-                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n-                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n-                            </h2>\r\n-\r\n-                            <form id=\"billForm\" class=\"space-y-4\">\r\n-                                <div>\r\n-                                    <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n-                                    </label>\r\n-                                    <input type=\"text\" id=\"billName\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                            \r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n+                                    </div>\r\n                                 </div>\r\n-                                <div>\r\n-                                    <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n-                                    </label>\r\n-                                    <input type=\"date\" id=\"dueDate\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">Telefone</h4>\r\n+                                    <p class=\"text-gray-400\">(11) 1234-5678<br>(11) 98765-4321</p>\r\n                                 </div>\r\n-                                <div>\r\n-                                    <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n-                                    </label>\r\n-                                    <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" required\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n+                                    </div>\r\n                                 </div>\r\n-                                <div class=\"mb-4\">\r\n-                                    <label for=\"installments\" class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n-                                            class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n-                                    <input type=\"number\" id=\"installments\" placeholder=\"Digite a quantidade de parcelas\"\r\n-                                        min=\"1\"\r\n-                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">E-mail</h4>\r\n+                                    <p class=\"text-gray-400\">contato@lobosti.com.br<br>suporte@lobosti.com.br</p>\r\n                                 </div>\r\n+                            </div>\r\n+                        </div>\r\n+                        \r\n+                        <div class=\"mt-8\">\r\n+                            <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n+                            <div class=\"flex space-x-4\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-facebook-f text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-twitter text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-instagram text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-linkedin-in text-white\"></i>\r\n+                                </a>\r\n+                            </div>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n+                        <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n+                        \r\n+                        <form>\r\n+                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                                 <div>\r\n-                                    <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre boletos\r\n-                                        (dias)\r\n-                                    </label>\r\n-                                    <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n-                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                    <label for=\"name\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n+                                    <input type=\"text\" id=\"name\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n                                 </div>\r\n                                 <div>\r\n-                                    <label for=\"barcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-barcode mr-1 text-gray-400\"></i> Código de Barras (opcional)\r\n-                                    </label>\r\n-                                    <input type=\"text\" id=\"barcode\"\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"\r\n-                                        placeholder=\"Ex: 0009999991234567890123456789012345678901234\">\r\n+                                    <label for=\"email_contact\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n+                                    <input type=\"email\" id=\"email_contact\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n                                 </div>\r\n-                                <div>\r\n-                                    <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n-                                        <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n-                                    </label>\r\n-                                    <textarea id=\"description\" rows=\"3\"\r\n-                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n-                                </div>\r\n-                                <button type=\"submit\"\r\n-                                    class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center justify-center\">\r\n-                                    <i class=\"fas fa-calculator mr-2\"></i> Calcular Parcelas\r\n-                                </button>\r\n-                                <button type=\"button\" id=\"clearFormBtn\"\r\n-                                    class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 flex items-center justify-center mt-2\">\r\n-                                    <i class=\"fas fa-times-circle mr-2\"></i> Limpar Formulário\r\n-                                </button>\r\n-                            </form>\r\n-                        </div>\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"subject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n+                                <input type=\"text\" id=\"subject\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"message\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n+                                <textarea id=\"message\" rows=\"4\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n+                            </div>\r\n+                            \r\n+                            <button type=\"submit\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n+                            </button>\r\n+                        </form>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n+    </section>\r\n \r\n-    </div>\r\n-    </div>\r\n-\r\n-    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalBillName\"></h3>\r\n-                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div class=\"space-y-4\">\r\n+    <!-- Footer -->\r\n+    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n-                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                    <div class=\"flex items-center wolf-logo mb-4\">\r\n+                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n+                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n+                    </div>\r\n+                    <p class=\"text-gray-400 text-sm\">\r\n+                        Soluções em tecnologia da informação com excelência e inovação.\r\n+                    </p>\r\n                 </div>\r\n+                \r\n                 <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n-                    <input type=\"date\" id=\"modalBillDate\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n+                    <ul class=\"space-y-2\">\r\n+                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n+                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n+                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n+                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n+                    </ul>\r\n                 </div>\r\n+                \r\n                 <div>\r\n-                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n-                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n+                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n+                    <ul class=\"space-y-2\">\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n+                    </ul>\r\n                 </div>\r\n-\r\n+                \r\n                 <div>\r\n-                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n-                        Barras</label>\r\n-                    <input type=\"text\" id=\"modalBillBarcode\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n-                        placeholder=\"Código de Barras\">\r\n+                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n+                    <p class=\"text-gray-400 text-sm mb-4\">\r\n+                        Assine nossa newsletter para receber atualizações e novidades.\r\n+                    </p>\r\n+                    <form class=\"flex\">\r\n+                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n+                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n+                            <i class=\"fas fa-paper-plane\"></i>\r\n+                        </button>\r\n+                    </form>\r\n                 </div>\r\n-\r\n-                <div class=\"mt-2\">\r\n-                    <button id=\"showFullScreenBarcodeBtn\"\r\n-                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n-                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n-                    </button>\r\n-                </div>\r\n-\r\n-                <div class=\"flex items-center mt-4\">\r\n-                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n-                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n-                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n-                </div>\r\n-\r\n-                <div class=\"flex justify-between pt-4\">\r\n-                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n-                        Salvar\r\n-                    </button>\r\n-                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n-                        Excluir Parcela\r\n-                    </button>\r\n-                </div>\r\n-                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n-                    <button id=\"deleteEntireBillBtn\"\r\n-                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n-                        Excluir Boleto Completo\r\n-                    </button>\r\n-                </div>\r\n             </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"companyDetailsModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <div>\r\n-                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n-                    <input type=\"text\" id=\"modalCompanyNameInput\" class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div class=\"space-y-4\">\r\n-                <p class=\"text-gray-300\">\r\n-                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n+            \r\n+            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n+                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n+                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n                 </p>\r\n-                <div>\r\n-                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n-                        Empresa</label>\r\n-                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n-                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                <div class=\"flex space-x-6\">\r\n+                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n+                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n                 </div>\r\n-                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n-                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n-                </div>\r\n-                <div class=\"mt-4 flex justify-end space-x-2\">\r\n-                    <button id=\"saveCompanyDetailsBtn\"\r\n-                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n-                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n-                    </button>\r\n-                    <button id=\"addUserBtn\"\r\n-                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n-                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n-                    </button>\r\n-                </div>\r\n-                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n-                    <button id=\"deleteCompanyBtn\"\r\n-                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n-                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n-                    </button>\r\n-                </div>\r\n             </div>\r\n         </div>\r\n-    </div>\r\n+    </footer>\r\n \r\n-    <div id=\"barcodeFullScreenModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\">\r\n-            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n-        </div>\r\n-        <button id=\"closeFullScreenBarcodeBtn\"\r\n-            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n-            Fechar\r\n-        </button>\r\n-    </div>\r\n-\r\n-    <div id=\"quickUserAddModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n-                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n-                <div>\r\n-                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n-                        Usuário</label>\r\n-                    <input type=\"text\" id=\"quickAddUsername\" required\r\n-                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                    <input type=\"password\" id=\"quickAddPassword\" required\r\n-                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div class=\"pt-4 flex justify-end space-x-3\">\r\n-                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n-                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n-                    <button type=\"submit\"\r\n-                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n-                        Usuário</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"companyInfoModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n-                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n-                    Detalhes da Empresa\r\n-                </h3>\r\n-                <button id=\"closeCompanyInfoModal\" class=\"text-gray-400 hover:text-white\">\r\n-                    <i class=\"fas fa-times text-xl\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-                <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n-                    <div>\r\n-                        <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n-                        <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n-                    </div>\r\n-                    <div>\r\n-                        <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n-                        <input type=\"text\" id=\"companyInfoName\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                    </div>\r\n-\r\n-                    <div>\r\n-                        <label for=\"companyInfoEmail\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n-                        <input type=\"email\" id=\"companyInfoEmail\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                    </div>\r\n-\r\n-                    <div>\r\n-                        <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone Fixo</label>\r\n-                        <input type=\"text\" id=\"companyInfoTelefone\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                    </div>\r\n-                    <div>\r\n-                        <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone WhatsApp</label>\r\n-                        <input type=\"text\" id=\"companyInfoWhatsapp\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                    </div>\r\n-                </form>\r\n-\r\n-            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-                <button id=\"saveCompanyInfoBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n-                    <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n-                </button>\r\n-            </div>\r\n-\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"permissionsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n-                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i class=\"fas fa-times text-xl\"></i></button>\r\n-            </div>\r\n-\r\n-            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n-\r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n-                    <div class=\"space-y-4\">\r\n-                        <div class=\"flex items-center justify-between\">\r\n-                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                            <label class=\"inline-flex items-center cursor-pointer\">\r\n-                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                            </label>\r\n-                        </div>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                    </div>\r\n-                </div>\r\n+    <script>\r\n+        // Mobile menu toggle\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        \r\n+        mobileMenuButton.addEventListener('click', () => {\r\n+            mobileMenu.classList.toggle('hidden');\r\n+        });\r\n+        \r\n+        // Smooth scrolling for anchor links\r\n+        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+            anchor.addEventListener('click', function (e) {\r\n+                e.preventDefault();\r\n                 \r\n-                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n-                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n-                    <div class=\"space-y-4\">\r\n-                        <div class=\"flex items-center justify-between\">\r\n-                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n-                            <label class=\"inline-flex items-center cursor-pointer\">\r\n-                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n-                                <div class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\"></div>\r\n-                            </label>\r\n-                        </div>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                        <fieldset>\r\n-                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:</legend>\r\n-                            <div class=\"flex items-center space-x-6\">\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas Próprios</span></label>\r\n-                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\" name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n-                            </div>\r\n-                        </fieldset>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-\r\n-            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n-                <button id=\"savePermissionsBtn\" class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"addUserModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n-                    <i class=\"fas fa-user-plus mr-3 text-indigo-400\"></i>\r\n-                    Adicionar Novo Usuário\r\n-                </h3>\r\n-                <button id=\"closeAddUserModal\" class=\"text-gray-400 hover:text-white\">\r\n-                    <i class=\"fas fa-times text-xl\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <form id=\"addUserForm\" class=\"space-y-4\">\r\n-                <div>\r\n-                    <label for=\"addUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de Usuário</label>\r\n-                    <input type=\"text\" id=\"addUsernameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"addUserPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha</label>\r\n-                    <input type=\"password\" id=\"addUserPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-                <div>\r\n-                    <label for=\"addUserConfirmPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Confirmar Senha</label>\r\n-                    <input type=\"password\" id=\"addUserConfirmPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                </div>\r\n-\r\n-                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n-                    <button type=\"button\" id=\"cancelAddUserBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n-                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar Usuário</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"addCompanyModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-6\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n-                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n-                    Criar Nova Empresa\r\n-                </h3>\r\n-                <button id=\"closeAddCompanyModal\" class=\"text-gray-400 hover:text-white\">\r\n-                    <i class=\"fas fa-times text-xl\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <form id=\"addCompanyForm\" class=\"space-y-4\">\r\n-                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n-                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Dados da Empresa</legend>\r\n-                    <div class=\"space-y-4 pt-2\">\r\n-                        <div>\r\n-                            <label for=\"addCompanyNameInput\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n-                            <input type=\"text\" id=\"addCompanyNameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"addCompanyCnpjInput\" class=\"block text-sm font-medium text-gray-300\">CNPJ</label>\r\n-                            <input type=\"text\" id=\"addCompanyCnpjInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"addCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha da Empresa</label>\r\n-                            <input type=\"password\" id=\"addCompanyPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                        </div>\r\n-                    </div>\r\n-                </fieldset>\r\n-\r\n-                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n-                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Usuário Proprietário</legend>\r\n-                    <div class=\"space-y-4 pt-2\">\r\n-                        <div>\r\n-                            <label for=\"addOwnerUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de Usuário do Proprietário</label>\r\n-                            <input type=\"text\" id=\"addOwnerUsernameInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"addOwnerPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha do Proprietário</label>\r\n-                            <input type=\"password\" id=\"addOwnerPasswordInput\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n-                        </div>\r\n-                    </div>\r\n-                </fieldset>\r\n-\r\n-                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n-                    <button type=\"button\" id=\"cancelAddCompanyBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n-                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar Empresa</button>\r\n-                </div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <div id=\"manageUsersModal\"\r\n-        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n-            <div class=\"flex justify-between items-center mb-4\">\r\n-                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Usuários da Empresa</h3>\r\n-                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n-                    <i class=\"fas fa-times\"></i>\r\n-                </button>\r\n-            </div>\r\n-\r\n-            <div id=\"companyUsersList\" class=\"space-y-3 mb-4\">\r\n-            </div>\r\n-\r\n-            <div class=\"mt-4 flex justify-end\">\r\n-                <button id=\"addCompanyUserBtn\"\r\n-                    class=\"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200\">\r\n-                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Usuário\r\n-                </button>\r\n-            </div>\r\n-        </div>\r\n-    </div>\r\n-    <button id=\"openAddBillModalBtn\"\r\n-        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n-        <i class=\"fas fa-plus\"></i>\r\n-    </button>\r\n-\r\n-    <script src=\"script.js\"></script>\r\n-    <script src=\"https://unpkg.com/imask\"></script>\r\n-\r\n+                const targetId = this.getAttribute('href');\r\n+                const targetElement = document.querySelector(targetId);\r\n+                \r\n+                if (targetElement) {\r\n+                    window.scrollTo({\r\n+                        top: targetElement.offsetTop - 80,\r\n+                        behavior: 'smooth'\r\n+                    });\r\n+                    \r\n+                    // Close mobile menu if open\r\n+                    if (!mobileMenu.classList.contains('hidden')) {\r\n+                        mobileMenu.classList.add('hidden');\r\n+                    }\r\n+                }\r\n+            });\r\n+        });\r\n+        \r\n+        // Add shadow to navbar on scroll\r\n+        window.addEventListener('scroll', function() {\r\n+            const navbar = document.querySelector('nav');\r\n+            if (window.scrollY > 10) {\r\n+                navbar.classList.add('shadow-lg');\r\n+            } else {\r\n+                navbar.classList.remove('shadow-lg');\r\n+            }\r\n+        });\r\n+    </script>\r\n </body>\r\n-\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752498203858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -288,9 +288,9 @@\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">Endereço</h4>\r\n-                                    <p class=\"text-gray-400\">Av. Tecnológica, 1234 - Sala 501<br>São Paulo, SP</p>\r\n+                                    <p class=\"text-gray-400\">Loja Online</p>\r\n                                 </div>\r\n                             </div>\r\n                             \r\n                             <div class=\"flex items-start\">\r\n"
                },
                {
                    "date": 1752498239546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">Telefone</h4>\r\n-                                    <p class=\"text-gray-400\">(11) 1234-5678<br>(11) 98765-4321</p>\r\n+                                    <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n                                 </div>\r\n                             </div>\r\n                             \r\n                             <div class=\"flex items-start\">\r\n"
                },
                {
                    "date": 1752498264431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,9 +312,9 @@\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">E-mail</h4>\r\n-                                    <p class=\"text-gray-400\">contato@lobosti.com.br<br>suporte@lobosti.com.br</p>\r\n+                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                         \r\n"
                },
                {
                    "date": 1752499428371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,9 +312,9 @@\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">E-mail</h4>\r\n-                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n+                                    <p class=\"text-gray-400\">lobosti@outlook.com.br</p>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                         \r\n@@ -341,34 +341,35 @@\n                 <div>\r\n                     <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n                         <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n                         \r\n-                        <form>\r\n+                        <form id=\"contactForm\">\r\n                             <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                                 <div>\r\n-                                    <label for=\"name\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n-                                    <input type=\"text\" id=\"name\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n+                                    <label for=\"contactName\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n+                                    <input type=\"text\" id=\"contactName\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n                                 </div>\r\n                                 <div>\r\n-                                    <label for=\"email_contact\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n-                                    <input type=\"email\" id=\"email_contact\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n+                                    <label for=\"contactEmail\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n+                                    <input type=\"email\" id=\"contactEmail\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n                                 </div>\r\n                             </div>\r\n                             \r\n                             <div class=\"mb-6\">\r\n-                                <label for=\"subject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n-                                <input type=\"text\" id=\"subject\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n+                                <label for=\"contactSubject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n+                                <input type=\"text\" id=\"contactSubject\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n                             </div>\r\n                             \r\n                             <div class=\"mb-6\">\r\n-                                <label for=\"message\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n-                                <textarea id=\"message\" rows=\"4\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n+                                <label for=\"contactMessage\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n+                                <textarea id=\"contactMessage\" rows=\"4\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n                             </div>\r\n                             \r\n-                            <button type=\"submit\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                            <button type=\"submit\" id=\"contactSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                 Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n                             </button>\r\n                         </form>\r\n+                        <div id=\"contactFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n@@ -437,8 +438,11 @@\n     <script>\r\n         // Mobile menu toggle\r\n         const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n         const mobileMenu = document.getElementById('mobile-menu');\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n         \r\n         mobileMenuButton.addEventListener('click', () => {\r\n             mobileMenu.classList.toggle('hidden');\r\n         });\r\n@@ -473,7 +477,57 @@\n             } else {\r\n                 navbar.classList.remove('shadow-lg');\r\n             }\r\n         });\r\n+\r\n+        // Adiciona um listener para o evento de 'submit' do formulário\r\n+        contactForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault(); // Impede o recarregamento padrão da página\r\n+\r\n+            // Mostra um feedback de \"enviando\" no botão\r\n+            contactSubmitBtn.disabled = true;\r\n+            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            contactFormFeedback.textContent = ''; // Limpa mensagens antigas\r\n+\r\n+            // Coleta os dados dos campos do formulário\r\n+            const formData = {\r\n+                name: document.getElementById('contactName').value,\r\n+                email: document.getElementById('contactEmail').value,\r\n+                subject: document.getElementById('contactSubject').value,\r\n+                message: document.getElementById('contactMessage').value,\r\n+            };\r\n+\r\n+            try {\r\n+                // Envia os dados para a nova rota da nossa API\r\n+                const response = await fetch('http://localhost:5000/api/contact/send', {\r\n+                    method: 'POST',\r\n+                    headers: {\r\n+                        'Content-Type': 'application/json',\r\n+                    },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n+\r\n+                const result = await response.json();\r\n+\r\n+                if (!response.ok) {\r\n+                    throw new Error(result.message || 'Ocorreu um erro.');\r\n+                }\r\n+\r\n+                // Se for sucesso, mostra a mensagem e limpa o formulário\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                contactFormFeedback.textContent = result.message;\r\n+                contactForm.reset();\r\n+\r\n+            } catch (error) {\r\n+                // Se der erro, mostra a mensagem de erro\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                contactFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                // Restaura o estado original do botão, independentemente do resultado\r\n+                contactSubmitBtn.disabled = false;\r\n+                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n+        });\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752499436795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,9 +312,9 @@\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">E-mail</h4>\r\n-                                    <p class=\"text-gray-400\">lobosti@outlook.com.br</p>\r\n+                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                         \r\n"
                },
                {
                    "date": 1752501140840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,11 +76,12 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n                     <div class=\"ml-10 flex items-baseline space-x-8\">\r\n-                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Iniciar</a>\r\n+                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n                         <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n-                        <a href=\"#login\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n+                        <!-- MUDANÇA AQUI -->\r\n+                        <a href=\"OrgBoletos.html\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n                         <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n                     </div>\r\n                 </div>\r\n                 <div class=\"-mr-2 flex md:hidden\">\r\n@@ -94,11 +95,12 @@\n         \r\n         <!-- Mobile menu -->\r\n         <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n             <div class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n-                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Iniciar</a>\r\n+                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n                 <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n-                <a href=\"#login\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n+                <!-- MUDANÇA AQUI -->\r\n+                <a href=\"OrgBoletos.html\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n                 <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n             </div>\r\n         </div>\r\n     </nav>\r\n@@ -154,13 +156,13 @@\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n                     <a href=\"OrgBoletos.html\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n-                <!-- Serviço 3 -->\r\n+                <!-- Serviço 2 -->\r\n                 <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                     <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                         <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n                     </div>\r\n@@ -172,9 +174,9 @@\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n-                <!-- Serviço 4 -->\r\n+                <!-- Serviço 3 -->\r\n                 <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                     <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                         <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n                     </div>\r\n@@ -227,39 +229,18 @@\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Login</h3>\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Área do Cliente</h3>\r\n                         \r\n-                        <form>\r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"email\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n-                                <input type=\"email\" id=\"email\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n-                            </div>\r\n+                        <!-- MUDANÇA: O formulário foi removido e substituído por um link direto -->\r\n+                        <div class=\"space-y-4 text-center\">\r\n+                            <p class=\"text-gray-300\">Acesse o nosso sistema de gestão de boletos para organizar suas finanças com segurança e eficiência.</p>\r\n                             \r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"password\" class=\"block text-gray-300 text-sm font-medium mb-2\">Senha</label>\r\n-                                <input type=\"password\" id=\"password\" class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"flex items-center justify-between mb-6\">\r\n-                                <div class=\"flex items-center\">\r\n-                                    <input id=\"remember\" type=\"checkbox\" class=\"w-4 h-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500\">\r\n-                                    <label for=\"remember\" class=\"ml-2 text-sm text-gray-300\">Lembrar-me</label>\r\n-                                </div>\r\n-                                <a href=\"#\" class=\"text-sm text-indigo-500 hover:text-indigo-400\">Esqueceu a senha?</a>\r\n-                            </div>\r\n-                            \r\n-                            <button type=\"submit\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Entrar <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                            </button>\r\n-                            \r\n-                            <div class=\"text-center mt-6\">\r\n-                                <p class=\"text-gray-400 text-sm\">\r\n-                                    Não tem uma conta? <a href=\"#\" class=\"text-indigo-500 hover:text-indigo-400 font-medium\">Cadastre-se</a>\r\n-                                </p>\r\n-                            </div>\r\n-                        </form>\r\n+                            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                Acessar Organizador de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                            </a>\r\n+                        </div>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n"
                },
                {
                    "date": 1752501823947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,13 +75,13 @@\n                         <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                     </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n-                    <div class=\"ml-10 flex items-baseline space-x-8\">\r\n+                    <!-- MUDANÇA: Adicionado ID ao container do menu para manipulação -->\r\n+                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n                         <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n                         <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n-                        <!-- MUDANÇA AQUI -->\r\n-                        <a href=\"OrgBoletos.html\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n+                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n                         <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n                     </div>\r\n                 </div>\r\n                 <div class=\"-mr-2 flex md:hidden\">\r\n@@ -94,13 +94,13 @@\n         </div>\r\n         \r\n         <!-- Mobile menu -->\r\n         <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n-            <div class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n+             <!-- MUDANÇA: Adicionado ID ao container do menu para manipulação -->\r\n+            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n                 <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n                 <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n-                <!-- MUDANÇA AQUI -->\r\n-                <a href=\"OrgBoletos.html\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n+                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n                 <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n             </div>\r\n         </div>\r\n     </nav>\r\n@@ -228,15 +228,13 @@\n                     </div>\r\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-                    <div class=\"login-form rounded-xl p-8 shadow-lg\">\r\n+                    <!-- MUDANÇA: Adicionado ID ao container para manipulação -->\r\n+                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                         <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Área do Cliente</h3>\r\n-                        \r\n-                        <!-- MUDANÇA: O formulário foi removido e substituído por um link direto -->\r\n                         <div class=\"space-y-4 text-center\">\r\n                             <p class=\"text-gray-300\">Acesse o nosso sistema de gestão de boletos para organizar suas finanças com segurança e eficiência.</p>\r\n-                            \r\n                             <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                 Acessar Organizador de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                             </a>\r\n                         </div>\r\n@@ -508,7 +506,93 @@\n                 contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n             }\r\n         });\r\n \r\n+                // --- MUDANÇA: LÓGICA DE VERIFICAÇÃO DE SESSÃO ---\r\n+        document.addEventListener('DOMContentLoaded', async () => {\r\n+            const API_BASE_URL = 'http://localhost:5000'; // Defina a URL base da sua API aqui\r\n+            const token = localStorage.getItem('authToken');\r\n+\r\n+            if (!token) {\r\n+                // Se não houver token, não faz nada, a página fica como está.\r\n+                return;\r\n+            }\r\n+\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\r\n+                    headers: { 'Authorization': `Bearer ${token}` }\r\n+                });\r\n+\r\n+                if (!response.ok) {\r\n+                    // Se o token for inválido, remove-o para limpar\r\n+                    localStorage.removeItem('authToken');\r\n+                    return;\r\n+                }\r\n+\r\n+                const data = await response.json();\r\n+                const user = data.user;\r\n+\r\n+                // Se chegou até aqui, o usuário está logado! Vamos atualizar a interface.\r\n+                updateUIForLoggedInUser(user);\r\n+\r\n+            } catch (error) {\r\n+                console.error(\"Erro ao verificar sessão:\", error);\r\n+            }\r\n+        });\r\n+\r\n+            function updateUIForLoggedInUser(user) {\r\n+            // Atualiza o menu principal (desktop)\r\n+            const desktopMenu = document.getElementById('desktop-menu-items');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            if (desktopMenu && navLoginLink) {\r\n+                navLoginLink.textContent = 'Acessar Painel';\r\n+                navLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+                const logoutButton = document.createElement('a');\r\n+                logoutButton.href = '#';\r\n+                logoutButton.id = 'nav-logout-btn';\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                logoutButton.textContent = 'Sair';\r\n+                desktopMenu.appendChild(logoutButton);\r\n+            }\r\n+\r\n+            // Atualiza o menu mobile\r\n+            const mobileMenu = document.getElementById('mobile-menu-items');\r\n+            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+            if(mobileMenu && mobileNavLoginLink) {\r\n+                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+                const mobileLogoutButton = document.createElement('a');\r\n+                mobileLogoutButton.href = '#';\r\n+                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                mobileLogoutButton.textContent = 'Sair';\r\n+                mobileMenu.appendChild(mobileLogoutButton);\r\n+            }\r\n+\r\n+            // Atualiza a seção de login na página\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Acesse seu painel para gerenciar seus boletos.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                        Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </a>\r\n+                `;\r\n+            }\r\n+            \r\n+            // Adiciona funcionalidade aos novos botões de logout\r\n+            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+                btn.addEventListener('click', (e) => {\r\n+                    e.preventDefault();\r\n+                    localStorage.removeItem('authToken');\r\n+                    localStorage.removeItem('superAdminToken');\r\n+                    window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n+                });\r\n+            });\r\n+        }\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752503157163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,17 +228,28 @@\n                     </div>\r\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-                    <!-- MUDANÇA: Adicionado ID ao container para manipulação -->\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Área do Cliente</h3>\r\n-                        <div class=\"space-y-4 text-center\">\r\n-                            <p class=\"text-gray-300\">Acesse o nosso sistema de gestão de boletos para organizar suas finanças com segurança e eficiência.</p>\r\n-                            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Acessar Organizador de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                            </a>\r\n-                        </div>\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Login da Empresa</h3>\r\n+                        \r\n+                        <!-- MUDANÇA: Formulário de Login da Empresa -->\r\n+                        <form id=\"mainLoginForm\">\r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ</label>\r\n+                                <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"mainCompanyPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Senha da Empresa</label>\r\n+                                <input type=\"password\" id=\"mainCompanyPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n+                            </div>\r\n+                            \r\n+                            <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                Próximo <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                            </button>\r\n+                        </form>\r\n+                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n@@ -414,185 +425,230 @@\n         </div>\r\n     </footer>\r\n \r\n     <script>\r\n-        // Mobile menu toggle\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n         \r\n-        mobileMenuButton.addEventListener('click', () => {\r\n-            mobileMenu.classList.toggle('hidden');\r\n-        });\r\n+// --- LÓGICA DO MENU MOBILE E SCROLL SUAVE ---\r\n+\r\n+// Lógica para o menu mobile (hambúrguer)\r\n+const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+const mobileMenu = document.getElementById('mobile-menu');\r\n+\r\n+mobileMenuButton.addEventListener('click', () => {\r\n+    mobileMenu.classList.toggle('hidden');\r\n+});\r\n+\r\n+// Lógica para o scroll suave ao clicar em links âncora (ex: #contato)\r\n+document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+    anchor.addEventListener('click', function (e) {\r\n+        e.preventDefault();\r\n         \r\n-        // Smooth scrolling for anchor links\r\n-        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-            anchor.addEventListener('click', function (e) {\r\n-                e.preventDefault();\r\n-                \r\n-                const targetId = this.getAttribute('href');\r\n-                const targetElement = document.querySelector(targetId);\r\n-                \r\n-                if (targetElement) {\r\n-                    window.scrollTo({\r\n-                        top: targetElement.offsetTop - 80,\r\n-                        behavior: 'smooth'\r\n-                    });\r\n-                    \r\n-                    // Close mobile menu if open\r\n-                    if (!mobileMenu.classList.contains('hidden')) {\r\n-                        mobileMenu.classList.add('hidden');\r\n-                    }\r\n-                }\r\n+        const targetId = this.getAttribute('href');\r\n+        const targetElement = document.querySelector(targetId);\r\n+        \r\n+        if (targetElement) {\r\n+            window.scrollTo({\r\n+                top: targetElement.offsetTop - 80, // Desconto para a altura da navbar fixa\r\n+                behavior: 'smooth'\r\n             });\r\n-        });\r\n-        \r\n-        // Add shadow to navbar on scroll\r\n-        window.addEventListener('scroll', function() {\r\n-            const navbar = document.querySelector('nav');\r\n-            if (window.scrollY > 10) {\r\n-                navbar.classList.add('shadow-lg');\r\n-            } else {\r\n-                navbar.classList.remove('shadow-lg');\r\n+            \r\n+            // Fecha o menu mobile se estiver aberto\r\n+            if (!mobileMenu.classList.contains('hidden')) {\r\n+                mobileMenu.classList.add('hidden');\r\n             }\r\n-        });\r\n+        }\r\n+    });\r\n+});\r\n \r\n-        // Adiciona um listener para o evento de 'submit' do formulário\r\n-        contactForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault(); // Impede o recarregamento padrão da página\r\n+// Lógica para adicionar uma sombra à navbar ao fazer scroll\r\n+window.addEventListener('scroll', function() {\r\n+    const navbar = document.querySelector('nav');\r\n+    if (window.scrollY > 10) {\r\n+        navbar.classList.add('shadow-lg');\r\n+    } else {\r\n+        navbar.classList.remove('shadow-lg');\r\n+    }\r\n+});\r\n \r\n-            // Mostra um feedback de \"enviando\" no botão\r\n-            contactSubmitBtn.disabled = true;\r\n-            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            contactFormFeedback.textContent = ''; // Limpa mensagens antigas\r\n \r\n-            // Coleta os dados dos campos do formulário\r\n-            const formData = {\r\n-                name: document.getElementById('contactName').value,\r\n-                email: document.getElementById('contactEmail').value,\r\n-                subject: document.getElementById('contactSubject').value,\r\n-                message: document.getElementById('contactMessage').value,\r\n-            };\r\n+// --- LÓGICA DO FORMULÁRIO DE LOGIN PRINCIPAL ---\r\n \r\n-            try {\r\n-                // Envia os dados para a nova rota da nossa API\r\n-                const response = await fetch('http://localhost:5000/api/contact/send', {\r\n-                    method: 'POST',\r\n-                    headers: {\r\n-                        'Content-Type': 'application/json',\r\n-                    },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n+const mainLoginForm = document.getElementById('mainLoginForm');\r\n+const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n \r\n-                const result = await response.json();\r\n+// Aplica a máscara de CNPJ ao campo de input\r\n+if (mainCnpjInput) {\r\n+    IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+}\r\n \r\n-                if (!response.ok) {\r\n-                    throw new Error(result.message || 'Ocorreu um erro.');\r\n-                }\r\n+// Listener para o envio do formulário de login da empresa\r\n+mainLoginForm.addEventListener('submit', async function(e) {\r\n+    e.preventDefault();\r\n+    \r\n+    mainLoginSubmitBtn.disabled = true;\r\n+    mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+    mainLoginFormFeedback.textContent = '';\r\n \r\n-                // Se for sucesso, mostra a mensagem e limpa o formulário\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                contactFormFeedback.textContent = result.message;\r\n-                contactForm.reset();\r\n+    const formData = {\r\n+        cnpj: mainCnpjInput.value,\r\n+        password: document.getElementById('mainCompanyPasswordInput').value,\r\n+    };\r\n \r\n-            } catch (error) {\r\n-                // Se der erro, mostra a mensagem de erro\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                contactFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                // Restaura o estado original do botão, independentemente do resultado\r\n-                contactSubmitBtn.disabled = false;\r\n-                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n+    try {\r\n+        const response = await fetch('http://localhost:5000/api/auth/login/company', {\r\n+            method: 'POST',\r\n+            headers: { 'Content-Type': 'application/json' },\r\n+            body: JSON.stringify(formData),\r\n         });\r\n \r\n-                // --- MUDANÇA: LÓGICA DE VERIFICAÇÃO DE SESSÃO ---\r\n-        document.addEventListener('DOMContentLoaded', async () => {\r\n-            const API_BASE_URL = 'http://localhost:5000'; // Defina a URL base da sua API aqui\r\n-            const token = localStorage.getItem('authToken');\r\n+        const result = await response.json();\r\n \r\n-            if (!token) {\r\n-                // Se não houver token, não faz nada, a página fica como está.\r\n-                return;\r\n-            }\r\n+        if (!response.ok) {\r\n+            throw new Error(result.message || 'Ocorreu um erro.');\r\n+        }\r\n \r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\r\n-                    headers: { 'Authorization': `Bearer ${token}` }\r\n-                });\r\n+        // Sucesso! Guarda os dados da empresa no localStorage e redireciona para a aplicação.\r\n+        localStorage.setItem('pendingCompanyLogin', JSON.stringify(result.company));\r\n+        window.location.href = 'OrgBoletos.html';\r\n \r\n-                if (!response.ok) {\r\n-                    // Se o token for inválido, remove-o para limpar\r\n-                    localStorage.removeItem('authToken');\r\n-                    return;\r\n-                }\r\n+    } catch (error) {\r\n+        mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+        mainLoginFormFeedback.textContent = error.message;\r\n+    } finally {\r\n+        mainLoginSubmitBtn.disabled = false;\r\n+        mainLoginSubmitBtn.innerHTML = 'Próximo <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n+    }\r\n+});\r\n \r\n-                const data = await response.json();\r\n-                const user = data.user;\r\n \r\n-                // Se chegou até aqui, o usuário está logado! Vamos atualizar a interface.\r\n-                updateUIForLoggedInUser(user);\r\n+// --- LÓGICA DO FORMULÁRIO DE CONTATO ---\r\n \r\n-            } catch (error) {\r\n-                console.error(\"Erro ao verificar sessão:\", error);\r\n-            }\r\n+const contactForm = document.getElementById('contactForm');\r\n+const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+\r\n+contactForm.addEventListener('submit', async function(e) {\r\n+    e.preventDefault();\r\n+\r\n+    contactSubmitBtn.disabled = true;\r\n+    contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+    contactFormFeedback.textContent = '';\r\n+\r\n+    const formData = {\r\n+        name: document.getElementById('contactName').value,\r\n+        email: document.getElementById('contactEmail').value,\r\n+        subject: document.getElementById('contactSubject').value,\r\n+        message: document.getElementById('contactMessage').value,\r\n+    };\r\n+\r\n+    try {\r\n+        const response = await fetch('http://localhost:5000/api/contact/send', {\r\n+            method: 'POST',\r\n+            headers: { 'Content-Type': 'application/json' },\r\n+            body: JSON.stringify(formData),\r\n         });\r\n \r\n-            function updateUIForLoggedInUser(user) {\r\n-            // Atualiza o menu principal (desktop)\r\n-            const desktopMenu = document.getElementById('desktop-menu-items');\r\n-            const navLoginLink = document.getElementById('nav-login-link');\r\n-            if (desktopMenu && navLoginLink) {\r\n-                navLoginLink.textContent = 'Acessar Painel';\r\n-                navLoginLink.href = 'OrgBoletos.html';\r\n+        const result = await response.json();\r\n \r\n-                const logoutButton = document.createElement('a');\r\n-                logoutButton.href = '#';\r\n-                logoutButton.id = 'nav-logout-btn';\r\n-                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                logoutButton.textContent = 'Sair';\r\n-                desktopMenu.appendChild(logoutButton);\r\n-            }\r\n+        if (!response.ok) {\r\n+            throw new Error(result.message || 'Ocorreu um erro.');\r\n+        }\r\n \r\n-            // Atualiza o menu mobile\r\n-            const mobileMenu = document.getElementById('mobile-menu-items');\r\n-            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-            if(mobileMenu && mobileNavLoginLink) {\r\n-                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+        contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+        contactFormFeedback.textContent = result.message;\r\n+        contactForm.reset();\r\n \r\n-                const mobileLogoutButton = document.createElement('a');\r\n-                mobileLogoutButton.href = '#';\r\n-                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-                mobileLogoutButton.textContent = 'Sair';\r\n-                mobileMenu.appendChild(mobileLogoutButton);\r\n-            }\r\n+    } catch (error) {\r\n+        contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+        contactFormFeedback.textContent = error.message;\r\n+    } finally {\r\n+        contactSubmitBtn.disabled = false;\r\n+        contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+    }\r\n+});\r\n \r\n-            // Atualiza a seção de login na página\r\n-            const loginSectionContent = document.getElementById('login-section-content');\r\n-            if (loginSectionContent) {\r\n-                loginSectionContent.innerHTML = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Acesse seu painel para gerenciar seus boletos.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                        Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </a>\r\n-                `;\r\n-            }\r\n-            \r\n-            // Adiciona funcionalidade aos novos botões de logout\r\n-            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-                btn.addEventListener('click', (e) => {\r\n-                    e.preventDefault();\r\n-                    localStorage.removeItem('authToken');\r\n-                    localStorage.removeItem('superAdminToken');\r\n-                    window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n-                });\r\n-            });\r\n+\r\n+// --- LÓGICA DE VERIFICAÇÃO DE SESSÃO ---\r\n+\r\n+document.addEventListener('DOMContentLoaded', async () => {\r\n+    const API_BASE_URL = 'http://localhost:5000';\r\n+    const token = localStorage.getItem('authToken');\r\n+\r\n+    if (!token) return;\r\n+\r\n+    try {\r\n+        const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\r\n+            headers: { 'Authorization': `Bearer ${token}` }\r\n+        });\r\n+\r\n+        if (!response.ok) {\r\n+            localStorage.removeItem('authToken');\r\n+            return;\r\n         }\r\n \r\n+        const data = await response.json();\r\n+        updateUIForLoggedInUser(data.user);\r\n+\r\n+    } catch (error) {\r\n+        console.error(\"Erro ao verificar sessão:\", error);\r\n+    }\r\n+});\r\n+\r\n+function updateUIForLoggedInUser(user) {\r\n+    // Atualiza o menu principal (desktop)\r\n+    const desktopMenu = document.getElementById('desktop-menu-items');\r\n+    const navLoginLink = document.getElementById('nav-login-link');\r\n+    if (desktopMenu && navLoginLink) {\r\n+        navLoginLink.textContent = 'Acessar Painel';\r\n+        navLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+        const logoutButton = document.createElement('a');\r\n+        logoutButton.href = '#';\r\n+        logoutButton.id = 'nav-logout-btn';\r\n+        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+        logoutButton.textContent = 'Sair';\r\n+        desktopMenu.appendChild(logoutButton);\r\n+    }\r\n+\r\n+    // Atualiza o menu mobile\r\n+    const mobileMenu = document.getElementById('mobile-menu-items');\r\n+    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+    if(mobileMenu && mobileNavLoginLink) {\r\n+        mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+        mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+        const mobileLogoutButton = document.createElement('a');\r\n+        mobileLogoutButton.href = '#';\r\n+        mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+        mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+        mobileLogoutButton.textContent = 'Sair';\r\n+        mobileMenu.appendChild(mobileLogoutButton);\r\n+    }\r\n+\r\n+    // Atualiza a seção de login na página\r\n+    const loginSectionContent = document.getElementById('login-section-content');\r\n+    if (loginSectionContent) {\r\n+        loginSectionContent.innerHTML = `\r\n+            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+            <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Acesse seu painel para gerenciar seus boletos.</p>\r\n+            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+            </a>\r\n+        `;\r\n+    }\r\n+    \r\n+    // Adiciona funcionalidade aos novos botões de logout\r\n+    document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+        btn.addEventListener('click', (e) => {\r\n+            e.preventDefault();\r\n+            localStorage.removeItem('authToken');\r\n+            localStorage.removeItem('superAdminToken');\r\n+            window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n+        });\r\n+    });\r\n+}\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752503636308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,9 +231,8 @@\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                         <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Login da Empresa</h3>\r\n                         \r\n-                        <!-- MUDANÇA: Formulário de Login da Empresa -->\r\n                         <form id=\"mainLoginForm\">\r\n                             <div class=\"mb-6\">\r\n                                 <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ</label>\r\n                                 <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n@@ -425,9 +424,9 @@\n         </div>\r\n     </footer>\r\n \r\n     <script>\r\n-        \r\n+\r\n // --- LÓGICA DO MENU MOBILE E SCROLL SUAVE ---\r\n \r\n // Lógica para o menu mobile (hambúrguer)\r\n const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n"
                },
                {
                    "date": 1752503767234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+    <script src=\"https://unpkg.com/imask\"></script>\r\n     <style>\r\n         @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n         \r\n         body {\r\n"
                },
                {
                    "date": 1752505666469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,23 +230,27 @@\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Login da Empresa</h3>\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n                         \r\n+                        <!-- MUDANÇA: Formulário de Login Unificado -->\r\n                         <form id=\"mainLoginForm\">\r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ</label>\r\n+                            <div class=\"mb-4\">\r\n+                                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n                                 <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n                             </div>\r\n-                            \r\n+                            <div class=\"mb-4\">\r\n+                                <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n+                                <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n+                            </div>\r\n                             <div class=\"mb-6\">\r\n-                                <label for=\"mainCompanyPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Senha da Empresa</label>\r\n-                                <input type=\"password\" id=\"mainCompanyPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n+                                <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n+                                <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n                             </div>\r\n                             \r\n                             <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Próximo <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                             </button>\r\n                         </form>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n@@ -471,56 +475,56 @@\n \r\n \r\n // --- LÓGICA DO FORMULÁRIO DE LOGIN PRINCIPAL ---\r\n \r\n-const mainLoginForm = document.getElementById('mainLoginForm');\r\n-const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const mainLoginForm = document.getElementById('mainLoginForm');\r\n+        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n \r\n-// Aplica a máscara de CNPJ ao campo de input\r\n-if (mainCnpjInput) {\r\n-    IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-}\r\n+        if (mainCnpjInput) {\r\n+            IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        }\r\n \r\n-// Listener para o envio do formulário de login da empresa\r\n-mainLoginForm.addEventListener('submit', async function(e) {\r\n-    e.preventDefault();\r\n-    \r\n-    mainLoginSubmitBtn.disabled = true;\r\n-    mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-    mainLoginFormFeedback.textContent = '';\r\n+        mainLoginForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault();\r\n+            \r\n+            mainLoginSubmitBtn.disabled = true;\r\n+            mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            mainLoginFormFeedback.textContent = '';\r\n \r\n-    const formData = {\r\n-        cnpj: mainCnpjInput.value,\r\n-        password: document.getElementById('mainCompanyPasswordInput').value,\r\n-    };\r\n+            const formData = {\r\n+                cnpj: mainCnpjInput.value,\r\n+                username: document.getElementById('mainUsernameInput').value,\r\n+                password: document.getElementById('mainUserPasswordInput').value,\r\n+            };\r\n \r\n-    try {\r\n-        const response = await fetch('http://localhost:5000/api/auth/login/company', {\r\n-            method: 'POST',\r\n-            headers: { 'Content-Type': 'application/json' },\r\n-            body: JSON.stringify(formData),\r\n-        });\r\n+            try {\r\n+                // Chama a nova rota de login direto\r\n+                const response = await fetch('http://localhost:5000/api/auth/login/direct', {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n \r\n-        const result = await response.json();\r\n+                const result = await response.json();\r\n \r\n-        if (!response.ok) {\r\n-            throw new Error(result.message || 'Ocorreu um erro.');\r\n-        }\r\n+                if (!response.ok) {\r\n+                    throw new Error(result.message || 'Ocorreu um erro.');\r\n+                }\r\n \r\n-        // Sucesso! Guarda os dados da empresa no localStorage e redireciona para a aplicação.\r\n-        localStorage.setItem('pendingCompanyLogin', JSON.stringify(result.company));\r\n-        window.location.href = 'OrgBoletos.html';\r\n+                // Sucesso! Guarda o token final e redireciona para a aplicação.\r\n+                localStorage.setItem('authToken', result.token);\r\n+                window.location.href = 'OrgBoletos.html';\r\n \r\n-    } catch (error) {\r\n-        mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-        mainLoginFormFeedback.textContent = error.message;\r\n-    } finally {\r\n-        mainLoginSubmitBtn.disabled = false;\r\n-        mainLoginSubmitBtn.innerHTML = 'Próximo <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-    }\r\n-});\r\n+            } catch (error) {\r\n+                mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                mainLoginFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                mainLoginSubmitBtn.disabled = false;\r\n+                mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+            }\r\n+        });\r\n \r\n \r\n // --- LÓGICA DO FORMULÁRIO DE CONTATO ---\r\n \r\n"
                },
                {
                    "date": 1752507111407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,8 @@\n                         <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                     </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n-                    <!-- MUDANÇA: Adicionado ID ao container do menu para manipulação -->\r\n                     <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n                         <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n                         <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n                         <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n@@ -95,9 +94,8 @@\n         </div>\r\n         \r\n         <!-- Mobile menu -->\r\n         <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n-             <!-- MUDANÇA: Adicionado ID ao container do menu para manipulação -->\r\n             <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n                 <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n                 <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n                 <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n@@ -232,9 +230,8 @@\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                         <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n                         \r\n-                        <!-- MUDANÇA: Formulário de Login Unificado -->\r\n                         <form id=\"mainLoginForm\">\r\n                             <div class=\"mb-4\">\r\n                                 <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n                                 <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n@@ -430,65 +427,129 @@\n     </footer>\r\n \r\n     <script>\r\n \r\n-// --- LÓGICA DO MENU MOBILE E SCROLL SUAVE ---\r\n+    // =================================================================================\r\n+    // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n+    // =================================================================================\r\n+    // Aqui, declaramos todas as constantes e referências a elementos HTML\r\n+    // que serão usados em várias partes do nosso script.\r\n \r\n-// Lógica para o menu mobile (hambúrguer)\r\n-const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-const mobileMenu = document.getElementById('mobile-menu');\r\n+    const API_BASE_URL = 'http://localhost:5000';\r\n \r\n-mobileMenuButton.addEventListener('click', () => {\r\n-    mobileMenu.classList.toggle('hidden');\r\n-});\r\n+    // --- Elementos do Menu e Navegação ---\r\n+    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+    const mobileMenu = document.getElementById('mobile-menu');\r\n+    const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n+    const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n+    const navLoginLink = document.getElementById('nav-login-link');\r\n+    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n \r\n-// Lógica para o scroll suave ao clicar em links âncora (ex: #contato)\r\n-document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-    anchor.addEventListener('click', function (e) {\r\n-        e.preventDefault();\r\n+    // --- Elementos da Seção de Login ---\r\n+    const loginSectionContent = document.getElementById('login-section-content');\r\n+    const mainLoginForm = document.getElementById('mainLoginForm');\r\n+    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+\r\n+    // --- Elementos do Formulário de Contato ---\r\n+    const contactForm = document.getElementById('contactForm');\r\n+    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n+    // =================================================================================\r\n+    // Funções que realizam tarefas específicas e são chamadas por outras partes do código.\r\n+\r\n+    /**\r\n+     * Atualiza a interface do usuário para o estado \"logado\".\r\n+     * Muda o menu e a seção de login para refletir a sessão ativa.\r\n+     * @param {object} user - O objeto do usuário retornado pela API.\r\n+     */\r\n+    function updateUIForLoggedInUser(user) {\r\n+        // Atualiza o menu principal (desktop)\r\n+        if (desktopMenuItems && navLoginLink) {\r\n+            navLoginLink.textContent = 'Acessar Painel';\r\n+            navLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+            const logoutButton = document.createElement('a');\r\n+            logoutButton.href = '#';\r\n+            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+            logoutButton.textContent = 'Sair';\r\n+            desktopMenuItems.appendChild(logoutButton);\r\n+        }\r\n+\r\n+        // Atualiza o menu mobile\r\n+        if(mobileMenuItems && mobileNavLoginLink) {\r\n+            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+            const mobileLogoutButton = document.createElement('a');\r\n+            mobileLogoutButton.href = '#';\r\n+            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+            mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+            mobileLogoutButton.textContent = 'Sair';\r\n+            mobileMenuItems.appendChild(mobileLogoutButton);\r\n+        }\r\n+\r\n+        // Atualiza a seção de login na página\r\n+        if (loginSectionContent) {\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>\r\n+            `;\r\n+        }\r\n         \r\n-        const targetId = this.getAttribute('href');\r\n-        const targetElement = document.querySelector(targetId);\r\n-        \r\n-        if (targetElement) {\r\n-            window.scrollTo({\r\n-                top: targetElement.offsetTop - 80, // Desconto para a altura da navbar fixa\r\n-                behavior: 'smooth'\r\n+        // Adiciona funcionalidade aos novos botões de logout\r\n+        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+            btn.addEventListener('click', (e) => {\r\n+                e.preventDefault();\r\n+                localStorage.removeItem('authToken');\r\n+                localStorage.removeItem('superAdminToken');\r\n+                window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n             });\r\n-            \r\n-            // Fecha o menu mobile se estiver aberto\r\n-            if (!mobileMenu.classList.contains('hidden')) {\r\n-                mobileMenu.classList.add('hidden');\r\n-            }\r\n-        }\r\n-    });\r\n-});\r\n-\r\n-// Lógica para adicionar uma sombra à navbar ao fazer scroll\r\n-window.addEventListener('scroll', function() {\r\n-    const navbar = document.querySelector('nav');\r\n-    if (window.scrollY > 10) {\r\n-        navbar.classList.add('shadow-lg');\r\n-    } else {\r\n-        navbar.classList.remove('shadow-lg');\r\n+        });\r\n     }\r\n-});\r\n \r\n \r\n-// --- LÓGICA DO FORMULÁRIO DE LOGIN PRINCIPAL ---\r\n+    // =================================================================================\r\n+    // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n+    // =================================================================================\r\n+    // Código que \"ouve\" por ações do usuário, como cliques e envios de formulário.\r\n \r\n-        const mainLoginForm = document.getElementById('mainLoginForm');\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+    // --- Listeners da Navegação e UI Geral ---\r\n+    mobileMenuButton.addEventListener('click', () => {\r\n+        mobileMenu.classList.toggle('hidden');\r\n+    });\r\n \r\n-        if (mainCnpjInput) {\r\n-            IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        }\r\n+    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+        anchor.addEventListener('click', function (e) {\r\n+            e.preventDefault();\r\n+            const targetElement = document.querySelector(this.getAttribute('href'));\r\n+            if (targetElement) {\r\n+                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n+                if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n+            }\r\n+        });\r\n+    });\r\n \r\n+    window.addEventListener('scroll', function() {\r\n+        const navbar = document.querySelector('nav');\r\n+        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n+    });\r\n+\r\n+    // --- Listener do Formulário de Login ---\r\n+    if (mainLoginForm) {\r\n+        if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n+\r\n         mainLoginForm.addEventListener('submit', async function(e) {\r\n             e.preventDefault();\r\n-            \r\n             mainLoginSubmitBtn.disabled = true;\r\n             mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n             mainLoginFormFeedback.textContent = '';\r\n \r\n@@ -498,161 +559,83 @@\n                 password: document.getElementById('mainUserPasswordInput').value,\r\n             };\r\n \r\n             try {\r\n-                // Chama a nova rota de login direto\r\n-                const response = await fetch('http://localhost:5000/api/auth/login/direct', {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n                     method: 'POST',\r\n                     headers: { 'Content-Type': 'application/json' },\r\n                     body: JSON.stringify(formData),\r\n                 });\r\n-\r\n                 const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n \r\n-                if (!response.ok) {\r\n-                    throw new Error(result.message || 'Ocorreu um erro.');\r\n+                localStorage.setItem('authToken', result.token);\r\n+\r\n+                if (result.user && result.user.role === 'Proprietário') {\r\n+                    updateUIForLoggedInUser(result.user);\r\n+                } else {\r\n+                    window.location.href = 'OrgBoletos.html';\r\n                 }\r\n \r\n-                // Sucesso! Guarda o token final e redireciona para a aplicação.\r\n-                localStorage.setItem('authToken', result.token);\r\n-                window.location.href = 'OrgBoletos.html';\r\n-\r\n             } catch (error) {\r\n                 mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n                 mainLoginFormFeedback.textContent = error.message;\r\n             } finally {\r\n                 mainLoginSubmitBtn.disabled = false;\r\n                 mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n             }\r\n         });\r\n-\r\n-\r\n-// --- LÓGICA DO FORMULÁRIO DE CONTATO ---\r\n-\r\n-const contactForm = document.getElementById('contactForm');\r\n-const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-\r\n-contactForm.addEventListener('submit', async function(e) {\r\n-    e.preventDefault();\r\n-\r\n-    contactSubmitBtn.disabled = true;\r\n-    contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-    contactFormFeedback.textContent = '';\r\n-\r\n-    const formData = {\r\n-        name: document.getElementById('contactName').value,\r\n-        email: document.getElementById('contactEmail').value,\r\n-        subject: document.getElementById('contactSubject').value,\r\n-        message: document.getElementById('contactMessage').value,\r\n-    };\r\n-\r\n-    try {\r\n-        const response = await fetch('http://localhost:5000/api/contact/send', {\r\n-            method: 'POST',\r\n-            headers: { 'Content-Type': 'application/json' },\r\n-            body: JSON.stringify(formData),\r\n-        });\r\n-\r\n-        const result = await response.json();\r\n-\r\n-        if (!response.ok) {\r\n-            throw new Error(result.message || 'Ocorreu um erro.');\r\n-        }\r\n-\r\n-        contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-        contactFormFeedback.textContent = result.message;\r\n-        contactForm.reset();\r\n-\r\n-    } catch (error) {\r\n-        contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-        contactFormFeedback.textContent = error.message;\r\n-    } finally {\r\n-        contactSubmitBtn.disabled = false;\r\n-        contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n     }\r\n-});\r\n-\r\n-\r\n-// --- LÓGICA DE VERIFICAÇÃO DE SESSÃO ---\r\n-\r\n-document.addEventListener('DOMContentLoaded', async () => {\r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n-    const token = localStorage.getItem('authToken');\r\n-\r\n-    if (!token) return;\r\n-\r\n-    try {\r\n-        const response = await fetch(`${API_BASE_URL}/api/auth/me`, {\r\n-            headers: { 'Authorization': `Bearer ${token}` }\r\n+    \r\n+    // --- Listener do Formulário de Contato ---\r\n+    if (contactForm) {\r\n+        contactForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault();\r\n+            contactSubmitBtn.disabled = true;\r\n+            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            contactFormFeedback.textContent = '';\r\n+            const formData = {\r\n+                name: document.getElementById('contactName').value,\r\n+                email: document.getElementById('contactEmail').value,\r\n+                subject: document.getElementById('contactSubject').value,\r\n+                message: document.getElementById('contactMessage').value,\r\n+            };\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                contactFormFeedback.textContent = result.message;\r\n+                contactForm.reset();\r\n+            } catch (error) {\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                contactFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                contactSubmitBtn.disabled = false;\r\n+                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n         });\r\n-\r\n-        if (!response.ok) {\r\n-            localStorage.removeItem('authToken');\r\n-            return;\r\n-        }\r\n-\r\n-        const data = await response.json();\r\n-        updateUIForLoggedInUser(data.user);\r\n-\r\n-    } catch (error) {\r\n-        console.error(\"Erro ao verificar sessão:\", error);\r\n     }\r\n-});\r\n \r\n-function updateUIForLoggedInUser(user) {\r\n-    // Atualiza o menu principal (desktop)\r\n-    const desktopMenu = document.getElementById('desktop-menu-items');\r\n-    const navLoginLink = document.getElementById('nav-login-link');\r\n-    if (desktopMenu && navLoginLink) {\r\n-        navLoginLink.textContent = 'Acessar Painel';\r\n-        navLoginLink.href = 'OrgBoletos.html';\r\n+    // =================================================================================\r\n+    // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n+    // =================================================================================\r\n+    // Código que é executado assim que a página termina de carregar.\r\n \r\n-        const logoutButton = document.createElement('a');\r\n-        logoutButton.href = '#';\r\n-        logoutButton.id = 'nav-logout-btn';\r\n-        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-        logoutButton.textContent = 'Sair';\r\n-        desktopMenu.appendChild(logoutButton);\r\n-    }\r\n-\r\n-    // Atualiza o menu mobile\r\n-    const mobileMenu = document.getElementById('mobile-menu-items');\r\n-    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-    if(mobileMenu && mobileNavLoginLink) {\r\n-        mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-        mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-        const mobileLogoutButton = document.createElement('a');\r\n-        mobileLogoutButton.href = '#';\r\n-        mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-        mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-        mobileLogoutButton.textContent = 'Sair';\r\n-        mobileMenu.appendChild(mobileLogoutButton);\r\n-    }\r\n-\r\n-    // Atualiza a seção de login na página\r\n-    const loginSectionContent = document.getElementById('login-section-content');\r\n-    if (loginSectionContent) {\r\n-        loginSectionContent.innerHTML = `\r\n-            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-            <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Acesse seu painel para gerenciar seus boletos.</p>\r\n-            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-            </a>\r\n-        `;\r\n-    }\r\n-    \r\n-    // Adiciona funcionalidade aos novos botões de logout\r\n-    document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-        btn.addEventListener('click', (e) => {\r\n-            e.preventDefault();\r\n-            localStorage.removeItem('authToken');\r\n-            localStorage.removeItem('superAdminToken');\r\n-            window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n-        });\r\n+    document.addEventListener('DOMContentLoaded', async () => {\r\n+        const token = localStorage.getItem('authToken');\r\n+        if (!token) return;\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+            if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n+            const data = await response.json();\r\n+            updateUIForLoggedInUser(data.user);\r\n+        } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n     });\r\n-}\r\n \r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752524742416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,8 @@\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <script src=\"https://unpkg.com/imask\"></script>\r\n     <style>\r\n         @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n         \r\n         body {\r\n@@ -145,18 +144,18 @@\n                 </p>\r\n             </div>\r\n             \r\n             <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n-                <!-- Serviço 1 -->\r\n+                <!-- Serviço 1: Organizador de Boletos -->\r\n                 <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                     <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                         <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n                     </div>\r\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n                         Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n@@ -424,9 +423,9 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </footer>\r\n-\r\n+    <script src=\"https://unpkg.com/imask\"></script>\r\n     <script>\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n@@ -624,18 +623,19 @@\n     // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n     // =================================================================================\r\n     // Código que é executado assim que a página termina de carregar.\r\n \r\n-    document.addEventListener('DOMContentLoaded', async () => {\r\n-        const token = localStorage.getItem('authToken');\r\n-        if (!token) return;\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-            if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n-            const data = await response.json();\r\n-            updateUIForLoggedInUser(data.user);\r\n-        } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n-    });\r\n+        document.addEventListener('DOMContentLoaded', async () => {\r\n+            const token = localStorage.getItem('authToken');\r\n+            if (!token) return;\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n+                const data = await response.json();\r\n+                updateUIForLoggedInUser(data.user, data.company);\r\n \r\n+            } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n+        });\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752524963560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -624,18 +624,86 @@\n     // =================================================================================\r\n     // Código que é executado assim que a página termina de carregar.\r\n \r\n         document.addEventListener('DOMContentLoaded', async () => {\r\n+            const API_BASE_URL = 'http://localhost:5000';\r\n             const token = localStorage.getItem('authToken');\r\n             if (!token) return;\r\n             try {\r\n                 const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n                 if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n                 const data = await response.json();\r\n+                \r\n+                // Passa o objeto 'user' e o objeto 'company' para a função\r\n                 updateUIForLoggedInUser(data.user, data.company);\r\n \r\n             } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n         });\r\n \r\n+                // A função agora aceita 'company' para verificar a assinatura\r\n+        function updateUIForLoggedInUser(user, company) {\r\n+            // --- Atualização do Menu (Desktop e Mobile) ---\r\n+            const desktopMenu = document.getElementById('desktop-menu-items');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            if (desktopMenu && navLoginLink) {\r\n+                navLoginLink.textContent = 'Acessar Painel';\r\n+                navLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButton = document.createElement('a');\r\n+                logoutButton.href = '#';\r\n+                logoutButton.id = 'nav-logout-btn';\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                logoutButton.textContent = 'Sair';\r\n+                desktopMenu.appendChild(logoutButton);\r\n+            }\r\n+            const mobileMenu = document.getElementById('mobile-menu-items');\r\n+            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+            if(mobileMenu && mobileNavLoginLink) {\r\n+                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+                const mobileLogoutButton = document.createElement('a');\r\n+                mobileLogoutButton.href = '#';\r\n+                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                mobileLogoutButton.textContent = 'Sair';\r\n+                mobileMenu.appendChild(mobileLogoutButton);\r\n+            }\r\n+\r\n+            // --- Atualização da Seção de Login ---\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                        Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </a>\r\n+                `;\r\n+            }\r\n+            \r\n+            // --- Lógica para atualizar o card de serviço ---\r\n+            const boletoCardLink = document.getElementById('boleto-card-link');\r\n+            if (boletoCardLink && user.role === 'Proprietário') {\r\n+                const subscriptionStatus = company.subscription?.status;\r\n+\r\n+                if (subscriptionStatus === 'active') {\r\n+                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.href = 'OrgBoletos.html';\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n+                }\r\n+            }\r\n+            \r\n+            // Adiciona funcionalidade aos novos botões de logout\r\n+            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+                btn.addEventListener('click', (e) => {\r\n+                    e.preventDefault();\r\n+                    localStorage.removeItem('authToken');\r\n+                    localStorage.removeItem('superAdminToken');\r\n+                    window.location.reload();\r\n+                });\r\n+            });\r\n+        }\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752525039875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -687,9 +687,9 @@\n                 if (subscriptionStatus === 'active') {\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     boletoCardLink.href = 'OrgBoletos.html';\r\n                 } else {\r\n-                    boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n                     boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n                 }\r\n             }\r\n             \r\n"
                },
                {
                    "date": 1752525062348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -687,9 +687,9 @@\n                 if (subscriptionStatus === 'active') {\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     boletoCardLink.href = 'OrgBoletos.html';\r\n                 } else {\r\n-                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n                 }\r\n             }\r\n             \r\n"
                },
                {
                    "date": 1752525169823,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n                     <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n                 <!-- Serviço 2 -->\r\n"
                },
                {
                    "date": 1752526117759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -638,34 +638,39 @@\n \r\n             } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n         });\r\n \r\n-                // A função agora aceita 'company' para verificar a assinatura\r\n+        // A função agora aceita 'company' para verificar a assinatura\r\n         function updateUIForLoggedInUser(user, company) {\r\n             // --- Atualização do Menu (Desktop e Mobile) ---\r\n             const desktopMenu = document.getElementById('desktop-menu-items');\r\n             const navLoginLink = document.getElementById('nav-login-link');\r\n             if (desktopMenu && navLoginLink) {\r\n-                navLoginLink.textContent = 'Acessar Painel';\r\n-                navLoginLink.href = 'OrgBoletos.html';\r\n-                const logoutButton = document.createElement('a');\r\n-                logoutButton.href = '#';\r\n-                logoutButton.id = 'nav-logout-btn';\r\n-                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                logoutButton.textContent = 'Sair';\r\n-                desktopMenu.appendChild(logoutButton);\r\n+                // Previne adicionar o botão de logout múltiplas vezes\r\n+                if (!document.getElementById('nav-logout-btn')) {\r\n+                    navLoginLink.textContent = 'Acessar Painel';\r\n+                    navLoginLink.href = 'OrgBoletos.html';\r\n+                    const logoutButton = document.createElement('a');\r\n+                    logoutButton.href = '#';\r\n+                    logoutButton.id = 'nav-logout-btn';\r\n+                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                    logoutButton.textContent = 'Sair';\r\n+                    desktopMenu.appendChild(logoutButton);\r\n+                }\r\n             }\r\n             const mobileMenu = document.getElementById('mobile-menu-items');\r\n             const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n             if(mobileMenu && mobileNavLoginLink) {\r\n-                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-                const mobileLogoutButton = document.createElement('a');\r\n-                mobileLogoutButton.href = '#';\r\n-                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-                mobileLogoutButton.textContent = 'Sair';\r\n-                mobileMenu.appendChild(mobileLogoutButton);\r\n+                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n+                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+                    const mobileLogoutButton = document.createElement('a');\r\n+                    mobileLogoutButton.href = '#';\r\n+                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                    mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                    mobileLogoutButton.textContent = 'Sair';\r\n+                    mobileMenu.appendChild(mobileLogoutButton);\r\n+                }\r\n             }\r\n \r\n             // --- Atualização da Seção de Login ---\r\n             const loginSectionContent = document.getElementById('login-section-content');\r\n@@ -680,18 +685,22 @@\n             }\r\n             \r\n             // --- Lógica para atualizar o card de serviço ---\r\n             const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink && user.role === 'Proprietário') {\r\n-                const subscriptionStatus = company.subscription?.status;\r\n+            if (boletoCardLink) { // A verificação agora é apenas se o card existe\r\n+                if (user.role === 'Proprietário') {\r\n+                    const subscriptionStatus = company.subscription?.status;\r\n \r\n-                if (subscriptionStatus === 'active') {\r\n+                    if (subscriptionStatus === 'active') {\r\n+                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                    }\r\n+                } else {\r\n+                    // Para Gerentes e Funcionários, o botão sempre diz \"Acessar Sistema\"\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.href = 'OrgBoletos.html';\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n                 }\r\n+                boletoCardLink.href = 'OrgBoletos.html';\r\n             }\r\n             \r\n             // Adiciona funcionalidade aos novos botões de logout\r\n             document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n"
                },
                {
                    "date": 1752526270517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -638,39 +638,34 @@\n \r\n             } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n         });\r\n \r\n-        // A função agora aceita 'company' para verificar a assinatura\r\n+                // A função agora aceita 'company' para verificar a assinatura\r\n         function updateUIForLoggedInUser(user, company) {\r\n             // --- Atualização do Menu (Desktop e Mobile) ---\r\n             const desktopMenu = document.getElementById('desktop-menu-items');\r\n             const navLoginLink = document.getElementById('nav-login-link');\r\n             if (desktopMenu && navLoginLink) {\r\n-                // Previne adicionar o botão de logout múltiplas vezes\r\n-                if (!document.getElementById('nav-logout-btn')) {\r\n-                    navLoginLink.textContent = 'Acessar Painel';\r\n-                    navLoginLink.href = 'OrgBoletos.html';\r\n-                    const logoutButton = document.createElement('a');\r\n-                    logoutButton.href = '#';\r\n-                    logoutButton.id = 'nav-logout-btn';\r\n-                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                    logoutButton.textContent = 'Sair';\r\n-                    desktopMenu.appendChild(logoutButton);\r\n-                }\r\n+                navLoginLink.textContent = 'Acessar Painel';\r\n+                navLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButton = document.createElement('a');\r\n+                logoutButton.href = '#';\r\n+                logoutButton.id = 'nav-logout-btn';\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                logoutButton.textContent = 'Sair';\r\n+                desktopMenu.appendChild(logoutButton);\r\n             }\r\n             const mobileMenu = document.getElementById('mobile-menu-items');\r\n             const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n             if(mobileMenu && mobileNavLoginLink) {\r\n-                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n-                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-                    const mobileLogoutButton = document.createElement('a');\r\n-                    mobileLogoutButton.href = '#';\r\n-                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                    mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-                    mobileLogoutButton.textContent = 'Sair';\r\n-                    mobileMenu.appendChild(mobileLogoutButton);\r\n-                }\r\n+                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+                const mobileLogoutButton = document.createElement('a');\r\n+                mobileLogoutButton.href = '#';\r\n+                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                mobileLogoutButton.textContent = 'Sair';\r\n+                mobileMenu.appendChild(mobileLogoutButton);\r\n             }\r\n \r\n             // --- Atualização da Seção de Login ---\r\n             const loginSectionContent = document.getElementById('login-section-content');\r\n@@ -685,22 +680,18 @@\n             }\r\n             \r\n             // --- Lógica para atualizar o card de serviço ---\r\n             const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink) { // A verificação agora é apenas se o card existe\r\n-                if (user.role === 'Proprietário') {\r\n-                    const subscriptionStatus = company.subscription?.status;\r\n+            if (boletoCardLink && user.role === 'Proprietário') {\r\n+                const subscriptionStatus = company.subscription?.status;\r\n \r\n-                    if (subscriptionStatus === 'active') {\r\n-                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    } else {\r\n-                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n-                    }\r\n+                if (subscriptionStatus === 'active') {\r\n+                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.href = 'OrgBoletos.html';\r\n                 } else {\r\n-                    // Para Gerentes e Funcionários, o botão sempre diz \"Acessar Sistema\"\r\n-                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n                 }\r\n-                boletoCardLink.href = 'OrgBoletos.html';\r\n             }\r\n             \r\n             // Adiciona funcionalidade aos novos botões de logout\r\n             document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n"
                },
                {
                    "date": 1752526535486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -638,34 +638,39 @@\n \r\n             } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n         });\r\n \r\n-                // A função agora aceita 'company' para verificar a assinatura\r\n+        // A função agora aceita 'company' para verificar a assinatura\r\n         function updateUIForLoggedInUser(user, company) {\r\n             // --- Atualização do Menu (Desktop e Mobile) ---\r\n             const desktopMenu = document.getElementById('desktop-menu-items');\r\n             const navLoginLink = document.getElementById('nav-login-link');\r\n             if (desktopMenu && navLoginLink) {\r\n-                navLoginLink.textContent = 'Acessar Painel';\r\n-                navLoginLink.href = 'OrgBoletos.html';\r\n-                const logoutButton = document.createElement('a');\r\n-                logoutButton.href = '#';\r\n-                logoutButton.id = 'nav-logout-btn';\r\n-                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                logoutButton.textContent = 'Sair';\r\n-                desktopMenu.appendChild(logoutButton);\r\n+                // Previne adicionar o botão de logout múltiplas vezes\r\n+                if (!document.getElementById('nav-logout-btn')) {\r\n+                    navLoginLink.textContent = 'Acessar Painel';\r\n+                    navLoginLink.href = 'OrgBoletos.html';\r\n+                    const logoutButton = document.createElement('a');\r\n+                    logoutButton.href = '#';\r\n+                    logoutButton.id = 'nav-logout-btn';\r\n+                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                    logoutButton.textContent = 'Sair';\r\n+                    desktopMenu.appendChild(logoutButton);\r\n+                }\r\n             }\r\n             const mobileMenu = document.getElementById('mobile-menu-items');\r\n             const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n             if(mobileMenu && mobileNavLoginLink) {\r\n-                mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-                const mobileLogoutButton = document.createElement('a');\r\n-                mobileLogoutButton.href = '#';\r\n-                mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-                mobileLogoutButton.textContent = 'Sair';\r\n-                mobileMenu.appendChild(mobileLogoutButton);\r\n+                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n+                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+                    const mobileLogoutButton = document.createElement('a');\r\n+                    mobileLogoutButton.href = '#';\r\n+                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                    mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                    mobileLogoutButton.textContent = 'Sair';\r\n+                    mobileMenu.appendChild(mobileLogoutButton);\r\n+                }\r\n             }\r\n \r\n             // --- Atualização da Seção de Login ---\r\n             const loginSectionContent = document.getElementById('login-section-content');\r\n@@ -680,18 +685,22 @@\n             }\r\n             \r\n             // --- Lógica para atualizar o card de serviço ---\r\n             const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink && user.role === 'Proprietário') {\r\n-                const subscriptionStatus = company.subscription?.status;\r\n+            if (boletoCardLink) { // A verificação agora é apenas se o card existe\r\n+                if (user.role === 'Proprietário') {\r\n+                    const subscriptionStatus = company.subscription?.status;\r\n \r\n-                if (subscriptionStatus === 'active') {\r\n+                    if (subscriptionStatus === 'active') {\r\n+                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                    }\r\n+                } else {\r\n+                    // Para Gerentes e Funcionários, o botão sempre diz \"Acessar Sistema\"\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.href = 'OrgBoletos.html';\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Assine já <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.href = 'OrgBoletos.html'; // Leva para o app onde o modal de assinatura aparecerá\r\n                 }\r\n+                boletoCardLink.href = 'OrgBoletos.html';\r\n             }\r\n             \r\n             // Adiciona funcionalidade aos novos botões de logout\r\n             document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n"
                },
                {
                    "date": 1752526625668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n                     <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n                 <!-- Serviço 2 -->\r\n"
                },
                {
                    "date": 1752526651014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n                     <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n                 <!-- Serviço 2 -->\r\n"
                },
                {
                    "date": 1752527122357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -631,12 +631,9 @@\n             try {\r\n                 const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n                 if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n                 const data = await response.json();\r\n-                \r\n-                // Passa o objeto 'user' e o objeto 'company' para a função\r\n                 updateUIForLoggedInUser(data.user, data.company);\r\n-\r\n             } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n         });\r\n \r\n         // A função agora aceita 'company' para verificar a assinatura\r\n@@ -644,14 +641,14 @@\n             // --- Atualização do Menu (Desktop e Mobile) ---\r\n             const desktopMenu = document.getElementById('desktop-menu-items');\r\n             const navLoginLink = document.getElementById('nav-login-link');\r\n             if (desktopMenu && navLoginLink) {\r\n-                // Previne adicionar o botão de logout múltiplas vezes\r\n                 if (!document.getElementById('nav-logout-btn')) {\r\n                     navLoginLink.textContent = 'Acessar Painel';\r\n                     navLoginLink.href = 'OrgBoletos.html';\r\n-                    const logoutButton = document.createElement('a');\r\n-                    logoutButton.href = '#';\r\n+                    \r\n+                    // MUDANÇA: Criado como <button> em vez de <a>\r\n+                    const logoutButton = document.createElement('button');\r\n                     logoutButton.id = 'nav-logout-btn';\r\n                     logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n                     logoutButton.textContent = 'Sair';\r\n                     desktopMenu.appendChild(logoutButton);\r\n@@ -662,12 +659,13 @@\n             if(mobileMenu && mobileNavLoginLink) {\r\n                  if (!document.getElementById('mobile-nav-logout-btn')) {\r\n                     mobileNavLoginLink.textContent = 'Acessar Painel';\r\n                     mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-                    const mobileLogoutButton = document.createElement('a');\r\n-                    mobileLogoutButton.href = '#';\r\n+\r\n+                    // MUDANÇA: Criado como <button> em vez de <a>\r\n+                    const mobileLogoutButton = document.createElement('button');\r\n                     mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                    mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+                    mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n                     mobileLogoutButton.textContent = 'Sair';\r\n                     mobileMenu.appendChild(mobileLogoutButton);\r\n                 }\r\n             }\r\n@@ -685,19 +683,17 @@\n             }\r\n             \r\n             // --- Lógica para atualizar o card de serviço ---\r\n             const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink) { // A verificação agora é apenas se o card existe\r\n+            if (boletoCardLink) {\r\n                 if (user.role === 'Proprietário') {\r\n-                    const subscriptionStatus = company.subscription?.status;\r\n-\r\n+                    const subscriptionStatus = company?.subscription?.status;\r\n                     if (subscriptionStatus === 'active') {\r\n                         boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     } else {\r\n                         boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n                     }\r\n                 } else {\r\n-                    // Para Gerentes e Funcionários, o botão sempre diz \"Acessar Sistema\"\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                 }\r\n                 boletoCardLink.href = 'OrgBoletos.html';\r\n             }\r\n"
                },
                {
                    "date": 1752527231679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -689,9 +689,9 @@\n                     const subscriptionStatus = company?.subscription?.status;\r\n                     if (subscriptionStatus === 'active') {\r\n                         boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     } else {\r\n-                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-exclamation-circle ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.innerHTML = 'Faça sua Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     }\r\n                 } else {\r\n                     boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                 }\r\n"
                },
                {
                    "date": 1752528120979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -624,9 +624,8 @@\n     // =================================================================================\r\n     // Código que é executado assim que a página termina de carregar.\r\n \r\n         document.addEventListener('DOMContentLoaded', async () => {\r\n-            const API_BASE_URL = 'http://localhost:5000';\r\n             const token = localStorage.getItem('authToken');\r\n             if (!token) return;\r\n             try {\r\n                 const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n"
                },
                {
                    "date": 1752613217555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,11 +238,14 @@\n                             <div class=\"mb-4\">\r\n                                 <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n                                 <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n                             </div>\r\n-                            <div class=\"mb-6\">\r\n+                            <div class=\"relative\">\r\n                                 <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"••••••••\">\r\n+                                <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 ...\">\r\n+                                <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 top-7 px-4 text-gray-400 hover:text-white\">\r\n+                                    <i class=\"fas fa-eye\"></i>\r\n+                                </button>\r\n                             </div>\r\n                             \r\n                             <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                 Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n"
                },
                {
                    "date": 1752613515070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,14 +238,17 @@\n                             <div class=\"mb-4\">\r\n                                 <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n                                 <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n                             </div>\r\n-                            <div class=\"relative\">\r\n+                            <div class=\"mb-6\">\r\n                                 <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 ...\">\r\n-                                <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 top-7 px-4 text-gray-400 hover:text-white\">\r\n-                                    <i class=\"fas fa-eye\"></i>\r\n-                                </button>\r\n+                                <div class=\"relative\">\r\n+                                    <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                                    \r\n+                                    <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n+                                        <i class=\"fas fa-eye\"></i>\r\n+                                    </button>\r\n+                                </div>\r\n                             </div>\r\n                             \r\n                             <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                 Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n"
                },
                {
                    "date": 1752613588350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -471,8 +471,25 @@\n      * Atualiza a interface do usuário para o estado \"logado\".\r\n      * Muda o menu e a seção de login para refletir a sessão ativa.\r\n      * @param {object} user - O objeto do usuário retornado pela API.\r\n      */\r\n+\r\n+    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n+    if (togglePasswordBtn) {\r\n+        const passwordInput = document.getElementById('mainUserPasswordInput');\r\n+        \r\n+        togglePasswordBtn.addEventListener('click', () => {\r\n+            // Alterna o tipo do input de 'password' para 'text' e vice-versa\r\n+            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n+            passwordInput.setAttribute('type', type);\r\n+            \r\n+            // Alterna o ícone do olho\r\n+            const icon = togglePasswordBtn.querySelector('i');\r\n+            icon.classList.toggle('fa-eye');\r\n+            icon.classList.toggle('fa-eye-slash');\r\n+        });\r\n+    }\r\n+\r\n     function updateUIForLoggedInUser(user) {\r\n         // Atualiza o menu principal (desktop)\r\n         if (desktopMenuItems && navLoginLink) {\r\n             navLoginLink.textContent = 'Acessar Painel';\r\n"
                },
                {
                    "date": 1752615015651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,32 +228,38 @@\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                         <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-                        \r\n                         <form id=\"mainLoginForm\">\r\n-                            <div class=\"mb-4\">\r\n-                                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                                <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                            <div id=\"login-step-1\">\r\n+                                <div class=\"mb-4\">\r\n+                                    <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n+                                    <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full ...\" placeholder=\"00.000.000/0000-00\">\r\n+                                </div>\r\n+                                <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 ...\">\r\n+                                    Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                </button>\r\n                             </div>\r\n-                            <div class=\"mb-4\">\r\n-                                <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n-                                <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n-                            </div>\r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                <div class=\"relative\">\r\n-                                    <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n-                                    \r\n-                                    <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n-                                        <i class=\"fas fa-eye\"></i>\r\n-                                    </button>\r\n+\r\n+                            <div id=\"login-step-2\" class=\"hidden\">\r\n+                                <div class=\"mb-4\">\r\n+                                    <label for=\"mainUsernameInput\" class=\"block ...\">Nome de Usuário</label>\r\n+                                    <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full ...\" placeholder=\"Seu usuário\">\r\n                                 </div>\r\n+                                <div class=\"mb-6\">\r\n+                                    <label for=\"mainUserPasswordInput\" class=\"block ...\">Sua Senha</label>\r\n+                                    <div class=\"relative\">\r\n+                                        <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full ... pr-10\" placeholder=\"••••••••\">\r\n+                                        <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 ...\">\r\n+                                            <i class=\"fas fa-eye\"></i>\r\n+                                        </button>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 ...\">\r\n+                                    Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+                                </button>\r\n+                                <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white\">Voltar</button>\r\n                             </div>\r\n-                            \r\n-                            <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                            </button>\r\n                         </form>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752615147321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,39 +228,40 @@\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                     <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                         <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-                        <form id=\"mainLoginForm\">\r\n-                            <div id=\"login-step-1\">\r\n-                                <div class=\"mb-4\">\r\n-                                    <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                                    <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full ...\" placeholder=\"00.000.000/0000-00\">\r\n+                            <form id=\"mainLoginForm\">\r\n+                                <div id=\"login-step-1\">\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n+                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                                    </div>\r\n+                                    <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                        Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                    </button>\r\n                                 </div>\r\n-                                <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 ...\">\r\n-                                    Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                                </button>\r\n-                            </div>\r\n \r\n-                            <div id=\"login-step-2\" class=\"hidden\">\r\n-                                <div class=\"mb-4\">\r\n-                                    <label for=\"mainUsernameInput\" class=\"block ...\">Nome de Usuário</label>\r\n-                                    <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full ...\" placeholder=\"Seu usuário\">\r\n-                                </div>\r\n-                                <div class=\"mb-6\">\r\n-                                    <label for=\"mainUserPasswordInput\" class=\"block ...\">Sua Senha</label>\r\n-                                    <div class=\"relative\">\r\n-                                        <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full ... pr-10\" placeholder=\"••••••••\">\r\n-                                        <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 ...\">\r\n-                                            <i class=\"fas fa-eye\"></i>\r\n-                                        </button>\r\n+                                <div id=\"login-step-2\" class=\"hidden\">\r\n+                                    <div class=\"mb-4\">\r\n+                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n+                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n                                     </div>\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n+                                        <div class=\"relative\">\r\n+                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n+                                                <i class=\"fas fa-eye\"></i>\r\n+                                            </button>\r\n+                                        </div>\r\n+                                    </div>\r\n+                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                 </div>\r\n-                                <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 ...\">\r\n-                                    Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                                </button>\r\n-                                <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white\">Voltar</button>\r\n-                            </div>\r\n-                        </form>\r\n+                            </form>\r\n+                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1752615660681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,307 +437,7 @@\n             </div>\r\n         </div>\r\n     </footer>\r\n     <script src=\"https://unpkg.com/imask\"></script>\r\n-    <script>\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n-    // =================================================================================\r\n-    // Aqui, declaramos todas as constantes e referências a elementos HTML\r\n-    // que serão usados em várias partes do nosso script.\r\n-\r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n-\r\n-    // --- Elementos do Menu e Navegação ---\r\n-    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-    const mobileMenu = document.getElementById('mobile-menu');\r\n-    const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n-    const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n-    const navLoginLink = document.getElementById('nav-login-link');\r\n-    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-\r\n-    // --- Elementos da Seção de Login ---\r\n-    const loginSectionContent = document.getElementById('login-section-content');\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-\r\n-    // --- Elementos do Formulário de Contato ---\r\n-    const contactForm = document.getElementById('contactForm');\r\n-    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n-    // =================================================================================\r\n-    // Funções que realizam tarefas específicas e são chamadas por outras partes do código.\r\n-\r\n-    /**\r\n-     * Atualiza a interface do usuário para o estado \"logado\".\r\n-     * Muda o menu e a seção de login para refletir a sessão ativa.\r\n-     * @param {object} user - O objeto do usuário retornado pela API.\r\n-     */\r\n-\r\n-    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n-    if (togglePasswordBtn) {\r\n-        const passwordInput = document.getElementById('mainUserPasswordInput');\r\n-        \r\n-        togglePasswordBtn.addEventListener('click', () => {\r\n-            // Alterna o tipo do input de 'password' para 'text' e vice-versa\r\n-            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n-            passwordInput.setAttribute('type', type);\r\n-            \r\n-            // Alterna o ícone do olho\r\n-            const icon = togglePasswordBtn.querySelector('i');\r\n-            icon.classList.toggle('fa-eye');\r\n-            icon.classList.toggle('fa-eye-slash');\r\n-        });\r\n-    }\r\n-\r\n-    function updateUIForLoggedInUser(user) {\r\n-        // Atualiza o menu principal (desktop)\r\n-        if (desktopMenuItems && navLoginLink) {\r\n-            navLoginLink.textContent = 'Acessar Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-            const logoutButton = document.createElement('a');\r\n-            logoutButton.href = '#';\r\n-            logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenuItems.appendChild(logoutButton);\r\n-        }\r\n-\r\n-        // Atualiza o menu mobile\r\n-        if(mobileMenuItems && mobileNavLoginLink) {\r\n-            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-            const mobileLogoutButton = document.createElement('a');\r\n-            mobileLogoutButton.href = '#';\r\n-            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-            mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-            mobileLogoutButton.textContent = 'Sair';\r\n-            mobileMenuItems.appendChild(mobileLogoutButton);\r\n-        }\r\n-\r\n-        // Atualiza a seção de login na página\r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>\r\n-            `;\r\n-        }\r\n-        \r\n-        // Adiciona funcionalidade aos novos botões de logout\r\n-        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', (e) => {\r\n-                e.preventDefault();\r\n-                localStorage.removeItem('authToken');\r\n-                localStorage.removeItem('superAdminToken');\r\n-                window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n-            });\r\n-        });\r\n-    }\r\n-\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n-    // =================================================================================\r\n-    // Código que \"ouve\" por ações do usuário, como cliques e envios de formulário.\r\n-\r\n-    // --- Listeners da Navegação e UI Geral ---\r\n-    mobileMenuButton.addEventListener('click', () => {\r\n-        mobileMenu.classList.toggle('hidden');\r\n-    });\r\n-\r\n-    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-        anchor.addEventListener('click', function (e) {\r\n-            e.preventDefault();\r\n-            const targetElement = document.querySelector(this.getAttribute('href'));\r\n-            if (targetElement) {\r\n-                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n-                if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n-            }\r\n-        });\r\n-    });\r\n-\r\n-    window.addEventListener('scroll', function() {\r\n-        const navbar = document.querySelector('nav');\r\n-        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n-    });\r\n-\r\n-    // --- Listener do Formulário de Login ---\r\n-    if (mainLoginForm) {\r\n-        if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n-\r\n-        mainLoginForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault();\r\n-            mainLoginSubmitBtn.disabled = true;\r\n-            mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            mainLoginFormFeedback.textContent = '';\r\n-\r\n-            const formData = {\r\n-                cnpj: mainCnpjInput.value,\r\n-                username: document.getElementById('mainUsernameInput').value,\r\n-                password: document.getElementById('mainUserPasswordInput').value,\r\n-            };\r\n-\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-\r\n-                localStorage.setItem('authToken', result.token);\r\n-\r\n-                if (result.user && result.user.role === 'Proprietário') {\r\n-                    updateUIForLoggedInUser(result.user);\r\n-                } else {\r\n-                    window.location.href = 'OrgBoletos.html';\r\n-                }\r\n-\r\n-            } catch (error) {\r\n-                mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                mainLoginFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                mainLoginSubmitBtn.disabled = false;\r\n-                mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n-    \r\n-    // --- Listener do Formulário de Contato ---\r\n-    if (contactForm) {\r\n-        contactForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault();\r\n-            contactSubmitBtn.disabled = true;\r\n-            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            contactFormFeedback.textContent = '';\r\n-            const formData = {\r\n-                name: document.getElementById('contactName').value,\r\n-                email: document.getElementById('contactEmail').value,\r\n-                subject: document.getElementById('contactSubject').value,\r\n-                message: document.getElementById('contactMessage').value,\r\n-            };\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                contactFormFeedback.textContent = result.message;\r\n-                contactForm.reset();\r\n-            } catch (error) {\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                contactFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                contactSubmitBtn.disabled = false;\r\n-                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n-    // =================================================================================\r\n-    // Código que é executado assim que a página termina de carregar.\r\n-\r\n-        document.addEventListener('DOMContentLoaded', async () => {\r\n-            const token = localStorage.getItem('authToken');\r\n-            if (!token) return;\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-                if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user, data.company);\r\n-            } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n-        });\r\n-\r\n-        // A função agora aceita 'company' para verificar a assinatura\r\n-        function updateUIForLoggedInUser(user, company) {\r\n-            // --- Atualização do Menu (Desktop e Mobile) ---\r\n-            const desktopMenu = document.getElementById('desktop-menu-items');\r\n-            const navLoginLink = document.getElementById('nav-login-link');\r\n-            if (desktopMenu && navLoginLink) {\r\n-                if (!document.getElementById('nav-logout-btn')) {\r\n-                    navLoginLink.textContent = 'Acessar Painel';\r\n-                    navLoginLink.href = 'OrgBoletos.html';\r\n-                    \r\n-                    // MUDANÇA: Criado como <button> em vez de <a>\r\n-                    const logoutButton = document.createElement('button');\r\n-                    logoutButton.id = 'nav-logout-btn';\r\n-                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                    logoutButton.textContent = 'Sair';\r\n-                    desktopMenu.appendChild(logoutButton);\r\n-                }\r\n-            }\r\n-            const mobileMenu = document.getElementById('mobile-menu-items');\r\n-            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-            if(mobileMenu && mobileNavLoginLink) {\r\n-                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n-                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-                    // MUDANÇA: Criado como <button> em vez de <a>\r\n-                    const mobileLogoutButton = document.createElement('button');\r\n-                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                    mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n-                    mobileLogoutButton.textContent = 'Sair';\r\n-                    mobileMenu.appendChild(mobileLogoutButton);\r\n-                }\r\n-            }\r\n-\r\n-            // --- Atualização da Seção de Login ---\r\n-            const loginSectionContent = document.getElementById('login-section-content');\r\n-            if (loginSectionContent) {\r\n-                loginSectionContent.innerHTML = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                        Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </a>\r\n-                `;\r\n-            }\r\n-            \r\n-            // --- Lógica para atualizar o card de serviço ---\r\n-            const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink) {\r\n-                if (user.role === 'Proprietário') {\r\n-                    const subscriptionStatus = company?.subscription?.status;\r\n-                    if (subscriptionStatus === 'active') {\r\n-                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    } else {\r\n-                        boletoCardLink.innerHTML = 'Faça sua Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    }\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                }\r\n-                boletoCardLink.href = 'OrgBoletos.html';\r\n-            }\r\n-            \r\n-            // Adiciona funcionalidade aos novos botões de logout\r\n-            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-                btn.addEventListener('click', (e) => {\r\n-                    e.preventDefault();\r\n-                    localStorage.removeItem('authToken');\r\n-                    localStorage.removeItem('superAdminToken');\r\n-                    window.location.reload();\r\n-                });\r\n-            });\r\n-        }\r\n-\r\n-    </script>\r\n+    <script src=\"script.js\" defer></script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752616615177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,7 +437,307 @@\n             </div>\r\n         </div>\r\n     </footer>\r\n     <script src=\"https://unpkg.com/imask\"></script>\r\n-    <script src=\"script.js\" defer></script>\r\n+    <script>\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n+    // =================================================================================\r\n+    // Aqui, declaramos todas as constantes e referências a elementos HTML\r\n+    // que serão usados em várias partes do nosso script.\r\n+\r\n+    const API_BASE_URL = 'http://localhost:5000';\r\n+\r\n+    // --- Elementos do Menu e Navegação ---\r\n+    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+    const mobileMenu = document.getElementById('mobile-menu');\r\n+    const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n+    const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n+    const navLoginLink = document.getElementById('nav-login-link');\r\n+    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+\r\n+    // --- Elementos da Seção de Login ---\r\n+    const loginSectionContent = document.getElementById('login-section-content');\r\n+    const mainLoginForm = document.getElementById('mainLoginForm');\r\n+    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+\r\n+    // --- Elementos do Formulário de Contato ---\r\n+    const contactForm = document.getElementById('contactForm');\r\n+    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n+    // =================================================================================\r\n+    // Funções que realizam tarefas específicas e são chamadas por outras partes do código.\r\n+\r\n+    /**\r\n+     * Atualiza a interface do usuário para o estado \"logado\".\r\n+     * Muda o menu e a seção de login para refletir a sessão ativa.\r\n+     * @param {object} user - O objeto do usuário retornado pela API.\r\n+     */\r\n+\r\n+    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n+    if (togglePasswordBtn) {\r\n+        const passwordInput = document.getElementById('mainUserPasswordInput');\r\n+        \r\n+        togglePasswordBtn.addEventListener('click', () => {\r\n+            // Alterna o tipo do input de 'password' para 'text' e vice-versa\r\n+            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n+            passwordInput.setAttribute('type', type);\r\n+            \r\n+            // Alterna o ícone do olho\r\n+            const icon = togglePasswordBtn.querySelector('i');\r\n+            icon.classList.toggle('fa-eye');\r\n+            icon.classList.toggle('fa-eye-slash');\r\n+        });\r\n+    }\r\n+\r\n+    function updateUIForLoggedInUser(user) {\r\n+        // Atualiza o menu principal (desktop)\r\n+        if (desktopMenuItems && navLoginLink) {\r\n+            navLoginLink.textContent = 'Acessar Painel';\r\n+            navLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+            const logoutButton = document.createElement('a');\r\n+            logoutButton.href = '#';\r\n+            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+            logoutButton.textContent = 'Sair';\r\n+            desktopMenuItems.appendChild(logoutButton);\r\n+        }\r\n+\r\n+        // Atualiza o menu mobile\r\n+        if(mobileMenuItems && mobileNavLoginLink) {\r\n+            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+            const mobileLogoutButton = document.createElement('a');\r\n+            mobileLogoutButton.href = '#';\r\n+            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+            mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n+            mobileLogoutButton.textContent = 'Sair';\r\n+            mobileMenuItems.appendChild(mobileLogoutButton);\r\n+        }\r\n+\r\n+        // Atualiza a seção de login na página\r\n+        if (loginSectionContent) {\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>\r\n+            `;\r\n+        }\r\n+        \r\n+        // Adiciona funcionalidade aos novos botões de logout\r\n+        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+            btn.addEventListener('click', (e) => {\r\n+                e.preventDefault();\r\n+                localStorage.removeItem('authToken');\r\n+                localStorage.removeItem('superAdminToken');\r\n+                window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n+            });\r\n+        });\r\n+    }\r\n+\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n+    // =================================================================================\r\n+    // Código que \"ouve\" por ações do usuário, como cliques e envios de formulário.\r\n+\r\n+    // --- Listeners da Navegação e UI Geral ---\r\n+    mobileMenuButton.addEventListener('click', () => {\r\n+        mobileMenu.classList.toggle('hidden');\r\n+    });\r\n+\r\n+    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+        anchor.addEventListener('click', function (e) {\r\n+            e.preventDefault();\r\n+            const targetElement = document.querySelector(this.getAttribute('href'));\r\n+            if (targetElement) {\r\n+                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n+                if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n+            }\r\n+        });\r\n+    });\r\n+\r\n+    window.addEventListener('scroll', function() {\r\n+        const navbar = document.querySelector('nav');\r\n+        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n+    });\r\n+\r\n+    // --- Listener do Formulário de Login ---\r\n+    if (mainLoginForm) {\r\n+        if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n+\r\n+        mainLoginForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault();\r\n+            mainLoginSubmitBtn.disabled = true;\r\n+            mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            mainLoginFormFeedback.textContent = '';\r\n+\r\n+            const formData = {\r\n+                cnpj: mainCnpjInput.value,\r\n+                username: document.getElementById('mainUsernameInput').value,\r\n+                password: document.getElementById('mainUserPasswordInput').value,\r\n+            };\r\n+\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+\r\n+                localStorage.setItem('authToken', result.token);\r\n+\r\n+                if (result.user && result.user.role === 'Proprietário') {\r\n+                    updateUIForLoggedInUser(result.user);\r\n+                } else {\r\n+                    window.location.href = 'OrgBoletos.html';\r\n+                }\r\n+\r\n+            } catch (error) {\r\n+                mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                mainLoginFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                mainLoginSubmitBtn.disabled = false;\r\n+                mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+            }\r\n+        });\r\n+    }\r\n+    \r\n+    // --- Listener do Formulário de Contato ---\r\n+    if (contactForm) {\r\n+        contactForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault();\r\n+            contactSubmitBtn.disabled = true;\r\n+            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            contactFormFeedback.textContent = '';\r\n+            const formData = {\r\n+                name: document.getElementById('contactName').value,\r\n+                email: document.getElementById('contactEmail').value,\r\n+                subject: document.getElementById('contactSubject').value,\r\n+                message: document.getElementById('contactMessage').value,\r\n+            };\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                contactFormFeedback.textContent = result.message;\r\n+                contactForm.reset();\r\n+            } catch (error) {\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                contactFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                contactSubmitBtn.disabled = false;\r\n+                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n+    // =================================================================================\r\n+    // Código que é executado assim que a página termina de carregar.\r\n+\r\n+        document.addEventListener('DOMContentLoaded', async () => {\r\n+            const token = localStorage.getItem('authToken');\r\n+            if (!token) return;\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n+                const data = await response.json();\r\n+                updateUIForLoggedInUser(data.user, data.company);\r\n+            } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n+        });\r\n+\r\n+        // A função agora aceita 'company' para verificar a assinatura\r\n+        function updateUIForLoggedInUser(user, company) {\r\n+            // --- Atualização do Menu (Desktop e Mobile) ---\r\n+            const desktopMenu = document.getElementById('desktop-menu-items');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            if (desktopMenu && navLoginLink) {\r\n+                if (!document.getElementById('nav-logout-btn')) {\r\n+                    navLoginLink.textContent = 'Acessar Painel';\r\n+                    navLoginLink.href = 'OrgBoletos.html';\r\n+                    \r\n+                    // MUDANÇA: Criado como <button> em vez de <a>\r\n+                    const logoutButton = document.createElement('button');\r\n+                    logoutButton.id = 'nav-logout-btn';\r\n+                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+                    logoutButton.textContent = 'Sair';\r\n+                    desktopMenu.appendChild(logoutButton);\r\n+                }\r\n+            }\r\n+            const mobileMenu = document.getElementById('mobile-menu-items');\r\n+            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+            if(mobileMenu && mobileNavLoginLink) {\r\n+                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n+                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+                    // MUDANÇA: Criado como <button> em vez de <a>\r\n+                    const mobileLogoutButton = document.createElement('button');\r\n+                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+                    mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n+                    mobileLogoutButton.textContent = 'Sair';\r\n+                    mobileMenu.appendChild(mobileLogoutButton);\r\n+                }\r\n+            }\r\n+\r\n+            // --- Atualização da Seção de Login ---\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                        Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </a>\r\n+                `;\r\n+            }\r\n+            \r\n+            // --- Lógica para atualizar o card de serviço ---\r\n+            const boletoCardLink = document.getElementById('boleto-card-link');\r\n+            if (boletoCardLink) {\r\n+                if (user.role === 'Proprietário') {\r\n+                    const subscriptionStatus = company?.subscription?.status;\r\n+                    if (subscriptionStatus === 'active') {\r\n+                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Faça sua Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    }\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                }\r\n+                boletoCardLink.href = 'OrgBoletos.html';\r\n+            }\r\n+            \r\n+            // Adiciona funcionalidade aos novos botões de logout\r\n+            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+                btn.addEventListener('click', (e) => {\r\n+                    e.preventDefault();\r\n+                    localStorage.removeItem('authToken');\r\n+                    localStorage.removeItem('superAdminToken');\r\n+                    window.location.reload();\r\n+                });\r\n+            });\r\n+        }\r\n+\r\n+    </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752671271653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -438,260 +438,71 @@\n         </div>\r\n     </footer>\r\n     <script src=\"https://unpkg.com/imask\"></script>\r\n     <script>\r\n+        // =================================================================================\r\n+        // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n+        // =================================================================================\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n-    // =================================================================================\r\n-    // Aqui, declaramos todas as constantes e referências a elementos HTML\r\n-    // que serão usados em várias partes do nosso script.\r\n+        const API_BASE_URL = 'http://localhost:5000';\r\n \r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n+        // --- Elementos do Menu e Navegação ---\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n+        const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n+        const navLoginLink = document.getElementById('nav-login-link');\r\n+        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n \r\n-    // --- Elementos do Menu e Navegação ---\r\n-    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-    const mobileMenu = document.getElementById('mobile-menu');\r\n-    const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n-    const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n-    const navLoginLink = document.getElementById('nav-login-link');\r\n-    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+        // --- Elementos da Seção de Login ---\r\n+        const loginSectionContent = document.getElementById('login-section-content');\r\n+        const mainLoginForm = document.getElementById('mainLoginForm');\r\n+        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n \r\n-    // --- Elementos da Seção de Login ---\r\n-    const loginSectionContent = document.getElementById('login-section-content');\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        // --- Elementos do Login de Múltiplos Passos (CORREÇÃO) ---\r\n+        const loginStep1 = document.getElementById('login-step-1'); // NOVO\r\n+        const loginStep2 = document.getElementById('login-step-2'); // NOVO\r\n+        const nextStepBtn = document.getElementById('nextStepBtn'); // NOVO\r\n+        const backToStep1Btn = document.getElementById('backToStep1Btn'); // NOVO\r\n \r\n-    // --- Elementos do Formulário de Contato ---\r\n-    const contactForm = document.getElementById('contactForm');\r\n-    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n \r\n+        // --- Elementos do Formulário de Contato ---\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n-    // =================================================================================\r\n-    // Funções que realizam tarefas específicas e são chamadas por outras partes do código.\r\n \r\n-    /**\r\n-     * Atualiza a interface do usuário para o estado \"logado\".\r\n-     * Muda o menu e a seção de login para refletir a sessão ativa.\r\n-     * @param {object} user - O objeto do usuário retornado pela API.\r\n-     */\r\n-\r\n-    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n-    if (togglePasswordBtn) {\r\n-        const passwordInput = document.getElementById('mainUserPasswordInput');\r\n+        // =================================================================================\r\n+        // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n+        // =================================================================================\r\n         \r\n-        togglePasswordBtn.addEventListener('click', () => {\r\n-            // Alterna o tipo do input de 'password' para 'text' e vice-versa\r\n-            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n-            passwordInput.setAttribute('type', type);\r\n-            \r\n-            // Alterna o ícone do olho\r\n-            const icon = togglePasswordBtn.querySelector('i');\r\n-            icon.classList.toggle('fa-eye');\r\n-            icon.classList.toggle('fa-eye-slash');\r\n-        });\r\n-    }\r\n-\r\n-    function updateUIForLoggedInUser(user) {\r\n-        // Atualiza o menu principal (desktop)\r\n-        if (desktopMenuItems && navLoginLink) {\r\n-            navLoginLink.textContent = 'Acessar Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-            const logoutButton = document.createElement('a');\r\n-            logoutButton.href = '#';\r\n-            logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenuItems.appendChild(logoutButton);\r\n-        }\r\n-\r\n-        // Atualiza o menu mobile\r\n-        if(mobileMenuItems && mobileNavLoginLink) {\r\n-            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-\r\n-            const mobileLogoutButton = document.createElement('a');\r\n-            mobileLogoutButton.href = '#';\r\n-            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-            mobileLogoutButton.className = 'text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium bg-red-600';\r\n-            mobileLogoutButton.textContent = 'Sair';\r\n-            mobileMenuItems.appendChild(mobileLogoutButton);\r\n-        }\r\n-\r\n-        // Atualiza a seção de login na página\r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>\r\n-            `;\r\n-        }\r\n-        \r\n-        // Adiciona funcionalidade aos novos botões de logout\r\n-        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', (e) => {\r\n-                e.preventDefault();\r\n-                localStorage.removeItem('authToken');\r\n-                localStorage.removeItem('superAdminToken');\r\n-                window.location.reload(); // Recarrega a página para o estado de \"deslogado\"\r\n-            });\r\n-        });\r\n-    }\r\n-\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n-    // =================================================================================\r\n-    // Código que \"ouve\" por ações do usuário, como cliques e envios de formulário.\r\n-\r\n-    // --- Listeners da Navegação e UI Geral ---\r\n-    mobileMenuButton.addEventListener('click', () => {\r\n-        mobileMenu.classList.toggle('hidden');\r\n-    });\r\n-\r\n-    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-        anchor.addEventListener('click', function (e) {\r\n-            e.preventDefault();\r\n-            const targetElement = document.querySelector(this.getAttribute('href'));\r\n-            if (targetElement) {\r\n-                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n-                if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n-            }\r\n-        });\r\n-    });\r\n-\r\n-    window.addEventListener('scroll', function() {\r\n-        const navbar = document.querySelector('nav');\r\n-        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n-    });\r\n-\r\n-    // --- Listener do Formulário de Login ---\r\n-    if (mainLoginForm) {\r\n-        if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n-\r\n-        mainLoginForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault();\r\n-            mainLoginSubmitBtn.disabled = true;\r\n-            mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            mainLoginFormFeedback.textContent = '';\r\n-\r\n-            const formData = {\r\n-                cnpj: mainCnpjInput.value,\r\n-                username: document.getElementById('mainUsernameInput').value,\r\n-                password: document.getElementById('mainUserPasswordInput').value,\r\n-            };\r\n-\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-\r\n-                localStorage.setItem('authToken', result.token);\r\n-\r\n-                if (result.user && result.user.role === 'Proprietário') {\r\n-                    updateUIForLoggedInUser(result.user);\r\n-                } else {\r\n-                    window.location.href = 'OrgBoletos.html';\r\n-                }\r\n-\r\n-            } catch (error) {\r\n-                mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                mainLoginFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                mainLoginSubmitBtn.disabled = false;\r\n-                mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n-    \r\n-    // --- Listener do Formulário de Contato ---\r\n-    if (contactForm) {\r\n-        contactForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault();\r\n-            contactSubmitBtn.disabled = true;\r\n-            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            contactFormFeedback.textContent = '';\r\n-            const formData = {\r\n-                name: document.getElementById('contactName').value,\r\n-                email: document.getElementById('contactEmail').value,\r\n-                subject: document.getElementById('contactSubject').value,\r\n-                message: document.getElementById('contactMessage').value,\r\n-            };\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                contactFormFeedback.textContent = result.message;\r\n-                contactForm.reset();\r\n-            } catch (error) {\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                contactFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                contactSubmitBtn.disabled = false;\r\n-                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n-    // =================================================================================\r\n-    // Código que é executado assim que a página termina de carregar.\r\n-\r\n-        document.addEventListener('DOMContentLoaded', async () => {\r\n-            const token = localStorage.getItem('authToken');\r\n-            if (!token) return;\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-                if (!response.ok) { localStorage.removeItem('authToken'); return; }\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user, data.company);\r\n-            } catch (error) { console.error(\"Erro ao verificar sessão:\", error); }\r\n-        });\r\n-\r\n-        // A função agora aceita 'company' para verificar a assinatura\r\n+        /**\r\n+         * Atualiza a interface do usuário para o estado \"logado\".\r\n+         */\r\n         function updateUIForLoggedInUser(user, company) {\r\n             // --- Atualização do Menu (Desktop e Mobile) ---\r\n             const desktopMenu = document.getElementById('desktop-menu-items');\r\n-            const navLoginLink = document.getElementById('nav-login-link');\r\n             if (desktopMenu && navLoginLink) {\r\n                 if (!document.getElementById('nav-logout-btn')) {\r\n                     navLoginLink.textContent = 'Acessar Painel';\r\n                     navLoginLink.href = 'OrgBoletos.html';\r\n                     \r\n-                    // MUDANÇA: Criado como <button> em vez de <a>\r\n                     const logoutButton = document.createElement('button');\r\n                     logoutButton.id = 'nav-logout-btn';\r\n                     logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n                     logoutButton.textContent = 'Sair';\r\n                     desktopMenu.appendChild(logoutButton);\r\n                 }\r\n             }\r\n             const mobileMenu = document.getElementById('mobile-menu-items');\r\n-            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n             if(mobileMenu && mobileNavLoginLink) {\r\n-                 if (!document.getElementById('mobile-nav-logout-btn')) {\r\n+                if (!document.getElementById('mobile-nav-logout-btn')) {\r\n                     mobileNavLoginLink.textContent = 'Acessar Painel';\r\n                     mobileNavLoginLink.href = 'OrgBoletos.html';\r\n \r\n-                    // MUDANÇA: Criado como <button> em vez de <a>\r\n                     const mobileLogoutButton = document.createElement('button');\r\n                     mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n                     mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n                     mobileLogoutButton.textContent = 'Sair';\r\n@@ -699,9 +510,8 @@\n                 }\r\n             }\r\n \r\n             // --- Atualização da Seção de Login ---\r\n-            const loginSectionContent = document.getElementById('login-section-content');\r\n             if (loginSectionContent) {\r\n                 loginSectionContent.innerHTML = `\r\n                     <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n                     <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n@@ -737,7 +547,167 @@\n                 });\r\n             });\r\n         }\r\n \r\n+\r\n+        // =================================================================================\r\n+        // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n+        // =================================================================================\r\n+\r\n+        // --- Listeners da Navegação e UI Geral ---\r\n+        mobileMenuButton.addEventListener('click', () => {\r\n+            mobileMenu.classList.toggle('hidden');\r\n+        });\r\n+\r\n+        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+            anchor.addEventListener('click', function (e) {\r\n+                e.preventDefault();\r\n+                const targetElement = document.querySelector(this.getAttribute('href'));\r\n+                if (targetElement) {\r\n+                    window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n+                    if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        window.addEventListener('scroll', function() {\r\n+            const navbar = document.querySelector('nav');\r\n+            if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n+        });\r\n+        \r\n+        // --- Listener para mostrar/esconder senha ---\r\n+        if (togglePasswordBtn) {\r\n+            const passwordInput = document.getElementById('mainUserPasswordInput');\r\n+            togglePasswordBtn.addEventListener('click', () => {\r\n+                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n+                passwordInput.setAttribute('type', type);\r\n+                const icon = togglePasswordBtn.querySelector('i');\r\n+                icon.classList.toggle('fa-eye');\r\n+                icon.classList.toggle('fa-eye-slash');\r\n+            });\r\n+        }\r\n+\r\n+        // --- Listener do Formulário de Login ---\r\n+        if (mainLoginForm) {\r\n+            if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n+\r\n+            // LÓGICA DO LOGIN DE MÚLTIPLOS PASSOS (CORREÇÃO)\r\n+            if(nextStepBtn) { // NOVO\r\n+                nextStepBtn.addEventListener('click', () => { // NOVO\r\n+                    if(mainCnpjInput.value) { // NOVO\r\n+                        loginStep1.classList.add('hidden'); // NOVO\r\n+                        loginStep2.classList.remove('hidden'); // NOVO\r\n+                    } else { // NOVO\r\n+                        mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-yellow-400'; // NOVO\r\n+                        mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ para avançar.'; // NOVO\r\n+                    } // NOVO\r\n+                }); // NOVO\r\n+            } // NOVO\r\n+\r\n+            if(backToStep1Btn) { // NOVO\r\n+                backToStep1Btn.addEventListener('click', () => { // NOVO\r\n+                    loginStep2.classList.add('hidden'); // NOVO\r\n+                    loginStep1.classList.remove('hidden'); // NOVO\r\n+                    mainLoginFormFeedback.textContent = ''; // NOVO\r\n+                }); // NOVO\r\n+            } // NOVO\r\n+\r\n+\r\n+            // Lógica de submissão do formulário\r\n+            mainLoginForm.addEventListener('submit', async function(e) {\r\n+                e.preventDefault();\r\n+                mainLoginSubmitBtn.disabled = true;\r\n+                mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                mainLoginFormFeedback.textContent = '';\r\n+\r\n+                const formData = {\r\n+                    cnpj: mainCnpjInput.value,\r\n+                    username: document.getElementById('mainUsernameInput').value,\r\n+                    password: document.getElementById('mainUserPasswordInput').value,\r\n+                };\r\n+\r\n+                try {\r\n+                    // Rota para login direto que já tínhamos criado\r\n+                    const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n+                        method: 'POST',\r\n+                        headers: { 'Content-Type': 'application/json' },\r\n+                        body: JSON.stringify(formData),\r\n+                    });\r\n+                    const result = await response.json();\r\n+                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+\r\n+                    localStorage.setItem('authToken', result.token);\r\n+                    \r\n+                    // Redireciona para a página de boletos ou atualiza a UI\r\n+                    // Esta lógica depende se a pessoa já está \"logada\" na página ou não\r\n+                    const meResponse = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${result.token}` } });\r\n+                    const meData = await meResponse.json();\r\n+                    updateUIForLoggedInUser(meData.user, meData.company);\r\n+\r\n+\r\n+                } catch (error) {\r\n+                    mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                    mainLoginFormFeedback.textContent = error.message;\r\n+                } finally {\r\n+                    mainLoginSubmitBtn.disabled = false;\r\n+                    mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+                }\r\n+            });\r\n+        }\r\n+        \r\n+        // --- Listener do Formulário de Contato ---\r\n+        if (contactForm) {\r\n+            contactForm.addEventListener('submit', async function(e) {\r\n+                e.preventDefault();\r\n+                contactSubmitBtn.disabled = true;\r\n+                contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                contactFormFeedback.textContent = '';\r\n+                const formData = {\r\n+                    name: document.getElementById('contactName').value,\r\n+                    email: document.getElementById('contactEmail').value,\r\n+                    subject: document.getElementById('contactSubject').value,\r\n+                    message: document.getElementById('contactMessage').value,\r\n+                };\r\n+                try {\r\n+                    const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n+                        method: 'POST',\r\n+                        headers: { 'Content-Type': 'application/json' },\r\n+                        body: JSON.stringify(formData),\r\n+                    });\r\n+                    const result = await response.json();\r\n+                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                    contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                    contactFormFeedback.textContent = result.message;\r\n+                    contactForm.reset();\r\n+                } catch (error) {\r\n+                    contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                    contactFormFeedback.textContent = error.message;\r\n+                } finally {\r\n+                    contactSubmitBtn.disabled = false;\r\n+                    contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                }\r\n+            });\r\n+        }\r\n+\r\n+        // =================================================================================\r\n+        // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n+        // =================================================================================\r\n+        document.addEventListener('DOMContentLoaded', async () => {\r\n+            const token = localStorage.getItem('authToken');\r\n+            if (!token) return;\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                if (!response.ok) { \r\n+                    localStorage.removeItem('authToken');\r\n+                    localStorage.removeItem('superAdminToken');\r\n+                    return; \r\n+                }\r\n+                const data = await response.json();\r\n+                updateUIForLoggedInUser(data.user, data.company);\r\n+            } catch (error) { \r\n+                console.error(\"Erro ao verificar sessão:\", error); \r\n+            }\r\n+        });\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1752841143315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,13 +69,14 @@\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n-                    <div class=\"flex-shrink-0 wolf-logo\">\r\n-                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n-                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n-                    </div>\r\n+                <div class=\"flex-shrink-0\">\r\n+                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n+                        <img class=\"h-10 w-auto\" src=\"public/images/Logo.jpg\" alt=\"Logotipo LobosTI\">\r\n+                    </a>\r\n                 </div>\r\n+                </div>\r\n                 <div class=\"hidden md:block\">\r\n                     <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n                         <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n                         <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n"
                },
                {
                    "date": 1752842011885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-10 w-auto\" src=\"public/images/Logo.jpg\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842036107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-20 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842047261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-20 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-20 w-20\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842058490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-20 w-20\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842206487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"w-full max-w-xs mx-auto drop-shadow-xl\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n@@ -382,13 +382,12 @@\n     <!-- Footer -->\r\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n-                <div>\r\n-                    <div class=\"flex items-center wolf-logo mb-4\">\r\n-                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n-                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n-                    </div>\r\n+                <div class=\"flex items-center mb-4\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n+                </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752842360325,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842370557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842379916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-18 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842385972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-18 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-19 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842395146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-19 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-22 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842458060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,13 +67,13 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-16\">\r\n+            <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-22 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-24 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842463452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-20\">\r\n+            <div class=\"flex items-center justify-between h-24\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n                         <img class=\"h-24 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n"
                },
                {
                    "date": 1752842472106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-24\">\r\n+            <div class=\"flex items-center justify-between h-28\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n                         <img class=\"h-24 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n"
                },
                {
                    "date": 1752842567785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-28\">\r\n+            <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n                         <img class=\"h-24 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n"
                },
                {
                    "date": 1752842634080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-24 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752842663779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,9 +384,8 @@\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n                     <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n-                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842671480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,8 +384,9 @@\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n                     <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842682539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,9 +384,8 @@\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n                     <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n-                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842705349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -383,9 +383,9 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-16 w-auto mr-3\">\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842716584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -383,9 +383,9 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-16 w-auto mr-3\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-3\">\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842750393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -383,9 +383,9 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-3\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-4\">\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842756518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -383,9 +383,9 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-4\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-20\">\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842819292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,13 +67,13 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-20\">\r\n+            <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-23 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n@@ -383,9 +383,10 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-28 w-auto mr-20\">\r\n+                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                 </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752842833110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-16\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-23 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"w-full max-w-xs mx-auto drop-shadow-xl\">\r\n+                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752842839586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,12 +382,12 @@\n     <!-- Footer -->\r\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n-                <div class=\"flex items-center mb-4\">\r\n-                    <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n-                    <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n-                </div>\r\n+            <div class=\"flex items-center mb-4\">\r\n+                <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n+            </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752842852112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,12 +382,13 @@\n     <!-- Footer -->\r\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n-            <div class=\"flex items-center mb-4\">\r\n-                <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n-                <span class=\"text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n-            </div>\r\n+                <div>\r\n+                    <div class=\"flex items-center wolf-logo mb-4\">\r\n+                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n+                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n+                    </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752842992645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -383,10 +383,10 @@\n     <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div>\r\n-                    <div class=\"flex items-center wolf-logo mb-4\">\r\n-                        <i class=\"fas fa-paw text-indigo-500 text-2xl\"></i>\r\n+                    <div class=\"flex items-center logo mb-4\">\r\n+                        <<img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n                         <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                     </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n"
                },
                {
                    "date": 1752842998159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,9 +384,9 @@\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div>\r\n                     <div class=\"flex items-center logo mb-4\">\r\n-                        <<img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n                         <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                     </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n"
                },
                {
                    "date": 1752843007685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -385,9 +385,8 @@\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div>\r\n                     <div class=\"flex items-center logo mb-4\">\r\n                         <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n-                        <span class=\"ml-2 text-xl font-bold text-white\">Lobos<span class=\"text-indigo-500\">TI</span></span>\r\n                     </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752843016038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,9 +384,9 @@\n         <div class=\"max-w-7xl mx-auto\">\r\n             <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                 <div>\r\n                     <div class=\"flex items-center logo mb-4\">\r\n-                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-10 w-auto mr-3\">\r\n+                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n                     </div>\r\n                     <p class=\"text-gray-400 text-sm\">\r\n                         Soluções em tecnologia da informação com excelência e inovação.\r\n                     </p>\r\n"
                },
                {
                    "date": 1752843089956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n <body>\r\n     <!-- Navbar -->\r\n     <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n         <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-16\">\r\n+            <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n                         <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n"
                },
                {
                    "date": 1752843100893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-10 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1752932384511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,8 +260,11 @@\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                 </div>\r\n                             </form>\r\n+                            <div class=\"text-center mt-4\">\r\n+                                <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n+                            </div>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752932416331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                 </div>\r\n                             </form>\r\n                             <div class=\"text-center mt-4\">\r\n-                                <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n+                                <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n                             </div>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n"
                },
                {
                    "date": 1752932482441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,13 +258,13 @@\n                                     <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                                </div>\r\n-                            </form>\r\n                             <div class=\"text-center mt-4\">\r\n                                 <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n                             </div>\r\n+                                </div>\r\n+                            </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                     </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1752932496089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,11 +258,11 @@\n                                     <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                            <div class=\"text-center mt-4\">\r\n-                                <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n-                            </div>\r\n+                                    <div class=\"text-center mt-4\">\r\n+                                        <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n+                                    </div>\r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1752932558768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                     <div class=\"text-center mt-4\">\r\n-                                        <a href=\"#\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n+                                        <a href=\"reset-password.html\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n                                     </div>\r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1752932645649,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                     <div class=\"text-center mt-4\">\r\n-                                        <a href=\"reset-password.html\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n+                                        <a href=\"OrgBoletos.html\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n                                     </div>\r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1752932709771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,11 +258,8 @@\n                                     <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                                    <div class=\"text-center mt-4\">\r\n-                                        <a href=\"OrgBoletos.html\" id=\"forgotPasswordLink\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci minha senha</a>\r\n-                                    </div>\r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1752933630339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,8 +258,11 @@\n                                     <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n+                                    <div class=\"text-center mt-4\">\r\n+                                        <a href=\"OrgBoletos.html\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n+                                    </div>    \r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                         <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1752933798310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                     <div class=\"text-center mt-4\">\r\n-                                        <a href=\"OrgBoletos.html\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n+                                        <a href=\"OrgBoletos.html?action=forgot_password\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n                                     </div>    \r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1753106076335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -462,8 +462,10 @@\n         const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n         const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n \r\n         // --- Elementos do Login de Múltiplos Passos (CORREÇÃO) ---\r\n         const loginStep1 = document.getElementById('login-step-1'); // NOVO\r\n         const loginStep2 = document.getElementById('login-step-2'); // NOVO\r\n@@ -475,9 +477,11 @@\n         const contactForm = document.getElementById('contactForm');\r\n         const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n         const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n \r\n+        let isAdminLoginMode = false;\r\n \r\n+\r\n         // =================================================================================\r\n         // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n         // =================================================================================\r\n         \r\n@@ -590,70 +594,77 @@\n         }\r\n \r\n         // --- Listener do Formulário de Login ---\r\n         if (mainLoginForm) {\r\n-            if (mainCnpjInput) { IMask(mainCnpjInput, { mask: '00.000.000/0000-00' }); }\r\n+            IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n \r\n-            // LÓGICA DO LOGIN DE MÚLTIPLOS PASSOS (CORREÇÃO)\r\n-            if(nextStepBtn) { // NOVO\r\n-                nextStepBtn.addEventListener('click', () => { // NOVO\r\n-                    if(mainCnpjInput.value) { // NOVO\r\n-                        loginStep1.classList.add('hidden'); // NOVO\r\n-                        loginStep2.classList.remove('hidden'); // NOVO\r\n-                    } else { // NOVO\r\n-                        mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-yellow-400'; // NOVO\r\n-                        mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ para avançar.'; // NOVO\r\n-                    } // NOVO\r\n-                }); // NOVO\r\n-            } // NOVO\r\n+            // Lógica para alternar para o modo de admin\r\n+            mainCnpjInput.addEventListener('input', () => {\r\n+                if (mainCnpjInput.value.toLowerCase() === 'adminmaster') {\r\n+                    isAdminLoginMode = true;\r\n+                    loginStep1.classList.add('hidden');\r\n+                    mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+                    loginStep2.classList.remove('hidden');\r\n+                }\r\n+            });\r\n \r\n-            if(backToStep1Btn) { // NOVO\r\n-                backToStep1Btn.addEventListener('click', () => { // NOVO\r\n-                    loginStep2.classList.add('hidden'); // NOVO\r\n-                    loginStep1.classList.remove('hidden'); // NOVO\r\n-                    mainLoginFormFeedback.textContent = ''; // NOVO\r\n-                }); // NOVO\r\n-            } // NOVO\r\n+            nextStepBtn.addEventListener('click', () => {\r\n+                if (mainCnpjInput.value) {\r\n+                    isAdminLoginMode = false;\r\n+                    loginStep1.classList.add('hidden');\r\n+                    mainUsernameInput.previousElementSibling.textContent = 'Nome de Usuário';\r\n+                    loginStep2.classList.remove('hidden');\r\n+                } else {\r\n+                    mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ para avançar.';\r\n+                }\r\n+            });\r\n \r\n+            backToStep1Btn.addEventListener('click', () => {\r\n+                loginStep2.classList.add('hidden');\r\n+                mainCnpjInput.value = '';\r\n+                loginStep1.classList.remove('hidden');\r\n+                mainLoginFormFeedback.textContent = '';\r\n+                isAdminLoginMode = false;\r\n+            });\r\n \r\n-            // Lógica de submissão do formulário\r\n             mainLoginForm.addEventListener('submit', async function(e) {\r\n                 e.preventDefault();\r\n                 mainLoginSubmitBtn.disabled = true;\r\n-                mainLoginSubmitBtn.innerHTML = 'Verificando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n                 mainLoginFormFeedback.textContent = '';\r\n \r\n-                const formData = {\r\n-                    cnpj: mainCnpjInput.value,\r\n-                    username: document.getElementById('mainUsernameInput').value,\r\n-                    password: document.getElementById('mainUserPasswordInput').value,\r\n-                };\r\n-\r\n+                let url, payload;\r\n+                if (isAdminLoginMode) {\r\n+                    url = `${API_BASE_URL}/api/auth/login/admin`;\r\n+                    payload = {\r\n+                        username: mainUsernameInput.value,\r\n+                        password: mainUserPasswordInput.value,\r\n+                    };\r\n+                } else {\r\n+                    url = `${API_BASE_URL}/api/auth/login/direct`;\r\n+                    payload = {\r\n+                        cnpj: mainCnpjInput.value,\r\n+                        username: mainUsernameInput.value,\r\n+                        password: mainUserPasswordInput.value,\r\n+                    };\r\n+                }\r\n+                \r\n                 try {\r\n-                    // Rota para login direto que já tínhamos criado\r\n-                    const response = await fetch(`${API_BASE_URL}/api/auth/login/direct`, {\r\n+                    const response = await fetch(url, {\r\n                         method: 'POST',\r\n                         headers: { 'Content-Type': 'application/json' },\r\n-                        body: JSON.stringify(formData),\r\n+                        body: JSON.stringify(payload),\r\n                     });\r\n                     const result = await response.json();\r\n-                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-\r\n+                    if (!response.ok) throw new Error(result.message);\r\n+                    \r\n                     localStorage.setItem('authToken', result.token);\r\n-                    \r\n-                    // Redireciona para a página de boletos ou atualiza a UI\r\n-                    // Esta lógica depende se a pessoa já está \"logada\" na página ou não\r\n-                    const meResponse = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${result.token}` } });\r\n-                    const meData = await meResponse.json();\r\n-                    updateUIForLoggedInUser(meData.user, meData.company);\r\n+                    window.location.href = 'OrgBoletos.html'; // Redireciona para a aplicação!\r\n \r\n-\r\n                 } catch (error) {\r\n-                    mainLoginFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n                     mainLoginFormFeedback.textContent = error.message;\r\n-                } finally {\r\n                     mainLoginSubmitBtn.disabled = false;\r\n-                    mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+                    mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema';\r\n                 }\r\n             });\r\n         }\r\n         \r\n@@ -710,7 +721,15 @@\n                 console.error(\"Erro ao verificar sessão:\", error); \r\n             }\r\n         });\r\n \r\n+        const token = localStorage.getItem('authToken');\r\n+        if (token) {\r\n+            // Se já houver um token, podemos tentar atualizar a UI\r\n+            // (Esta parte pode ser expandida no futuro)\r\n+            document.getElementById('nav-login-link').textContent = 'Acessar Painel';\r\n+            document.getElementById('nav-login-link').href = 'OrgBoletos.html';\r\n+        }\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753119736718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -729,7 +729,55 @@\n             document.getElementById('nav-login-link').textContent = 'Acessar Painel';\r\n             document.getElementById('nav-login-link').href = 'OrgBoletos.html';\r\n         }\r\n \r\n+        // 1. Configurações: 7 cliques no logo em menos de 3 segundos.\r\n+        const requiredClicks = 7;\r\n+        const timeLimit = 3000; // 3 segundos em milissegundos\r\n+        let clickCount = 0;\r\n+        let clickTimer = null;\r\n+\r\n+        // 2. Seleciona o logotipo na barra de navegação.\r\n+        const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+\r\n+        // 3. Função para alternar para o modo de login de administrador (a mesma da solução 1).\r\n+        function activateAdminLogin() {\r\n+            const loginStep1 = document.getElementById('login-step-1');\r\n+            const loginStep2 = document.getElementById('login-step-2');\r\n+            const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+\r\n+            if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+                window.isAdminLoginMode = true; // Define o modo admin\r\n+                loginStep1.classList.add('hidden');\r\n+                mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+                loginStep2.classList.remove('hidden');\r\n+                mainUsernameInput.focus();\r\n+                console.log(\"Modo de login de administrador ativado.\");\r\n+            }\r\n+        }\r\n+\r\n+        // 4. Adiciona o listener de clique ao logotipo.\r\n+        if (logoElement) {\r\n+            logoElement.addEventListener('click', (e) => {\r\n+                // Previne que o clique siga o link da imagem.\r\n+                e.preventDefault();\r\n+                \r\n+                clickCount++; // Incrementa a contagem de cliques.\r\n+\r\n+                // Reinicia o timer a cada clique.\r\n+                clearTimeout(clickTimer);\r\n+                clickTimer = setTimeout(() => {\r\n+                    clickCount = 0; // Se o usuário demorar muito, reinicia a contagem.\r\n+                }, timeLimit);\r\n+\r\n+                // Se o número de cliques for atingido...\r\n+                if (clickCount === requiredClicks) {\r\n+                    activateAdminLogin(); // Ativa o modo admin.\r\n+                    clickCount = 0; // Reinicia a contagem.\r\n+                    clearTimeout(clickTimer);\r\n+                }\r\n+            });\r\n+        }\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753119886041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -743,11 +743,15 @@\n         function activateAdminLogin() {\r\n             const loginStep1 = document.getElementById('login-step-1');\r\n             const loginStep2 = document.getElementById('login-step-2');\r\n             const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+            const mainCnpjInput = document.getElementById('mainCnpjInput'); // <-- Adicione esta linha\r\n \r\n             if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-                window.isAdminLoginMode = true; // Define o modo admin\r\n+                \r\n+                mainCnpjInput.removeAttribute('required'); // <-- Adicione esta linha para remover a obrigatoriedade\r\n+\r\n+                window.isAdminLoginMode = true;\r\n                 loginStep1.classList.add('hidden');\r\n                 mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n                 loginStep2.classList.remove('hidden');\r\n                 mainUsernameInput.focus();\r\n"
                },
                {
                    "date": 1753120014547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -743,15 +743,16 @@\n         function activateAdminLogin() {\r\n             const loginStep1 = document.getElementById('login-step-1');\r\n             const loginStep2 = document.getElementById('login-step-2');\r\n             const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-            const mainCnpjInput = document.getElementById('mainCnpjInput'); // <-- Adicione esta linha\r\n+            const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n \r\n             if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n                 \r\n-                mainCnpjInput.removeAttribute('required'); // <-- Adicione esta linha para remover a obrigatoriedade\r\n+                mainCnpjInput.removeAttribute('required');\r\n \r\n-                window.isAdminLoginMode = true;\r\n+                isAdminLoginMode = true; \r\n+\r\n                 loginStep1.classList.add('hidden');\r\n                 mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n                 loginStep2.classList.remove('hidden');\r\n                 mainUsernameInput.focus();\r\n"
                },
                {
                    "date": 1753137377877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,8 +234,9 @@\n                                 <div id=\"login-step-1\">\r\n                                     <div class=\"mb-6\">\r\n                                         <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n                                         <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                     </div>\r\n                                     <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                                     </button>\r\n@@ -244,13 +245,15 @@\n                                 <div id=\"login-step-2\" class=\"hidden\">\r\n                                     <div class=\"mb-4\">\r\n                                         <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n                                         <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n+                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                     </div>\r\n                                     <div class=\"mb-6\">\r\n                                         <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n                                         <div class=\"relative\">\r\n                                             <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                             <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n                                                 <i class=\"fas fa-eye\"></i>\r\n                                             </button>\r\n                                         </div>\r\n"
                },
                {
                    "date": 1753137840422,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -557,9 +557,16 @@\n                 });\r\n             });\r\n         }\r\n \r\n+            function clearLoginErrors() {\r\n+                document.getElementById('cnpjError').textContent = '';\r\n+                document.getElementById('usernameError').textContent = '';\r\n+                document.getElementById('passwordError').textContent = '';\r\n+                document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+            }\r\n \r\n+\r\n         // =================================================================================\r\n         // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n         // =================================================================================\r\n \r\n@@ -633,8 +640,9 @@\n                 e.preventDefault();\r\n                 mainLoginSubmitBtn.disabled = true;\r\n                 mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n                 mainLoginFormFeedback.textContent = '';\r\n+                clearLoginErrors();\r\n \r\n                 let url, payload;\r\n                 if (isAdminLoginMode) {\r\n                     url = `${API_BASE_URL}/api/auth/login/admin`;\r\n@@ -651,26 +659,29 @@\n                     };\r\n                 }\r\n                 \r\n                 try {\r\n-                    const response = await fetch(url, {\r\n-                        method: 'POST',\r\n-                        headers: { 'Content-Type': 'application/json' },\r\n-                        body: JSON.stringify(payload),\r\n-                    });\r\n-                    const result = await response.json();\r\n-                    if (!response.ok) throw new Error(result.message);\r\n-                    \r\n-                    localStorage.setItem('authToken', result.token);\r\n-                    window.location.href = 'OrgBoletos.html'; // Redireciona para a aplicação!\r\n-\r\n+                    // ... (código do `fetch` e sucesso continua o mesmo) ...\r\n                 } catch (error) {\r\n-                    mainLoginFormFeedback.textContent = error.message;\r\n+                    // LÓGICA DE ERRO ATUALIZADA\r\n+                    if (error.details) {\r\n+                        // Se houver um array de erros detalhados, exibe cada um no seu campo\r\n+                        error.details.forEach(err => {\r\n+                            const errorElement = document.getElementById(`${err.path}Error`);\r\n+                            if (errorElement) {\r\n+                                errorElement.textContent = err.msg;\r\n+                            }\r\n+                        });\r\n+                    } else {\r\n+                        // Se for um erro genérico (ex: \"Credenciais inválidas\"), mostra no feedback geral\r\n+                        const feedbackElement = document.getElementById('mainLoginFormFeedback');\r\n+                        feedbackElement.textContent = error.message || 'Ocorreu um erro ao tentar fazer login.';\r\n+                    }\r\n+                } finally {\r\n                     mainLoginSubmitBtn.disabled = false;\r\n                     mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema';\r\n                 }\r\n             });\r\n-        }\r\n         \r\n         // --- Listener do Formulário de Contato ---\r\n         if (contactForm) {\r\n             contactForm.addEventListener('submit', async function(e) {\r\n"
                },
                {
                    "date": 1753137895390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -639,9 +639,8 @@\n             mainLoginForm.addEventListener('submit', async function(e) {\r\n                 e.preventDefault();\r\n                 mainLoginSubmitBtn.disabled = true;\r\n                 mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n-                mainLoginFormFeedback.textContent = '';\r\n                 clearLoginErrors();\r\n \r\n                 let url, payload;\r\n                 if (isAdminLoginMode) {\r\n@@ -680,8 +679,9 @@\n                     mainLoginSubmitBtn.disabled = false;\r\n                     mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema';\r\n                 }\r\n             });\r\n+        }\r\n         \r\n         // --- Listener do Formulário de Contato ---\r\n         if (contactForm) {\r\n             contactForm.addEventListener('submit', async function(e) {\r\n"
                },
                {
                    "date": 1753137975299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -639,8 +639,9 @@\n             mainLoginForm.addEventListener('submit', async function(e) {\r\n                 e.preventDefault();\r\n                 mainLoginSubmitBtn.disabled = true;\r\n                 mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n+                mainLoginFormFeedback.textContent = '';\r\n                 clearLoginErrors();\r\n \r\n                 let url, payload;\r\n                 if (isAdminLoginMode) {\r\n"
                },
                {
                    "date": 1753138260189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -481,8 +481,9 @@\n         const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n         const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n \r\n         let isAdminLoginMode = false;\r\n+        let cnpjMask;\r\n \r\n \r\n         // =================================================================================\r\n         // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n@@ -629,9 +630,17 @@\n             });\r\n \r\n             backToStep1Btn.addEventListener('click', () => {\r\n                 loginStep2.classList.add('hidden');\r\n-                mainCnpjInput.value = '';\r\n+\r\n+                // Linha original problemática:\r\n+                // mainCnpjInput.value = ''; \r\n+\r\n+                // SUBSTITUA PELA LINHA ABAIXO:\r\n+                if (cnpjMask) {\r\n+                    cnpjMask.value = ''; // A própria biblioteca limpa o campo corretamente\r\n+                }\r\n+\r\n                 loginStep1.classList.remove('hidden');\r\n                 mainLoginFormFeedback.textContent = '';\r\n                 isAdminLoginMode = false;\r\n             });\r\n@@ -797,7 +806,12 @@\n                 }\r\n             });\r\n         }\r\n \r\n+        if (mainCnpjInput) {\r\n+            // MODIFICAÇÃO AQUI: atribua o resultado a `cnpjMask`\r\n+            cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        }\r\n+\r\n     </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753138622663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -442,376 +442,394 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </footer>\r\n-    <script src=\"https://unpkg.com/imask\"></script>\r\n-    <script>\r\n-        // =================================================================================\r\n-        // SEÇÃO 1: CONSTANTES E ELEMENTOS DO DOM\r\n-        // =================================================================================\r\n+<script src=\"https://unpkg.com/imask\"></script>\r\n+<script>\r\n+// =================================================================================\r\n+// PONTO DE ENTRADA PRINCIPAL\r\n+// Envolvemos todo o código em 'DOMContentLoaded' para garantir que o HTML\r\n+// esteja totalmente carregado antes de qualquer manipulação.\r\n+// =================================================================================\r\n+document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n-        const API_BASE_URL = 'http://localhost:5000';\r\n+    const API_BASE_URL = 'http://localhost:5000';\r\n \r\n-        // --- Elementos do Menu e Navegação ---\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        const desktopMenuItems = document.getElementById('desktop-menu-items');\r\n-        const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n-        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+    // =================================================================================\r\n+    // SEÇÃO 1: VERIFICAÇÃO INICIAL DE SESSÃO\r\n+    // =================================================================================\r\n+    const token = localStorage.getItem('authToken');\r\n \r\n-        // --- Elementos da Seção de Login ---\r\n-        const loginSectionContent = document.getElementById('login-section-content');\r\n-        const mainLoginForm = document.getElementById('mainLoginForm');\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-        const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+    if (token) {\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+            if (response.ok) {\r\n+                const data = await response.json();\r\n+                updateUIForLoggedInUser(data.user, data.company);\r\n+                setupGeneralEventListeners(); // Configura eventos que funcionam mesmo logado\r\n+                // Se o usuário está logado, a UI é atualizada e a configuração do formulário de login é ignorada.\r\n+                return;\r\n+            } else {\r\n+                // Se o token for inválido, limpa e prossegue para mostrar o formulário de login\r\n+                localStorage.removeItem('authToken');\r\n+                localStorage.removeItem('superAdminToken');\r\n+            }\r\n+        } catch (error) {\r\n+            console.error(\"Erro ao verificar sessão:\", error);\r\n+            localStorage.removeItem('authToken');\r\n+        }\r\n+    }\r\n \r\n-        // --- Elementos do Login de Múltiplos Passos (CORREÇÃO) ---\r\n-        const loginStep1 = document.getElementById('login-step-1'); // NOVO\r\n-        const loginStep2 = document.getElementById('login-step-2'); // NOVO\r\n-        const nextStepBtn = document.getElementById('nextStepBtn'); // NOVO\r\n-        const backToStep1Btn = document.getElementById('backToStep1Btn'); // NOVO\r\n+    // =================================================================================\r\n+    // SEÇÃO 2: CÓDIGO EXECUTADO APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+    // =================================================================================\r\n+    \r\n+    // --- Elementos do DOM para a página de não logado ---\r\n+    const mainLoginForm = document.getElementById('mainLoginForm');\r\n+    if (!mainLoginForm) {\r\n+        setupGeneralEventListeners(); // Configura eventos gerais mesmo sem formulário de login\r\n+        return;\r\n+    }\r\n \r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+    const nextStepBtn = document.getElementById('nextStepBtn');\r\n+    const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n+    const loginStep1 = document.getElementById('login-step-1');\r\n+    const loginStep2 = document.getElementById('login-step-2');\r\n+    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n \r\n-        // --- Elementos do Formulário de Contato ---\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+    let isAdminLoginMode = false;\r\n+    \r\n+    // --- Inicialização da Máscara do CNPJ ---\r\n+    const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+    \r\n+    // --- Configuração dos Eventos do Formulário de Login ---\r\n+    nextStepBtn.addEventListener('click', () => {\r\n+        if (cnpjMask.unmaskedValue.length === 14) {\r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Nome de Usuário';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        } else {\r\n+            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo para avançar.';\r\n+        }\r\n+    });\r\n+    \r\n+    backToStep1Btn.addEventListener('click', () => {\r\n+        loginStep2.classList.add('hidden');\r\n+        cnpjMask.value = ''; // Usa a instância da máscara para limpar\r\n+        loginStep1.classList.remove('hidden');\r\n+        mainLoginFormFeedback.textContent = '';\r\n+        isAdminLoginMode = false;\r\n+        mainCnpjInput.setAttribute('required', '');\r\n+        clearLoginErrors();\r\n+    });\r\n \r\n-        let isAdminLoginMode = false;\r\n-        let cnpjMask;\r\n+    mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n \r\n+    if (togglePasswordBtn) {\r\n+        togglePasswordBtn.addEventListener('click', () => {\r\n+            const type = mainUserPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n+            mainUserPasswordInput.setAttribute('type', type);\r\n+            togglePasswordBtn.querySelector('i').classList.toggle('fa-eye');\r\n+            togglePasswordBtn.querySelector('i').classList.toggle('fa-eye-slash');\r\n+        });\r\n+    }\r\n \r\n-        // =================================================================================\r\n-        // SEÇÃO 2: FUNÇÕES AUXILIARES\r\n-        // =================================================================================\r\n-        \r\n-        /**\r\n-         * Atualiza a interface do usuário para o estado \"logado\".\r\n-         */\r\n-        function updateUIForLoggedInUser(user, company) {\r\n-            // --- Atualização do Menu (Desktop e Mobile) ---\r\n-            const desktopMenu = document.getElementById('desktop-menu-items');\r\n-            if (desktopMenu && navLoginLink) {\r\n-                if (!document.getElementById('nav-logout-btn')) {\r\n-                    navLoginLink.textContent = 'Acessar Painel';\r\n-                    navLoginLink.href = 'OrgBoletos.html';\r\n-                    \r\n-                    const logoutButton = document.createElement('button');\r\n-                    logoutButton.id = 'nav-logout-btn';\r\n-                    logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-                    logoutButton.textContent = 'Sair';\r\n-                    desktopMenu.appendChild(logoutButton);\r\n-                }\r\n-            }\r\n-            const mobileMenu = document.getElementById('mobile-menu-items');\r\n-            if(mobileMenu && mobileNavLoginLink) {\r\n-                if (!document.getElementById('mobile-nav-logout-btn')) {\r\n-                    mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-                    mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+    // =================================================================================\r\n+    // SEÇÃO 3: FUNÇÕES DE HANDLER (PROCESSAMENTO DE EVENTOS)\r\n+    // =================================================================================\r\n \r\n-                    const mobileLogoutButton = document.createElement('button');\r\n-                    mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-                    mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n-                    mobileLogoutButton.textContent = 'Sair';\r\n-                    mobileMenu.appendChild(mobileLogoutButton);\r\n-                }\r\n-            }\r\n+    function activateAdminLogin() {\r\n+        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+            mainCnpjInput.removeAttribute('required');\r\n+            isAdminLoginMode = true; \r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+            console.log(\"Modo de login de administrador ativado.\");\r\n+        }\r\n+    }\r\n+    \r\n+    async function handleLoginFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        mainLoginSubmitBtn.disabled = true;\r\n+        mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n+        clearLoginErrors();\r\n \r\n-            // --- Atualização da Seção de Login ---\r\n-            if (loginSectionContent) {\r\n-                loginSectionContent.innerHTML = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                        Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </a>\r\n-                `;\r\n+        const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n+        const payload = isAdminLoginMode ? \r\n+            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+\r\n+        try {\r\n+            const response = await fetch(API_BASE_URL + endpoint, {\r\n+                method: 'POST',\r\n+                headers: { 'Content-Type': 'application/json' },\r\n+                body: JSON.stringify(payload),\r\n+            });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { \r\n+                const error = new Error(result.message || 'Erro de validação.');\r\n+                error.details = result.errors; // Anexa os erros do express-validator\r\n+                throw error;\r\n             }\r\n             \r\n-            // --- Lógica para atualizar o card de serviço ---\r\n-            const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink) {\r\n-                if (user.role === 'Proprietário') {\r\n-                    const subscriptionStatus = company?.subscription?.status;\r\n-                    if (subscriptionStatus === 'active') {\r\n-                        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    } else {\r\n-                        boletoCardLink.innerHTML = 'Faça sua Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    }\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                }\r\n-                boletoCardLink.href = 'OrgBoletos.html';\r\n+            localStorage.setItem('authToken', result.token);\r\n+            // Redireciona para a página da aplicação após o login\r\n+            window.location.href = 'OrgBoletos.html';\r\n+\r\n+        } catch (error) {\r\n+            if (error.details) {\r\n+                error.details.forEach(err => {\r\n+                    const errorElement = document.getElementById(`${err.path}Error`);\r\n+                    if (errorElement) { errorElement.textContent = err.msg; }\r\n+                });\r\n+            } else {\r\n+                mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n             }\r\n-            \r\n-            // Adiciona funcionalidade aos novos botões de logout\r\n-            document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-                btn.addEventListener('click', (e) => {\r\n-                    e.preventDefault();\r\n-                    localStorage.removeItem('authToken');\r\n-                    localStorage.removeItem('superAdminToken');\r\n-                    window.location.reload();\r\n-                });\r\n-            });\r\n+        } finally {\r\n+            mainLoginSubmitBtn.disabled = false;\r\n+            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n         }\r\n+    }\r\n \r\n-            function clearLoginErrors() {\r\n-                document.getElementById('cnpjError').textContent = '';\r\n-                document.getElementById('usernameError').textContent = '';\r\n-                document.getElementById('passwordError').textContent = '';\r\n-                document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            }\r\n+    setupGeneralEventListeners(); // Configura eventos gerais para o estado de não logado\r\n+});\r\n \r\n \r\n-        // =================================================================================\r\n-        // SEÇÃO 3: EVENT LISTENERS (OUVINTES DE EVENTOS)\r\n-        // =================================================================================\r\n+// =================================================================================\r\n+// SEÇÃO 4: FUNÇÕES GLOBAIS E DE UI (acessíveis em qualquer estado)\r\n+// =================================================================================\r\n \r\n-        // --- Listeners da Navegação e UI Geral ---\r\n+function setupGeneralEventListeners() {\r\n+    // --- Eventos da Navegação e UI Geral ---\r\n+    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+    const mobileMenu = document.getElementById('mobile-menu');\r\n+    if (mobileMenuButton) {\r\n         mobileMenuButton.addEventListener('click', () => {\r\n             mobileMenu.classList.toggle('hidden');\r\n         });\r\n+    }\r\n \r\n-        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-            anchor.addEventListener('click', function (e) {\r\n+    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+        anchor.addEventListener('click', function (e) {\r\n+            e.preventDefault();\r\n+            const targetElement = document.querySelector(this.getAttribute('href'));\r\n+            if (targetElement) {\r\n+                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n+                if (mobileMenu && !mobileMenu.classList.contains('hidden')) { \r\n+                    mobileMenu.classList.add('hidden'); \r\n+                }\r\n+            }\r\n+        });\r\n+    });\r\n+\r\n+    window.addEventListener('scroll', function() {\r\n+        const navbar = document.querySelector('nav');\r\n+        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n+    });\r\n+\r\n+    // --- Acesso de admin escondido ---\r\n+    const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+    if (logoElement) {\r\n+        let clickCount = 0;\r\n+        let clickTimer = null;\r\n+        logoElement.addEventListener('click', (e) => {\r\n+            const loginForm = document.getElementById('mainLoginForm');\r\n+            if (loginForm) { // Só ativa o modo admin se o formulário de login estiver presente\r\n                 e.preventDefault();\r\n-                const targetElement = document.querySelector(this.getAttribute('href'));\r\n-                if (targetElement) {\r\n-                    window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n-                    if (!mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n+                clickCount++;\r\n+                clearTimeout(clickTimer);\r\n+                clickTimer = setTimeout(() => { clickCount = 0; }, 3000);\r\n+                if (clickCount === 7) {\r\n+                    const activateAdminLogin = window.activateAdminLogin; // Acessa a função se ela existir\r\n+                    if (activateAdminLogin) activateAdminLogin();\r\n+                    clickCount = 0;\r\n+                    clearTimeout(clickTimer);\r\n                 }\r\n-            });\r\n+            }\r\n         });\r\n+    }\r\n \r\n-        window.addEventListener('scroll', function() {\r\n-            const navbar = document.querySelector('nav');\r\n-            if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n+    // --- Formulário de Contato ---\r\n+    const contactForm = document.getElementById('contactForm');\r\n+    if (contactForm) {\r\n+        contactForm.addEventListener('submit', async function(e) {\r\n+            e.preventDefault();\r\n+            const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+            const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+            contactSubmitBtn.disabled = true;\r\n+            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+            contactFormFeedback.textContent = '';\r\n+            const formData = {\r\n+                name: document.getElementById('contactName').value,\r\n+                email: document.getElementById('contactEmail').value,\r\n+                subject: document.getElementById('contactSubject').value,\r\n+                message: document.getElementById('contactMessage').value,\r\n+            };\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify(formData),\r\n+                });\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                contactFormFeedback.textContent = result.message;\r\n+                contactForm.reset();\r\n+            } catch (error) {\r\n+                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                contactFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                contactSubmitBtn.disabled = false;\r\n+                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n         });\r\n-        \r\n-        // --- Listener para mostrar/esconder senha ---\r\n-        if (togglePasswordBtn) {\r\n-            const passwordInput = document.getElementById('mainUserPasswordInput');\r\n-            togglePasswordBtn.addEventListener('click', () => {\r\n-                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n-                passwordInput.setAttribute('type', type);\r\n-                const icon = togglePasswordBtn.querySelector('i');\r\n-                icon.classList.toggle('fa-eye');\r\n-                icon.classList.toggle('fa-eye-slash');\r\n-            });\r\n-        }\r\n+    }\r\n+}\r\n \r\n-        // --- Listener do Formulário de Login ---\r\n-        if (mainLoginForm) {\r\n-            IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+function updateUIForLoggedInUser(user, company) {\r\n+    const desktopMenu = document.getElementById('desktop-menu-items');\r\n+    const mobileMenu = document.getElementById('mobile-menu-items');\r\n+    const navLoginLink = document.getElementById('nav-login-link');\r\n+    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+    const loginSectionContent = document.getElementById('login-section-content');\r\n+    const boletoCardLink = document.getElementById('boleto-card-link');\r\n \r\n-            // Lógica para alternar para o modo de admin\r\n-            mainCnpjInput.addEventListener('input', () => {\r\n-                if (mainCnpjInput.value.toLowerCase() === 'adminmaster') {\r\n-                    isAdminLoginMode = true;\r\n-                    loginStep1.classList.add('hidden');\r\n-                    mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-                    loginStep2.classList.remove('hidden');\r\n-                }\r\n-            });\r\n+    if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+        navLoginLink.textContent = 'Acessar Painel';\r\n+        navLoginLink.href = 'OrgBoletos.html';\r\n+        \r\n+        const logoutButton = document.createElement('button');\r\n+        logoutButton.id = 'nav-logout-btn';\r\n+        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+        logoutButton.textContent = 'Sair';\r\n+        desktopMenu.appendChild(logoutButton);\r\n+    }\r\n \r\n-            nextStepBtn.addEventListener('click', () => {\r\n-                if (mainCnpjInput.value) {\r\n-                    isAdminLoginMode = false;\r\n-                    loginStep1.classList.add('hidden');\r\n-                    mainUsernameInput.previousElementSibling.textContent = 'Nome de Usuário';\r\n-                    loginStep2.classList.remove('hidden');\r\n-                } else {\r\n-                    mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ para avançar.';\r\n-                }\r\n-            });\r\n+    if(mobileMenu && mobileNavLoginLink && !document.getElementById('mobile-nav-logout-btn')) {\r\n+        mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+        mobileNavLoginLink.href = 'OrgBoletos.html';\r\n \r\n-            backToStep1Btn.addEventListener('click', () => {\r\n-                loginStep2.classList.add('hidden');\r\n+        const mobileLogoutButton = document.createElement('button');\r\n+        mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+        mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n+        mobileLogoutButton.textContent = 'Sair';\r\n+        mobileMenu.appendChild(mobileLogoutButton);\r\n+    }\r\n \r\n-                // Linha original problemática:\r\n-                // mainCnpjInput.value = ''; \r\n+    if (loginSectionContent) {\r\n+        loginSectionContent.innerHTML = `\r\n+            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+            <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+            </a>\r\n+        `;\r\n+    }\r\n+    \r\n+    if (boletoCardLink) {\r\n+        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+        boletoCardLink.href = 'OrgBoletos.html';\r\n+    }\r\n+    \r\n+    document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+        btn.addEventListener('click', (e) => {\r\n+            e.preventDefault();\r\n+            localStorage.removeItem('authToken');\r\n+            localStorage.removeItem('superAdminToken');\r\n+            window.location.reload();\r\n+        });\r\n+    });\r\n+}\r\n \r\n-                // SUBSTITUA PELA LINHA ABAIXO:\r\n-                if (cnpjMask) {\r\n-                    cnpjMask.value = ''; // A própria biblioteca limpa o campo corretamente\r\n-                }\r\n+function clearLoginErrors() {\r\n+    const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+    fields.forEach(id => {\r\n+        const el = document.getElementById(id);\r\n+        if (el) el.textContent = '';\r\n+    });\r\n+}\r\n \r\n-                loginStep1.classList.remove('hidden');\r\n-                mainLoginFormFeedback.textContent = '';\r\n-                isAdminLoginMode = false;\r\n-            });\r\n+// Para a função de acesso de admin funcionar, ela precisa estar no escopo global\r\n+// ou a referência precisa ser passada de outra forma. A maneira mais simples é anexá-la ao 'window'.\r\n+window.activateAdminLogin = function() {\r\n+    const loginStep1 = document.getElementById('login-step-1');\r\n+    const loginStep2 = document.getElementById('login-step-2');\r\n+    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n \r\n-            mainLoginForm.addEventListener('submit', async function(e) {\r\n-                e.preventDefault();\r\n-                mainLoginSubmitBtn.disabled = true;\r\n-                mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n-                mainLoginFormFeedback.textContent = '';\r\n-                clearLoginErrors();\r\n-\r\n-                let url, payload;\r\n-                if (isAdminLoginMode) {\r\n-                    url = `${API_BASE_URL}/api/auth/login/admin`;\r\n-                    payload = {\r\n-                        username: mainUsernameInput.value,\r\n-                        password: mainUserPasswordInput.value,\r\n-                    };\r\n-                } else {\r\n-                    url = `${API_BASE_URL}/api/auth/login/direct`;\r\n-                    payload = {\r\n-                        cnpj: mainCnpjInput.value,\r\n-                        username: mainUsernameInput.value,\r\n-                        password: mainUserPasswordInput.value,\r\n-                    };\r\n-                }\r\n-                \r\n-                try {\r\n-                    // ... (código do `fetch` e sucesso continua o mesmo) ...\r\n-                } catch (error) {\r\n-                    // LÓGICA DE ERRO ATUALIZADA\r\n-                    if (error.details) {\r\n-                        // Se houver um array de erros detalhados, exibe cada um no seu campo\r\n-                        error.details.forEach(err => {\r\n-                            const errorElement = document.getElementById(`${err.path}Error`);\r\n-                            if (errorElement) {\r\n-                                errorElement.textContent = err.msg;\r\n-                            }\r\n-                        });\r\n-                    } else {\r\n-                        // Se for um erro genérico (ex: \"Credenciais inválidas\"), mostra no feedback geral\r\n-                        const feedbackElement = document.getElementById('mainLoginFormFeedback');\r\n-                        feedbackElement.textContent = error.message || 'Ocorreu um erro ao tentar fazer login.';\r\n-                    }\r\n-                } finally {\r\n-                    mainLoginSubmitBtn.disabled = false;\r\n-                    mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema';\r\n-                }\r\n-            });\r\n-        }\r\n+    if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+        mainCnpjInput.removeAttribute('required');\r\n         \r\n-        // --- Listener do Formulário de Contato ---\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', async function(e) {\r\n-                e.preventDefault();\r\n-                contactSubmitBtn.disabled = true;\r\n-                contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-                contactFormFeedback.textContent = '';\r\n-                const formData = {\r\n-                    name: document.getElementById('contactName').value,\r\n-                    email: document.getElementById('contactEmail').value,\r\n-                    subject: document.getElementById('contactSubject').value,\r\n-                    message: document.getElementById('contactMessage').value,\r\n-                };\r\n-                try {\r\n-                    const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n-                        method: 'POST',\r\n-                        headers: { 'Content-Type': 'application/json' },\r\n-                        body: JSON.stringify(formData),\r\n-                    });\r\n-                    const result = await response.json();\r\n-                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                    contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                    contactFormFeedback.textContent = result.message;\r\n-                    contactForm.reset();\r\n-                } catch (error) {\r\n-                    contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                    contactFormFeedback.textContent = error.message;\r\n-                } finally {\r\n-                    contactSubmitBtn.disabled = false;\r\n-                    contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-                }\r\n-            });\r\n-        }\r\n+        // Esta variável é local para o submit handler, então precisamos de uma forma de a definir\r\n+        // A melhor forma seria refatorar, mas para manter a estrutura, vamos usar um truque.\r\n+        document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n \r\n-        // =================================================================================\r\n-        // SEÇÃO 4: INICIALIZAÇÃO DA PÁGINA\r\n-        // =================================================================================\r\n-        document.addEventListener('DOMContentLoaded', async () => {\r\n-            const token = localStorage.getItem('authToken');\r\n-            if (!token) return;\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-                if (!response.ok) { \r\n-                    localStorage.removeItem('authToken');\r\n-                    localStorage.removeItem('superAdminToken');\r\n-                    return; \r\n-                }\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user, data.company);\r\n-            } catch (error) { \r\n-                console.error(\"Erro ao verificar sessão:\", error); \r\n-            }\r\n-        });\r\n+        loginStep1.classList.add('hidden');\r\n+        mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+        loginStep2.classList.remove('hidden');\r\n+        mainUsernameInput.focus();\r\n+        console.log(\"Modo de login de administrador ativado.\");\r\n+    }\r\n+};\r\n \r\n-        const token = localStorage.getItem('authToken');\r\n-        if (token) {\r\n-            // Se já houver um token, podemos tentar atualizar a UI\r\n-            // (Esta parte pode ser expandida no futuro)\r\n-            document.getElementById('nav-login-link').textContent = 'Acessar Painel';\r\n-            document.getElementById('nav-login-link').href = 'OrgBoletos.html';\r\n-        }\r\n+// Precisamos ajustar o submit handler para ler o nosso novo 'dataset'\r\n+async function handleLoginFormSubmit(e) {\r\n+    e.preventDefault();\r\n+    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+    mainLoginSubmitBtn.disabled = true;\r\n+    mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n+    clearLoginErrors();\r\n \r\n-        // 1. Configurações: 7 cliques no logo em menos de 3 segundos.\r\n-        const requiredClicks = 7;\r\n-        const timeLimit = 3000; // 3 segundos em milissegundos\r\n-        let clickCount = 0;\r\n-        let clickTimer = null;\r\n+    const isAdminLoginMode = e.target.dataset.isAdmin === \"true\"; // Lê o dataset\r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n \r\n-        // 2. Seleciona o logotipo na barra de navegação.\r\n-        const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+    const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n+    const payload = isAdminLoginMode ? \r\n+        { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+        { cnpj: IMask.find(mainCnpjInput).value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n \r\n-        // 3. Função para alternar para o modo de login de administrador (a mesma da solução 1).\r\n-        function activateAdminLogin() {\r\n-            const loginStep1 = document.getElementById('login-step-1');\r\n-            const loginStep2 = document.getElementById('login-step-2');\r\n-            const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-            const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-\r\n-            if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-                \r\n-                mainCnpjInput.removeAttribute('required');\r\n-\r\n-                isAdminLoginMode = true; \r\n-\r\n-                loginStep1.classList.add('hidden');\r\n-                mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-                loginStep2.classList.remove('hidden');\r\n-                mainUsernameInput.focus();\r\n-                console.log(\"Modo de login de administrador ativado.\");\r\n-            }\r\n+    try {\r\n+        const response = await fetch(API_BASE_URL + endpoint, {\r\n+            method: 'POST',\r\n+            headers: { 'Content-Type': 'application/json' },\r\n+            body: JSON.stringify(payload),\r\n+        });\r\n+        const result = await response.json();\r\n+        if (!response.ok) { \r\n+            const error = new Error(result.message || 'Erro de validação.');\r\n+            error.details = result.errors;\r\n+            throw error;\r\n         }\r\n+        \r\n+        localStorage.setItem('authToken', result.token);\r\n+        window.location.href = 'OrgBoletos.html';\r\n \r\n-        // 4. Adiciona o listener de clique ao logotipo.\r\n-        if (logoElement) {\r\n-            logoElement.addEventListener('click', (e) => {\r\n-                // Previne que o clique siga o link da imagem.\r\n-                e.preventDefault();\r\n-                \r\n-                clickCount++; // Incrementa a contagem de cliques.\r\n-\r\n-                // Reinicia o timer a cada clique.\r\n-                clearTimeout(clickTimer);\r\n-                clickTimer = setTimeout(() => {\r\n-                    clickCount = 0; // Se o usuário demorar muito, reinicia a contagem.\r\n-                }, timeLimit);\r\n-\r\n-                // Se o número de cliques for atingido...\r\n-                if (clickCount === requiredClicks) {\r\n-                    activateAdminLogin(); // Ativa o modo admin.\r\n-                    clickCount = 0; // Reinicia a contagem.\r\n-                    clearTimeout(clickTimer);\r\n-                }\r\n+    } catch (error) {\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        if (error.details) {\r\n+            error.details.forEach(err => {\r\n+                const errorElement = document.getElementById(`${err.path}Error`);\r\n+                if (errorElement) { errorElement.textContent = err.msg; }\r\n             });\r\n+        } else {\r\n+            mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n         }\r\n-\r\n-        if (mainCnpjInput) {\r\n-            // MODIFICAÇÃO AQUI: atribua o resultado a `cnpjMask`\r\n-            cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        }\r\n-\r\n-    </script>\r\n+    } finally {\r\n+        mainLoginSubmitBtn.disabled = false;\r\n+        mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+        e.target.dataset.isAdmin = \"false\"; // Reseta o estado\r\n+    }\r\n+}\r\n+</script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753138918301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -506,16 +506,49 @@\n     // --- Inicialização da Máscara do CNPJ ---\r\n     const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n     \r\n     // --- Configuração dos Eventos do Formulário de Login ---\r\n-    nextStepBtn.addEventListener('click', () => {\r\n-        if (cnpjMask.unmaskedValue.length === 14) {\r\n+    nextStepBtn.addEventListener('click', async () => { // Adicionamos 'async' para esperar a resposta da API\r\n+        mainLoginFormFeedback.textContent = ''; // Limpa erros anteriores\r\n+\r\n+        // 1. A verificação do tamanho continua a ser a primeira validação\r\n+        if (cnpjMask.unmaskedValue.length !== 14) {\r\n+            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n+            return;\r\n+        }\r\n+\r\n+        // 2. Adiciona um estado de carregamento ao botão para feedback visual\r\n+        nextStepBtn.disabled = true;\r\n+        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+\r\n+        try {\r\n+            // 3. Chama a API para verificar se o CNPJ existe\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, {\r\n+                method: 'POST',\r\n+                headers: { 'Content-Type': 'application/json' },\r\n+                body: JSON.stringify({ cnpj: cnpjMask.value })\r\n+            });\r\n+\r\n+            const result = await response.json();\r\n+\r\n+            if (!response.ok) {\r\n+                // Se a resposta não for 'OK' (ex: erro 404), lança um erro com a mensagem da API\r\n+                throw new Error(result.message);\r\n+            }\r\n+\r\n+            // 4. Se a API retornou sucesso, o CNPJ existe. Avançamos para o passo 2.\r\n             loginStep1.classList.add('hidden');\r\n             mainUsernameInput.previousElementSibling.textContent = 'Nome de Usuário';\r\n             loginStep2.classList.remove('hidden');\r\n             mainUsernameInput.focus();\r\n-        } else {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo para avançar.';\r\n+\r\n+        } catch (error) {\r\n+            // 5. Se ocorrer um erro (ex: CNPJ não encontrado), exibe a mensagem para o usuário\r\n+            mainLoginFormFeedback.textContent = error.message;\r\n+        } finally {\r\n+            // 6. Restaura o estado original do botão, independentemente do resultado\r\n+            nextStepBtn.disabled = false;\r\n+            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n         }\r\n     });\r\n     \r\n     backToStep1Btn.addEventListener('click', () => {\r\n"
                },
                {
                    "date": 1753139287162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,8 +239,11 @@\n                                     </div>\r\n                                     <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                         Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                                     </button>\r\n+                                    <button type=\"button\" id=\"signUpBtn\" class=\"flex-grow bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n+                                        Cadastre-se\r\n+                                    </button>\r\n                                 </div>\r\n \r\n                                 <div id=\"login-step-2\" class=\"hidden\">\r\n                                     <div class=\"mb-4\">\r\n@@ -491,8 +494,9 @@\n     }\r\n \r\n     const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n     const nextStepBtn = document.getElementById('nextStepBtn');\r\n+    const signUpBtn = document.getElementById('signUpBtn');\r\n     const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n     const loginStep1 = document.getElementById('login-step-1');\r\n     const loginStep2 = document.getElementById('login-step-2');\r\n     const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n@@ -504,25 +508,36 @@\n     let isAdminLoginMode = false;\r\n     \r\n     // --- Inicialização da Máscara do CNPJ ---\r\n     const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+\r\n+    cnpjMask.on('accept', () => {\r\n+        mainLoginFormFeedback.textContent = '';\r\n+        signUpBtn.classList.add('hidden');\r\n+    });\r\n+\r\n+    signUpBtn.addEventListener('click', () => {\r\n+        const contactSection = document.getElementById('contato');\r\n+        if (contactSection) {\r\n+            // Leva o usuário suavemente até a seção de contato.\r\n+            contactSection.scrollIntoView({ behavior: 'smooth' });\r\n+        }\r\n+    });\r\n     \r\n     // --- Configuração dos Eventos do Formulário de Login ---\r\n-    nextStepBtn.addEventListener('click', async () => { // Adicionamos 'async' para esperar a resposta da API\r\n-        mainLoginFormFeedback.textContent = ''; // Limpa erros anteriores\r\n+    nextStepBtn.addEventListener('click', async () => {\r\n+        mainLoginFormFeedback.textContent = '';\r\n+        signUpBtn.classList.add('hidden'); // Esconde o botão no início de cada tentativa\r\n \r\n-        // 1. A verificação do tamanho continua a ser a primeira validação\r\n         if (cnpjMask.unmaskedValue.length !== 14) {\r\n             mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n             return;\r\n         }\r\n \r\n-        // 2. Adiciona um estado de carregamento ao botão para feedback visual\r\n         nextStepBtn.disabled = true;\r\n         nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n \r\n         try {\r\n-            // 3. Chama a API para verificar se o CNPJ existe\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, {\r\n                 method: 'POST',\r\n                 headers: { 'Content-Type': 'application/json' },\r\n                 body: JSON.stringify({ cnpj: cnpjMask.value })\r\n@@ -530,23 +545,24 @@\n \r\n             const result = await response.json();\r\n \r\n             if (!response.ok) {\r\n-                // Se a resposta não for 'OK' (ex: erro 404), lança um erro com a mensagem da API\r\n                 throw new Error(result.message);\r\n             }\r\n \r\n-            // 4. Se a API retornou sucesso, o CNPJ existe. Avançamos para o passo 2.\r\n+            // Se o CNPJ foi encontrado, avança para o próximo passo.\r\n             loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Nome de Usuário';\r\n             loginStep2.classList.remove('hidden');\r\n             mainUsernameInput.focus();\r\n \r\n         } catch (error) {\r\n-            // 5. Se ocorrer um erro (ex: CNPJ não encontrado), exibe a mensagem para o usuário\r\n             mainLoginFormFeedback.textContent = error.message;\r\n+\r\n+            // AQUI ESTÁ A MÁGICA: se o erro for \"não encontrado\", mostra o botão de cadastro.\r\n+            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                signUpBtn.classList.remove('hidden');\r\n+            }\r\n         } finally {\r\n-            // 6. Restaura o estado original do botão, independentemente do resultado\r\n             nextStepBtn.disabled = false;\r\n             nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n         }\r\n     });\r\n"
                },
                {
                    "date": 1753139564406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,14 +236,16 @@\n                                         <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n                                         <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n                                         <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                     </div>\r\n-                                    <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                        Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                                    </button>\r\n-                                    <button type=\"button\" id=\"signUpBtn\" class=\"flex-grow bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n-                                        Cadastre-se\r\n-                                    </button>\r\n+                                    <div class=\"space-y-4\">\r\n+                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                        </button>\r\n+                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n+                                            Cadastre-se\r\n+                                        </button>\r\n+                                    </div>\r\n                                 </div>\r\n \r\n                                 <div id=\"login-step-2\" class=\"hidden\">\r\n                                     <div class=\"mb-4\">\r\n"
                },
                {
                    "date": 1753140043368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -447,8 +447,80 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </footer>\r\n+\r\n+    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n+            \r\n+            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+                <i class=\"fas fa-times fa-lg\"></i>\r\n+            </button>\r\n+\r\n+            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n+\r\n+            <form id=\"registerForm\">\r\n+                <div id=\"register-step-1\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n+                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n+                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n+                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                    </div>\r\n+                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div id=\"register-step-2\" class=\"hidden\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n+                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n+                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n+                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"flex items-center gap-4 mt-6\">\r\n+                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n+                        </button>\r\n+                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                </div>\r\n+                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script>\r\n // =================================================================================\r\n // PONTO DE ENTRADA PRINCIPAL\r\n"
                },
                {
                    "date": 1753140159913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -578,8 +578,24 @@\n     const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n     const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n     const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n \r\n+    const registerModal = document.getElementById('registerModal');\r\n+    const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+    const registerForm = document.getElementById('registerForm');\r\n+\r\n+    const registerStep1 = document.getElementById('register-step-1');\r\n+    const registerStep2 = document.getElementById('register-step-2');\r\n+    const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n+    const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+\r\n+    const registerCnpjInput = document.getElementById('registerCnpj');\r\n+    const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n+    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+\r\n+    const registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+    const registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+\r\n     let isAdminLoginMode = false;\r\n     \r\n     // --- Inicialização da Máscara do CNPJ ---\r\n     const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n@@ -952,7 +968,112 @@\n         mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n         e.target.dataset.isAdmin = \"false\"; // Reseta o estado\r\n     }\r\n }\r\n+\r\n+    // --- Eventos para abrir e fechar o modal ---\r\n+    signUpBtn.addEventListener('click', () => {\r\n+        // Preenche o CNPJ no formulário de cadastro com o valor que o usuário já digitou\r\n+        const mainCnpjMask = IMask.find(document.getElementById('mainCnpjInput'));\r\n+        if (mainCnpjMask) {\r\n+            registerCnpjMask.value = mainCnpjMask.value;\r\n+        }\r\n+        registerModal.classList.remove('hidden');\r\n+        document.body.classList.add('overflow-hidden'); // Impede o scroll da página ao fundo\r\n+    });\r\n+\r\n+    closeRegisterModalBtn.addEventListener('click', () => {\r\n+        registerModal.classList.add('hidden');\r\n+        document.body.classList.remove('overflow-hidden');\r\n+        registerForm.reset();\r\n+        registerStep2.classList.add('hidden');\r\n+        registerStep1.classList.remove('hidden');\r\n+        registrationFeedback.textContent = '';\r\n+    });\r\n+\r\n+    // --- Eventos para navegar entre as etapas do cadastro ---\r\n+    goToRegisterStep2Btn.addEventListener('click', () => {\r\n+        // Validação simples antes de avançar\r\n+        if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value && document.getElementById('registerEmail').value && registerWhatsappMask.unmaskedValue.length === 11) {\r\n+            registerStep1.classList.add('hidden');\r\n+            registerStep2.classList.remove('hidden');\r\n+            registrationFeedback.textContent = '';\r\n+        } else {\r\n+            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+        }\r\n+    });\r\n+\r\n+    backToRegisterStep1Btn.addEventListener('click', () => {\r\n+        registerStep2.classList.add('hidden');\r\n+        registerStep1.classList.remove('hidden');\r\n+        registrationFeedback.textContent = '';\r\n+    });\r\n+\r\n+    // --- Evento de submissão do formulário de cadastro ---\r\n+    registerForm.addEventListener('submit', async (e) => {\r\n+        e.preventDefault();\r\n+        const password = document.getElementById('ownerPassword').value;\r\n+        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+        const passwordConfirmError = document.getElementById('passwordConfirmError');\r\n+\r\n+        // Valida se as senhas coincidem\r\n+        if (password !== confirmPassword) {\r\n+            passwordConfirmError.textContent = 'As senhas não coincidem.';\r\n+            return;\r\n+        } else {\r\n+            passwordConfirmError.textContent = '';\r\n+        }\r\n+\r\n+        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+        submitBtn.disabled = true;\r\n+        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+        registrationFeedback.textContent = '';\r\n+\r\n+        // Coleta todos os dados do formulário\r\n+        const formData = new FormData(registerForm);\r\n+        const payload = Object.fromEntries(formData.entries());\r\n+        \r\n+        // Remove o lixo da máscara antes de enviar\r\n+        payload.cnpj = registerCnpjMask.unmaskedValue;\r\n+        payload.telefoneWhatsapp = registerWhatsappMask.unmaskedValue;\r\n+\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/companies/register`, {\r\n+                method: 'POST',\r\n+                headers: { 'Content-Type': 'application/json' },\r\n+                body: JSON.stringify(payload)\r\n+            });\r\n+\r\n+            const result = await response.json();\r\n+\r\n+            if (!response.ok) {\r\n+                throw new Error(result.message || 'Ocorreu um erro no cadastro.');\r\n+            }\r\n+\r\n+            // Sucesso!\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Você será redirecionado para o login.';\r\n+\r\n+            // Fecha o modal e redireciona para o login após alguns segundos\r\n+            setTimeout(() => {\r\n+                closeRegisterModalBtn.click();\r\n+                // Opcional: Limpar o campo CNPJ da página principal e focar nele\r\n+                const mainCnpjMask = IMask.find(document.getElementById('mainCnpjInput'));\r\n+                if (mainCnpjMask) {\r\n+                    mainCnpjMask.value = payload.cnpj;\r\n+                    mainCnpjMask.el.input.focus();\r\n+                }\r\n+            }, 3000);\r\n+\r\n+        } catch (error) {\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+            registrationFeedback.textContent = error.message;\r\n+        } finally {\r\n+            submitBtn.disabled = false;\r\n+            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+        }\r\n+    });\r\n+\r\n </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753140852295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -605,12 +605,16 @@\n         signUpBtn.classList.add('hidden');\r\n     });\r\n \r\n     signUpBtn.addEventListener('click', () => {\r\n-        const contactSection = document.getElementById('contato');\r\n-        if (contactSection) {\r\n-            // Leva o usuário suavemente até a seção de contato.\r\n-            contactSection.scrollIntoView({ behavior: 'smooth' });\r\n+        const registerModal = document.getElementById('registerModal');\r\n+        if (registerModal) {\r\n+            if (cnpjMask && registerCnpjMask) {\r\n+                registerCnpjMask.value = cnpjMask.value;\r\n+            }\r\n+            \r\n+            registerModal.classList.remove('hidden');\r\n+            document.body.classList.add('overflow-hidden');\r\n         }\r\n     });\r\n     \r\n     // --- Configuração dos Eventos do Formulário de Login ---\r\n@@ -693,48 +697,83 @@\n             console.log(\"Modo de login de administrador ativado.\");\r\n         }\r\n     }\r\n     \r\n+    /**\r\n+     * Lida com a submissão do formulário de login, tanto para administradores quanto para usuários.\r\n+     * @param {Event} e - O evento de submissão do formulário.\r\n+     */\r\n     async function handleLoginFormSubmit(e) {\r\n+        // 1. Previne o comportamento padrão de recarregar a página\r\n         e.preventDefault();\r\n+\r\n+        // --- Seleção dos Elementos do DOM ---\r\n+        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+        \r\n+        // --- Configuração do Estado de Carregamento ---\r\n         mainLoginSubmitBtn.disabled = true;\r\n-        mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n-        clearLoginErrors();\r\n+        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+        clearLoginErrors(); // Limpa mensagens de erro de tentativas anteriores\r\n \r\n-        const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n-        const payload = isAdminLoginMode ? \r\n-            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+        // --- Lógica Principal ---\r\n+        try {\r\n+            // Verifica se está em modo admin lendo o 'dataset' do formulário\r\n+            const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n \r\n-        try {\r\n+            // Obtém a instância da máscara do IMask para pegar o valor limpo\r\n+            // NOTA: Esta é a forma correta de obter a instância, em vez de 'IMask.find'\r\n+            const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n+\r\n+            // Define o endpoint e o payload (dados a serem enviados) com base no modo de login\r\n+            const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n+            \r\n+            const payload = isAdminLoginMode ? \r\n+                { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+                { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+\r\n+            // Realiza a chamada para a API\r\n             const response = await fetch(API_BASE_URL + endpoint, {\r\n                 method: 'POST',\r\n                 headers: { 'Content-Type': 'application/json' },\r\n                 body: JSON.stringify(payload),\r\n             });\r\n+\r\n             const result = await response.json();\r\n+\r\n+            // Se a resposta da API não for um sucesso (ex: erro 400, 401, 404), lança um erro\r\n             if (!response.ok) { \r\n                 const error = new Error(result.message || 'Erro de validação.');\r\n-                error.details = result.errors; // Anexa os erros do express-validator\r\n+                error.details = result.errors; // Anexa os erros detalhados do express-validator\r\n                 throw error;\r\n             }\r\n             \r\n+            // --- Em caso de SUCESSO ---\r\n             localStorage.setItem('authToken', result.token);\r\n-            // Redireciona para a página da aplicação após o login\r\n-            window.location.href = 'OrgBoletos.html';\r\n+            window.location.href = 'OrgBoletos.html'; // Redireciona para a página da aplicação\r\n \r\n         } catch (error) {\r\n+            // --- Em caso de ERRO ---\r\n             if (error.details) {\r\n+                // Se o erro vier do express-validator, exibe as mensagens nos campos corretos\r\n                 error.details.forEach(err => {\r\n                     const errorElement = document.getElementById(`${err.path}Error`);\r\n                     if (errorElement) { errorElement.textContent = err.msg; }\r\n                 });\r\n             } else {\r\n-                mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n+                // Se for um erro genérico (ex: \"Credenciais inválidas\"), exibe no feedback geral\r\n+                if (mainLoginFormFeedback) {\r\n+                    mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n+                }\r\n             }\r\n         } finally {\r\n+            // --- Executa no final, independentemente de sucesso ou erro ---\r\n             mainLoginSubmitBtn.disabled = false;\r\n             mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+            e.target.dataset.isAdmin = \"false\"; // Reseta o estado de admin do formulário\r\n         }\r\n     }\r\n \r\n     setupGeneralEventListeners(); // Configura eventos gerais para o estado de não logado\r\n"
                },
                {
                    "date": 1753141279956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -521,598 +521,399 @@\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script>\r\n-// =================================================================================\r\n-// PONTO DE ENTRADA PRINCIPAL\r\n-// Envolvemos todo o código em 'DOMContentLoaded' para garantir que o HTML\r\n-// esteja totalmente carregado antes de qualquer manipulação.\r\n-// =================================================================================\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n     const API_BASE_URL = 'http://localhost:5000';\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 1: VERIFICAÇÃO INICIAL DE SESSÃO\r\n+    // SEÇÃO 1: FUNÇÕES GLOBAIS DE UI E EVENTOS GERAIS\r\n     // =================================================================================\r\n+\r\n+    function updateUIForLoggedInUser(user, company) {\r\n+        const desktopMenu = document.getElementById('desktop-menu-items');\r\n+        const mobileMenu = document.getElementById('mobile-menu-items');\r\n+        const navLoginLink = document.getElementById('nav-login-link');\r\n+        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+        const loginSectionContent = document.getElementById('login-section-content');\r\n+        const boletoCardLink = document.getElementById('boleto-card-link');\r\n+\r\n+        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+            navLoginLink.textContent = 'Acessar Painel';\r\n+            navLoginLink.href = 'OrgBoletos.html';\r\n+            const logoutButton = document.createElement('button');\r\n+            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+            logoutButton.textContent = 'Sair';\r\n+            desktopMenu.appendChild(logoutButton);\r\n+        }\r\n+\r\n+        if (mobileMenu && mobileNavLoginLink && !document.getElementById('mobile-nav-logout-btn')) {\r\n+            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n+            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n+            const mobileLogoutButton = document.createElement('button');\r\n+            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n+            mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n+            mobileLogoutButton.textContent = 'Sair';\r\n+            mobileMenu.appendChild(mobileLogoutButton);\r\n+        }\r\n+\r\n+        if (loginSectionContent) {\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>\r\n+            `;\r\n+        }\r\n+        \r\n+        if (boletoCardLink) {\r\n+            boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+            boletoCardLink.href = 'OrgBoletos.html';\r\n+        }\r\n+\r\n+        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n+            btn.addEventListener('click', (e) => {\r\n+                e.preventDefault();\r\n+                localStorage.removeItem('authToken');\r\n+                localStorage.removeItem('superAdminToken');\r\n+                window.location.reload();\r\n+            });\r\n+        });\r\n+    }\r\n+\r\n+    function setupGeneralEventListeners() {\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n+\r\n+        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n+            anchor.addEventListener('click', function (e) {\r\n+                e.preventDefault();\r\n+                const targetElement = document.querySelector(this.getAttribute('href'));\r\n+                if (targetElement) {\r\n+                    window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n+                    if (mobileMenu && !mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n+                }\r\n+            });\r\n+        });\r\n+\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        if (contactForm) {\r\n+            contactForm.addEventListener('submit', async function(e) {\r\n+                e.preventDefault();\r\n+                const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+                const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+                contactSubmitBtn.disabled = true;\r\n+                contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                contactFormFeedback.textContent = '';\r\n+                const formData = { name: document.getElementById('contactName').value, email: document.getElementById('contactEmail').value, subject: document.getElementById('contactSubject').value, message: document.getElementById('contactMessage').value, };\r\n+                try {\r\n+                    const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(formData), });\r\n+                    const result = await response.json();\r\n+                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                    contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                    contactFormFeedback.textContent = result.message;\r\n+                    contactForm.reset();\r\n+                } catch (error) {\r\n+                    contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                    contactFormFeedback.textContent = error.message;\r\n+                } finally {\r\n+                    contactSubmitBtn.disabled = false;\r\n+                    contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                }\r\n+            });\r\n+        }\r\n+    }\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 2: VERIFICAÇÃO INICIAL DE SESSÃO\r\n+    // =================================================================================\r\n     const token = localStorage.getItem('authToken');\r\n \r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n                 updateUIForLoggedInUser(data.user, data.company);\r\n-                setupGeneralEventListeners(); // Configura eventos que funcionam mesmo logado\r\n-                // Se o usuário está logado, a UI é atualizada e a configuração do formulário de login é ignorada.\r\n+                setupGeneralEventListeners();\r\n                 return;\r\n             } else {\r\n-                // Se o token for inválido, limpa e prossegue para mostrar o formulário de login\r\n                 localStorage.removeItem('authToken');\r\n-                localStorage.removeItem('superAdminToken');\r\n             }\r\n         } catch (error) {\r\n             console.error(\"Erro ao verificar sessão:\", error);\r\n             localStorage.removeItem('authToken');\r\n         }\r\n     }\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 2: CÓDIGO EXECUTADO APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+    // SEÇÃO 3: CÓDIGO EXECUTADO APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n     // =================================================================================\r\n     \r\n-    // --- Elementos do DOM para a página de não logado ---\r\n+    // Configura os eventos gerais da página\r\n+    setupGeneralEventListeners();\r\n+\r\n+    // --- Lógica do formulário de Login ---\r\n     const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    if (!mainLoginForm) {\r\n-        setupGeneralEventListeners(); // Configura eventos gerais mesmo sem formulário de login\r\n-        return;\r\n-    }\r\n+    if (mainLoginForm) {\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const nextStepBtn = document.getElementById('nextStepBtn');\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n \r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-    const nextStepBtn = document.getElementById('nextStepBtn');\r\n-    const signUpBtn = document.getElementById('signUpBtn');\r\n-    const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-    const loginStep1 = document.getElementById('login-step-1');\r\n-    const loginStep2 = document.getElementById('login-step-2');\r\n-    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-    const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n+        const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        \r\n+        let isAdminLoginMode = false;\r\n \r\n-    const registerModal = document.getElementById('registerModal');\r\n-    const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-    const registerForm = document.getElementById('registerForm');\r\n+        cnpjMask.on('accept', () => {\r\n+            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+            signUpBtn.classList.add('hidden');\r\n+        });\r\n \r\n-    const registerStep1 = document.getElementById('register-step-1');\r\n-    const registerStep2 = document.getElementById('register-step-2');\r\n-    const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n-    const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+        nextStepBtn.addEventListener('click', async () => {\r\n+            const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+            mainLoginFormFeedback.textContent = '';\r\n+            signUpBtn.classList.add('hidden');\r\n \r\n-    const registerCnpjInput = document.getElementById('registerCnpj');\r\n-    const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n-    const registrationFeedback = document.getElementById('registrationFeedback');\r\n-\r\n-    const registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-    const registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n-\r\n-    let isAdminLoginMode = false;\r\n-    \r\n-    // --- Inicialização da Máscara do CNPJ ---\r\n-    const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-\r\n-    cnpjMask.on('accept', () => {\r\n-        mainLoginFormFeedback.textContent = '';\r\n-        signUpBtn.classList.add('hidden');\r\n-    });\r\n-\r\n-    signUpBtn.addEventListener('click', () => {\r\n-        const registerModal = document.getElementById('registerModal');\r\n-        if (registerModal) {\r\n-            if (cnpjMask && registerCnpjMask) {\r\n-                registerCnpjMask.value = cnpjMask.value;\r\n+            if (cnpjMask.unmaskedValue.length !== 14) {\r\n+                mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n+                return;\r\n             }\r\n-            \r\n-            registerModal.classList.remove('hidden');\r\n-            document.body.classList.add('overflow-hidden');\r\n-        }\r\n-    });\r\n-    \r\n-    // --- Configuração dos Eventos do Formulário de Login ---\r\n-    nextStepBtn.addEventListener('click', async () => {\r\n-        mainLoginFormFeedback.textContent = '';\r\n-        signUpBtn.classList.add('hidden'); // Esconde o botão no início de cada tentativa\r\n-\r\n-        if (cnpjMask.unmaskedValue.length !== 14) {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n-            return;\r\n-        }\r\n-\r\n-        nextStepBtn.disabled = true;\r\n-        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, {\r\n-                method: 'POST',\r\n-                headers: { 'Content-Type': 'application/json' },\r\n-                body: JSON.stringify({ cnpj: cnpjMask.value })\r\n-            });\r\n-\r\n-            const result = await response.json();\r\n-\r\n-            if (!response.ok) {\r\n-                throw new Error(result.message);\r\n+            nextStepBtn.disabled = true;\r\n+            nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message); }\r\n+                loginStep1.classList.add('hidden');\r\n+                loginStep2.classList.remove('hidden');\r\n+                mainUsernameInput.focus();\r\n+            } catch (error) {\r\n+                mainLoginFormFeedback.textContent = error.message;\r\n+                if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                    signUpBtn.classList.remove('hidden');\r\n+                }\r\n+            } finally {\r\n+                nextStepBtn.disabled = false;\r\n+                nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n             }\r\n+        });\r\n \r\n-            // Se o CNPJ foi encontrado, avança para o próximo passo.\r\n-            loginStep1.classList.add('hidden');\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-\r\n-        } catch (error) {\r\n-            mainLoginFormFeedback.textContent = error.message;\r\n-\r\n-            // AQUI ESTÁ A MÁGICA: se o erro for \"não encontrado\", mostra o botão de cadastro.\r\n-            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                signUpBtn.classList.remove('hidden');\r\n-            }\r\n-        } finally {\r\n-            nextStepBtn.disabled = false;\r\n-            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-        }\r\n-    });\r\n-    \r\n-    backToStep1Btn.addEventListener('click', () => {\r\n-        loginStep2.classList.add('hidden');\r\n-        cnpjMask.value = ''; // Usa a instância da máscara para limpar\r\n-        loginStep1.classList.remove('hidden');\r\n-        mainLoginFormFeedback.textContent = '';\r\n-        isAdminLoginMode = false;\r\n-        mainCnpjInput.setAttribute('required', '');\r\n-        clearLoginErrors();\r\n-    });\r\n-\r\n-    mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-\r\n-    if (togglePasswordBtn) {\r\n-        togglePasswordBtn.addEventListener('click', () => {\r\n-            const type = mainUserPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n-            mainUserPasswordInput.setAttribute('type', type);\r\n-            togglePasswordBtn.querySelector('i').classList.toggle('fa-eye');\r\n-            togglePasswordBtn.querySelector('i').classList.toggle('fa-eye-slash');\r\n+        backToStep1Btn.addEventListener('click', () => {\r\n+            loginStep2.classList.add('hidden');\r\n+            cnpjMask.value = '';\r\n+            loginStep1.classList.remove('hidden');\r\n+            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+            isAdminLoginMode = false;\r\n+            mainCnpjInput.setAttribute('required', '');\r\n+            clearLoginErrors();\r\n         });\r\n-    }\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 3: FUNÇÕES DE HANDLER (PROCESSAMENTO DE EVENTOS)\r\n-    // =================================================================================\r\n+        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n \r\n-    function activateAdminLogin() {\r\n-        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            mainCnpjInput.removeAttribute('required');\r\n-            isAdminLoginMode = true; \r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-            console.log(\"Modo de login de administrador ativado.\");\r\n-        }\r\n-    }\r\n-    \r\n-    /**\r\n-     * Lida com a submissão do formulário de login, tanto para administradores quanto para usuários.\r\n-     * @param {Event} e - O evento de submissão do formulário.\r\n-     */\r\n-    async function handleLoginFormSubmit(e) {\r\n-        // 1. Previne o comportamento padrão de recarregar a página\r\n-        e.preventDefault();\r\n-\r\n-        // --- Seleção dos Elementos do DOM ---\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-        \r\n-        // --- Configuração do Estado de Carregamento ---\r\n-        mainLoginSubmitBtn.disabled = true;\r\n-        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        clearLoginErrors(); // Limpa mensagens de erro de tentativas anteriores\r\n-\r\n-        // --- Lógica Principal ---\r\n-        try {\r\n-            // Verifica se está em modo admin lendo o 'dataset' do formulário\r\n-            const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n-\r\n-            // Obtém a instância da máscara do IMask para pegar o valor limpo\r\n-            // NOTA: Esta é a forma correta de obter a instância, em vez de 'IMask.find'\r\n-            const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n-\r\n-            // Define o endpoint e o payload (dados a serem enviados) com base no modo de login\r\n-            const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n-            \r\n-            const payload = isAdminLoginMode ? \r\n-                { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-                { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-\r\n-            // Realiza a chamada para a API\r\n-            const response = await fetch(API_BASE_URL + endpoint, {\r\n-                method: 'POST',\r\n-                headers: { 'Content-Type': 'application/json' },\r\n-                body: JSON.stringify(payload),\r\n+        if (togglePasswordBtn) {\r\n+            togglePasswordBtn.addEventListener('click', () => {\r\n+                const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+                const type = mainUserPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n+                mainUserPasswordInput.setAttribute('type', type);\r\n+                togglePasswordBtn.querySelector('i').classList.toggle('fa-eye');\r\n+                togglePasswordBtn.querySelector('i').classList.toggle('fa-eye-slash');\r\n             });\r\n-\r\n-            const result = await response.json();\r\n-\r\n-            // Se a resposta da API não for um sucesso (ex: erro 400, 401, 404), lança um erro\r\n-            if (!response.ok) { \r\n-                const error = new Error(result.message || 'Erro de validação.');\r\n-                error.details = result.errors; // Anexa os erros detalhados do express-validator\r\n-                throw error;\r\n-            }\r\n-            \r\n-            // --- Em caso de SUCESSO ---\r\n-            localStorage.setItem('authToken', result.token);\r\n-            window.location.href = 'OrgBoletos.html'; // Redireciona para a página da aplicação\r\n-\r\n-        } catch (error) {\r\n-            // --- Em caso de ERRO ---\r\n-            if (error.details) {\r\n-                // Se o erro vier do express-validator, exibe as mensagens nos campos corretos\r\n-                error.details.forEach(err => {\r\n-                    const errorElement = document.getElementById(`${err.path}Error`);\r\n-                    if (errorElement) { errorElement.textContent = err.msg; }\r\n-                });\r\n-            } else {\r\n-                // Se for um erro genérico (ex: \"Credenciais inválidas\"), exibe no feedback geral\r\n-                if (mainLoginFormFeedback) {\r\n-                    mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n-                }\r\n-            }\r\n-        } finally {\r\n-            // --- Executa no final, independentemente de sucesso ou erro ---\r\n-            mainLoginSubmitBtn.disabled = false;\r\n-            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            e.target.dataset.isAdmin = \"false\"; // Reseta o estado de admin do formulário\r\n         }\r\n     }\r\n \r\n-    setupGeneralEventListeners(); // Configura eventos gerais para o estado de não logado\r\n-});\r\n+    // --- Lógica do Modal de Cadastro ---\r\n+    const registerModal = document.getElementById('registerModal');\r\n+    if (registerModal) {\r\n+        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const registerForm = document.getElementById('registerForm');\r\n+        const registerStep1 = document.getElementById('register-step-1');\r\n+        const registerStep2 = document.getElementById('register-step-2');\r\n+        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n+        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+        const registerCnpjInput = document.getElementById('registerCnpj');\r\n+        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n \r\n+        const registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        const registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n \r\n-// =================================================================================\r\n-// SEÇÃO 4: FUNÇÕES GLOBAIS E DE UI (acessíveis em qualquer estado)\r\n-// =================================================================================\r\n-\r\n-function setupGeneralEventListeners() {\r\n-    // --- Eventos da Navegação e UI Geral ---\r\n-    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-    const mobileMenu = document.getElementById('mobile-menu');\r\n-    if (mobileMenuButton) {\r\n-        mobileMenuButton.addEventListener('click', () => {\r\n-            mobileMenu.classList.toggle('hidden');\r\n+        signUpBtn.addEventListener('click', () => {\r\n+            const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n+            if (mainCnpjMask) { registerCnpjMask.value = mainCnpjMask.value; }\r\n+            registerModal.classList.remove('hidden');\r\n+            document.body.classList.add('overflow-hidden');\r\n         });\r\n-    }\r\n \r\n-    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-        anchor.addEventListener('click', function (e) {\r\n-            e.preventDefault();\r\n-            const targetElement = document.querySelector(this.getAttribute('href'));\r\n-            if (targetElement) {\r\n-                window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n-                if (mobileMenu && !mobileMenu.classList.contains('hidden')) { \r\n-                    mobileMenu.classList.add('hidden'); \r\n-                }\r\n-            }\r\n+        closeRegisterModalBtn.addEventListener('click', () => {\r\n+            registerModal.classList.add('hidden');\r\n+            document.body.classList.remove('overflow-hidden');\r\n+            registerForm.reset();\r\n+            registerStep2.classList.add('hidden');\r\n+            registerStep1.classList.remove('hidden');\r\n+            document.getElementById('registrationFeedback').textContent = '';\r\n         });\r\n-    });\r\n \r\n-    window.addEventListener('scroll', function() {\r\n-        const navbar = document.querySelector('nav');\r\n-        if (window.scrollY > 10) { navbar.classList.add('shadow-lg'); } else { navbar.classList.remove('shadow-lg'); }\r\n-    });\r\n-\r\n-    // --- Acesso de admin escondido ---\r\n-    const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-    if (logoElement) {\r\n-        let clickCount = 0;\r\n-        let clickTimer = null;\r\n-        logoElement.addEventListener('click', (e) => {\r\n-            const loginForm = document.getElementById('mainLoginForm');\r\n-            if (loginForm) { // Só ativa o modo admin se o formulário de login estiver presente\r\n-                e.preventDefault();\r\n-                clickCount++;\r\n-                clearTimeout(clickTimer);\r\n-                clickTimer = setTimeout(() => { clickCount = 0; }, 3000);\r\n-                if (clickCount === 7) {\r\n-                    const activateAdminLogin = window.activateAdminLogin; // Acessa a função se ela existir\r\n-                    if (activateAdminLogin) activateAdminLogin();\r\n-                    clickCount = 0;\r\n-                    clearTimeout(clickTimer);\r\n-                }\r\n+        goToRegisterStep2Btn.addEventListener('click', () => {\r\n+            const registrationFeedback = document.getElementById('registrationFeedback');\r\n+            registrationFeedback.textContent = '';\r\n+            if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value && document.getElementById('registerEmail').value && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n+                registerStep1.classList.add('hidden');\r\n+                registerStep2.classList.remove('hidden');\r\n+            } else {\r\n+                registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+                registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n             }\r\n         });\r\n-    }\r\n \r\n-    // --- Formulário de Contato ---\r\n-    const contactForm = document.getElementById('contactForm');\r\n-    if (contactForm) {\r\n-        contactForm.addEventListener('submit', async function(e) {\r\n-            e.preventDefault();\r\n-            const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-            const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-            contactSubmitBtn.disabled = true;\r\n-            contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-            contactFormFeedback.textContent = '';\r\n-            const formData = {\r\n-                name: document.getElementById('contactName').value,\r\n-                email: document.getElementById('contactEmail').value,\r\n-                subject: document.getElementById('contactSubject').value,\r\n-                message: document.getElementById('contactMessage').value,\r\n-            };\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify(formData),\r\n-                });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                contactFormFeedback.textContent = result.message;\r\n-                contactForm.reset();\r\n-            } catch (error) {\r\n-                contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                contactFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                contactSubmitBtn.disabled = false;\r\n-                contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n+        backToRegisterStep1Btn.addEventListener('click', () => {\r\n+            registerStep2.classList.add('hidden');\r\n+            registerStep1.classList.remove('hidden');\r\n+            document.getElementById('registrationFeedback').textContent = '';\r\n         });\r\n-    }\r\n-}\r\n \r\n-function updateUIForLoggedInUser(user, company) {\r\n-    const desktopMenu = document.getElementById('desktop-menu-items');\r\n-    const mobileMenu = document.getElementById('mobile-menu-items');\r\n-    const navLoginLink = document.getElementById('nav-login-link');\r\n-    const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-    const loginSectionContent = document.getElementById('login-section-content');\r\n-    const boletoCardLink = document.getElementById('boleto-card-link');\r\n-\r\n-    if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n-        navLoginLink.textContent = 'Acessar Painel';\r\n-        navLoginLink.href = 'OrgBoletos.html';\r\n-        \r\n-        const logoutButton = document.createElement('button');\r\n-        logoutButton.id = 'nav-logout-btn';\r\n-        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n-        logoutButton.textContent = 'Sair';\r\n-        desktopMenu.appendChild(logoutButton);\r\n+        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n     }\r\n+});\r\n \r\n-    if(mobileMenu && mobileNavLoginLink && !document.getElementById('mobile-nav-logout-btn')) {\r\n-        mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-        mobileNavLoginLink.href = 'OrgBoletos.html';\r\n \r\n-        const mobileLogoutButton = document.createElement('button');\r\n-        mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-        mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n-        mobileLogoutButton.textContent = 'Sair';\r\n-        mobileMenu.appendChild(mobileLogoutButton);\r\n-    }\r\n+// =================================================================================\r\n+// SEÇÃO 5: FUNÇÕES HANDLER ESPECÍFICAS\r\n+// =================================================================================\r\n \r\n-    if (loginSectionContent) {\r\n-        loginSectionContent.innerHTML = `\r\n-            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n-            <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-            <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-            </a>\r\n-        `;\r\n-    }\r\n-    \r\n-    if (boletoCardLink) {\r\n-        boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-        boletoCardLink.href = 'OrgBoletos.html';\r\n-    }\r\n-    \r\n-    document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-        btn.addEventListener('click', (e) => {\r\n-            e.preventDefault();\r\n-            localStorage.removeItem('authToken');\r\n-            localStorage.removeItem('superAdminToken');\r\n-            window.location.reload();\r\n-        });\r\n-    });\r\n-}\r\n-\r\n function clearLoginErrors() {\r\n     const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n     fields.forEach(id => {\r\n         const el = document.getElementById(id);\r\n         if (el) el.textContent = '';\r\n     });\r\n }\r\n \r\n-// Para a função de acesso de admin funcionar, ela precisa estar no escopo global\r\n-// ou a referência precisa ser passada de outra forma. A maneira mais simples é anexá-la ao 'window'.\r\n-window.activateAdminLogin = function() {\r\n-    const loginStep1 = document.getElementById('login-step-1');\r\n-    const loginStep2 = document.getElementById('login-step-2');\r\n-    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-\r\n-    if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-        mainCnpjInput.removeAttribute('required');\r\n-        \r\n-        // Esta variável é local para o submit handler, então precisamos de uma forma de a definir\r\n-        // A melhor forma seria refatorar, mas para manter a estrutura, vamos usar um truque.\r\n-        document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n-\r\n-        loginStep1.classList.add('hidden');\r\n-        mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-        loginStep2.classList.remove('hidden');\r\n-        mainUsernameInput.focus();\r\n-        console.log(\"Modo de login de administrador ativado.\");\r\n-    }\r\n-};\r\n-\r\n-// Precisamos ajustar o submit handler para ler o nosso novo 'dataset'\r\n async function handleLoginFormSubmit(e) {\r\n     e.preventDefault();\r\n     const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+    const mainLoginForm = document.getElementById('mainLoginForm');\r\n     mainLoginSubmitBtn.disabled = true;\r\n-    mainLoginSubmitBtn.innerHTML = 'Verificando...';\r\n+    mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n     clearLoginErrors();\r\n \r\n-    const isAdminLoginMode = e.target.dataset.isAdmin === \"true\"; // Lê o dataset\r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+    const isAdminLoginMode = mainLoginForm.dataset.isAdmin === \"true\";\r\n \r\n-    const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n-    const payload = isAdminLoginMode ? \r\n-        { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-        { cnpj: IMask.find(mainCnpjInput).value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-\r\n     try {\r\n-        const response = await fetch(API_BASE_URL + endpoint, {\r\n-            method: 'POST',\r\n-            headers: { 'Content-Type': 'application/json' },\r\n-            body: JSON.stringify(payload),\r\n-        });\r\n+        const API_BASE_URL = 'http://localhost:5000';\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+        const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n+        const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n+        const payload = isAdminLoginMode ? \r\n+            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+        const response = await fetch(API_BASE_URL + endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n         const result = await response.json();\r\n         if (!response.ok) { \r\n             const error = new Error(result.message || 'Erro de validação.');\r\n             error.details = result.errors;\r\n             throw error;\r\n         }\r\n-        \r\n         localStorage.setItem('authToken', result.token);\r\n         window.location.href = 'OrgBoletos.html';\r\n-\r\n     } catch (error) {\r\n         const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n         if (error.details) {\r\n             error.details.forEach(err => {\r\n                 const errorElement = document.getElementById(`${err.path}Error`);\r\n                 if (errorElement) { errorElement.textContent = err.msg; }\r\n             });\r\n         } else {\r\n-            mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.';\r\n+            if (mainLoginFormFeedback) { mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.'; }\r\n         }\r\n     } finally {\r\n         mainLoginSubmitBtn.disabled = false;\r\n         mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-        e.target.dataset.isAdmin = \"false\"; // Reseta o estado\r\n+        mainLoginForm.dataset.isAdmin = \"false\";\r\n     }\r\n }\r\n \r\n-    // --- Eventos para abrir e fechar o modal ---\r\n-    signUpBtn.addEventListener('click', () => {\r\n-        // Preenche o CNPJ no formulário de cadastro com o valor que o usuário já digitou\r\n-        const mainCnpjMask = IMask.find(document.getElementById('mainCnpjInput'));\r\n-        if (mainCnpjMask) {\r\n-            registerCnpjMask.value = mainCnpjMask.value;\r\n-        }\r\n-        registerModal.classList.remove('hidden');\r\n-        document.body.classList.add('overflow-hidden'); // Impede o scroll da página ao fundo\r\n-    });\r\n-\r\n-    closeRegisterModalBtn.addEventListener('click', () => {\r\n-        registerModal.classList.add('hidden');\r\n-        document.body.classList.remove('overflow-hidden');\r\n-        registerForm.reset();\r\n-        registerStep2.classList.add('hidden');\r\n-        registerStep1.classList.remove('hidden');\r\n-        registrationFeedback.textContent = '';\r\n-    });\r\n-\r\n-    // --- Eventos para navegar entre as etapas do cadastro ---\r\n-    goToRegisterStep2Btn.addEventListener('click', () => {\r\n-        // Validação simples antes de avançar\r\n-        if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value && document.getElementById('registerEmail').value && registerWhatsappMask.unmaskedValue.length === 11) {\r\n-            registerStep1.classList.add('hidden');\r\n-            registerStep2.classList.remove('hidden');\r\n-            registrationFeedback.textContent = '';\r\n-        } else {\r\n-            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-        }\r\n-    });\r\n-\r\n-    backToRegisterStep1Btn.addEventListener('click', () => {\r\n-        registerStep2.classList.add('hidden');\r\n-        registerStep1.classList.remove('hidden');\r\n-        registrationFeedback.textContent = '';\r\n-    });\r\n-\r\n-    // --- Evento de submissão do formulário de cadastro ---\r\n-    registerForm.addEventListener('submit', async (e) => {\r\n-        e.preventDefault();\r\n-        const password = document.getElementById('ownerPassword').value;\r\n-        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-        const passwordConfirmError = document.getElementById('passwordConfirmError');\r\n-\r\n-        // Valida se as senhas coincidem\r\n-        if (password !== confirmPassword) {\r\n-            passwordConfirmError.textContent = 'As senhas não coincidem.';\r\n-            return;\r\n-        } else {\r\n-            passwordConfirmError.textContent = '';\r\n-        }\r\n-\r\n-        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-        submitBtn.disabled = true;\r\n-        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n-        registrationFeedback.textContent = '';\r\n-\r\n-        // Coleta todos os dados do formulário\r\n-        const formData = new FormData(registerForm);\r\n-        const payload = Object.fromEntries(formData.entries());\r\n-        \r\n-        // Remove o lixo da máscara antes de enviar\r\n-        payload.cnpj = registerCnpjMask.unmaskedValue;\r\n-        payload.telefoneWhatsapp = registerWhatsappMask.unmaskedValue;\r\n-\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/companies/register`, {\r\n-                method: 'POST',\r\n-                headers: { 'Content-Type': 'application/json' },\r\n-                body: JSON.stringify(payload)\r\n-            });\r\n-\r\n-            const result = await response.json();\r\n-\r\n-            if (!response.ok) {\r\n-                throw new Error(result.message || 'Ocorreu um erro no cadastro.');\r\n+async function handleRegisterFormSubmit(e) {\r\n+    e.preventDefault();\r\n+    const API_BASE_URL = 'http://localhost:5000';\r\n+    const password = document.getElementById('ownerPassword').value;\r\n+    const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+    const passwordConfirmError = document.getElementById('passwordConfirmError');\r\n+    if (password !== confirmPassword) {\r\n+        passwordConfirmError.textContent = 'As senhas não coincidem.';\r\n+        return;\r\n+    } else {\r\n+        passwordConfirmError.textContent = '';\r\n+    }\r\n+    const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+    submitBtn.disabled = true;\r\n+    submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+    registrationFeedback.textContent = '';\r\n+    \r\n+    const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n+    const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n+    \r\n+    const payload = {\r\n+        cnpj: registerCnpjMask.unmaskedValue,\r\n+        nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n+        email: document.getElementById('registerEmail').value,\r\n+        telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n+        username: document.getElementById('ownerUsername').value,\r\n+        ownerEmail: document.getElementById('ownerEmail').value,\r\n+        password: password,\r\n+    };\r\n+    try {\r\n+        const response = await fetch(`${API_BASE_URL}/api/companies/register`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+        const result = await response.json();\r\n+        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+        registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando para o login...';\r\n+        setTimeout(() => {\r\n+            document.getElementById('closeRegisterModalBtn').click();\r\n+            const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n+            if (mainCnpjMask) {\r\n+                mainCnpjMask.value = payload.cnpj;\r\n+                mainCnpjMask.el.input.focus();\r\n             }\r\n+        }, 3000);\r\n+    } catch (error) {\r\n+        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+        registrationFeedback.textContent = error.message;\r\n+    } finally {\r\n+        submitBtn.disabled = false;\r\n+        submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+    }\r\n+}\r\n \r\n-            // Sucesso!\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Você será redirecionado para o login.';\r\n+// Para a função de acesso de admin funcionar, ela precisa ser acessível\r\n+window.activateAdminLogin = function() {\r\n+    const loginStep1 = document.getElementById('login-step-1');\r\n+    const loginStep2 = document.getElementById('login-step-2');\r\n+    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n \r\n-            // Fecha o modal e redireciona para o login após alguns segundos\r\n-            setTimeout(() => {\r\n-                closeRegisterModalBtn.click();\r\n-                // Opcional: Limpar o campo CNPJ da página principal e focar nele\r\n-                const mainCnpjMask = IMask.find(document.getElementById('mainCnpjInput'));\r\n-                if (mainCnpjMask) {\r\n-                    mainCnpjMask.value = payload.cnpj;\r\n-                    mainCnpjMask.el.input.focus();\r\n-                }\r\n-            }, 3000);\r\n+    if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+        mainCnpjInput.removeAttribute('required');\r\n+        document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n+        loginStep1.classList.add('hidden');\r\n+        mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+        loginStep2.classList.remove('hidden');\r\n+        mainUsernameInput.focus();\r\n+    }\r\n+};\r\n \r\n-        } catch (error) {\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-            registrationFeedback.textContent = error.message;\r\n-        } finally {\r\n-            submitBtn.disabled = false;\r\n-            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n-        }\r\n-    });\r\n-\r\n </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753143094441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -529,135 +529,106 @@\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS DE UI E EVENTOS GERAIS\r\n     // =================================================================================\r\n \r\n-    function updateUIForLoggedInUser(user, company) {\r\n+    function updateUIForLoggedInUser(user) {\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n-        const mobileMenu = document.getElementById('mobile-menu-items');\r\n         const navLoginLink = document.getElementById('nav-login-link');\r\n-        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n         const loginSectionContent = document.getElementById('login-section-content');\r\n-        const boletoCardLink = document.getElementById('boleto-card-link');\r\n-\r\n+        \r\n         if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n             navLoginLink.textContent = 'Acessar Painel';\r\n             navLoginLink.href = 'OrgBoletos.html';\r\n             const logoutButton = document.createElement('button');\r\n             logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 transition duration-300';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n             logoutButton.textContent = 'Sair';\r\n             desktopMenu.appendChild(logoutButton);\r\n         }\r\n \r\n-        if (mobileMenu && mobileNavLoginLink && !document.getElementById('mobile-nav-logout-btn')) {\r\n-            mobileNavLoginLink.textContent = 'Acessar Painel';\r\n-            mobileNavLoginLink.href = 'OrgBoletos.html';\r\n-            const mobileLogoutButton = document.createElement('button');\r\n-            mobileLogoutButton.id = 'mobile-nav-logout-btn';\r\n-            mobileLogoutButton.className = 'w-full text-left bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium mt-2';\r\n-            mobileLogoutButton.textContent = 'Sair';\r\n-            mobileMenu.appendChild(mobileLogoutButton);\r\n-        }\r\n-\r\n         if (loginSectionContent) {\r\n             loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta, ${user.username}!</h3>\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n                 <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                    Ir para o Painel de Boletos <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>\r\n-            `;\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>`;\r\n         }\r\n         \r\n-        if (boletoCardLink) {\r\n-            boletoCardLink.innerHTML = 'Acessar Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-            boletoCardLink.href = 'OrgBoletos.html';\r\n-        }\r\n-\r\n-        document.querySelectorAll('#nav-logout-btn, #mobile-nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', (e) => {\r\n-                e.preventDefault();\r\n+        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n+            btn.addEventListener('click', () => {\r\n                 localStorage.removeItem('authToken');\r\n-                localStorage.removeItem('superAdminToken');\r\n                 window.location.reload();\r\n             });\r\n         });\r\n     }\r\n \r\n     function setupGeneralEventListeners() {\r\n         const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n         const mobileMenu = document.getElementById('mobile-menu');\r\n+\r\n         if (mobileMenuButton) {\r\n             mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n         }\r\n \r\n-        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n-            anchor.addEventListener('click', function (e) {\r\n-                e.preventDefault();\r\n-                const targetElement = document.querySelector(this.getAttribute('href'));\r\n-                if (targetElement) {\r\n-                    window.scrollTo({ top: targetElement.offsetTop - 80, behavior: 'smooth' });\r\n-                    if (mobileMenu && !mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); }\r\n-                }\r\n-            });\r\n-        });\r\n-\r\n         const contactForm = document.getElementById('contactForm');\r\n         if (contactForm) {\r\n-            contactForm.addEventListener('submit', async function(e) {\r\n-                e.preventDefault();\r\n-                const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-                const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-                contactSubmitBtn.disabled = true;\r\n-                contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-                contactFormFeedback.textContent = '';\r\n-                const formData = { name: document.getElementById('contactName').value, email: document.getElementById('contactEmail').value, subject: document.getElementById('contactSubject').value, message: document.getElementById('contactMessage').value, };\r\n-                try {\r\n-                    const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(formData), });\r\n-                    const result = await response.json();\r\n-                    if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                    contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                    contactFormFeedback.textContent = result.message;\r\n-                    contactForm.reset();\r\n-                } catch (error) {\r\n-                    contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                    contactFormFeedback.textContent = error.message;\r\n-                } finally {\r\n-                    contactSubmitBtn.disabled = false;\r\n-                    contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n+        }\r\n+\r\n+        const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+        if (logoElement) {\r\n+            let clickCount = 0;\r\n+            let clickTimer = null;\r\n+            logoElement.addEventListener('click', (e) => {\r\n+                if (document.getElementById('mainLoginForm')) {\r\n+                    e.preventDefault();\r\n+                    clickCount++;\r\n+                    clearTimeout(clickTimer);\r\n+                    clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                    if (clickCount === 7) {\r\n+                        activateAdminLogin();\r\n+                        clickCount = 0;\r\n+                        clearTimeout(clickTimer);\r\n+                    }\r\n                 }\r\n             });\r\n         }\r\n     }\r\n \r\n+    function clearLoginErrors() {\r\n+        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+        fields.forEach(id => {\r\n+            const el = document.getElementById(id);\r\n+            if (el) el.textContent = '';\r\n+        });\r\n+    }\r\n+\r\n     // =================================================================================\r\n     // SEÇÃO 2: VERIFICAÇÃO INICIAL DE SESSÃO\r\n     // =================================================================================\r\n+    setupGeneralEventListeners();\r\n     const token = localStorage.getItem('authToken');\r\n \r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user, data.company);\r\n-                setupGeneralEventListeners();\r\n-                return;\r\n+                updateUIForLoggedInUser(data.user);\r\n+                return; // Para a execução se o usuário já estiver logado.\r\n             } else {\r\n                 localStorage.removeItem('authToken');\r\n             }\r\n         } catch (error) {\r\n             console.error(\"Erro ao verificar sessão:\", error);\r\n-            localStorage.removeItem('authToken');\r\n         }\r\n     }\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 3: CÓDIGO EXECUTADO APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n     // =================================================================================\r\n     \r\n-    // Configura os eventos gerais da página\r\n-    setupGeneralEventListeners();\r\n \r\n     // --- Lógica do formulário de Login ---\r\n     const mainLoginForm = document.getElementById('mainLoginForm');\r\n     if (mainLoginForm) {\r\n@@ -666,254 +637,299 @@\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const togglePasswordBtn = document.getElementById('togglePasswordBtn');\r\n \r\n         const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n         \r\n-        let isAdminLoginMode = false;\r\n-\r\n         cnpjMask.on('accept', () => {\r\n             document.getElementById('mainLoginFormFeedback').textContent = '';\r\n             signUpBtn.classList.add('hidden');\r\n         });\r\n \r\n-        nextStepBtn.addEventListener('click', async () => {\r\n-            const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-            mainLoginFormFeedback.textContent = '';\r\n-            signUpBtn.classList.add('hidden');\r\n-\r\n-            if (cnpjMask.unmaskedValue.length !== 14) {\r\n-                mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n-                return;\r\n-            }\r\n-            nextStepBtn.disabled = true;\r\n-            nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message); }\r\n-                loginStep1.classList.add('hidden');\r\n-                loginStep2.classList.remove('hidden');\r\n-                mainUsernameInput.focus();\r\n-            } catch (error) {\r\n-                mainLoginFormFeedback.textContent = error.message;\r\n-                if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                    signUpBtn.classList.remove('hidden');\r\n-                }\r\n-            } finally {\r\n-                nextStepBtn.disabled = false;\r\n-                nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-            }\r\n-        });\r\n-\r\n+        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n         backToStep1Btn.addEventListener('click', () => {\r\n             loginStep2.classList.add('hidden');\r\n             cnpjMask.value = '';\r\n             loginStep1.classList.remove('hidden');\r\n             document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            isAdminLoginMode = false;\r\n+            mainLoginForm.dataset.isAdmin = \"false\";\r\n             mainCnpjInput.setAttribute('required', '');\r\n             clearLoginErrors();\r\n         });\r\n-\r\n         mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-\r\n-        if (togglePasswordBtn) {\r\n-            togglePasswordBtn.addEventListener('click', () => {\r\n-                const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-                const type = mainUserPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';\r\n-                mainUserPasswordInput.setAttribute('type', type);\r\n-                togglePasswordBtn.querySelector('i').classList.toggle('fa-eye');\r\n-                togglePasswordBtn.querySelector('i').classList.toggle('fa-eye-slash');\r\n-            });\r\n-        }\r\n     }\r\n \r\n     // --- Lógica do Modal de Cadastro ---\r\n     const registerModal = document.getElementById('registerModal');\r\n     if (registerModal) {\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n         const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n         const registerForm = document.getElementById('registerForm');\r\n-        const registerStep1 = document.getElementById('register-step-1');\r\n-        const registerStep2 = document.getElementById('register-step-2');\r\n         const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n         const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n         const registerCnpjInput = document.getElementById('registerCnpj');\r\n         const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n \r\n         const registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        const registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+        IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n \r\n         signUpBtn.addEventListener('click', () => {\r\n             const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n             if (mainCnpjMask) { registerCnpjMask.value = mainCnpjMask.value; }\r\n             registerModal.classList.remove('hidden');\r\n             document.body.classList.add('overflow-hidden');\r\n         });\r\n-\r\n+        \r\n         closeRegisterModalBtn.addEventListener('click', () => {\r\n             registerModal.classList.add('hidden');\r\n             document.body.classList.remove('overflow-hidden');\r\n             registerForm.reset();\r\n-            registerStep2.classList.add('hidden');\r\n-            registerStep1.classList.remove('hidden');\r\n-            document.getElementById('registrationFeedback').textContent = '';\r\n         });\r\n \r\n         goToRegisterStep2Btn.addEventListener('click', () => {\r\n             const registrationFeedback = document.getElementById('registrationFeedback');\r\n             registrationFeedback.textContent = '';\r\n-            if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value && document.getElementById('registerEmail').value && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n-                registerStep1.classList.add('hidden');\r\n-                registerStep2.classList.remove('hidden');\r\n+            if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value) {\r\n+                document.getElementById('register-step-1').classList.add('hidden');\r\n+                document.getElementById('register-step-2').classList.remove('hidden');\r\n             } else {\r\n                 registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-                registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n             }\r\n         });\r\n \r\n         backToRegisterStep1Btn.addEventListener('click', () => {\r\n-            registerStep2.classList.add('hidden');\r\n-            registerStep1.classList.remove('hidden');\r\n-            document.getElementById('registrationFeedback').textContent = '';\r\n+            document.getElementById('register-step-2').classList.add('hidden');\r\n+            document.getElementById('register-step-1').classList.remove('hidden');\r\n         });\r\n \r\n         registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n     }\r\n });\r\n \r\n+    // =================================================================================\r\n+    // SEÇÃO 4: FUNÇÕES DE HANDLER (PROCESSADORAS DE EVENTOS)\r\n+    // =================================================================================\r\n \r\n-// =================================================================================\r\n-// SEÇÃO 5: FUNÇÕES HANDLER ESPECÍFICAS\r\n-// =================================================================================\r\n+    function activateAdminLogin() {\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        \r\n+        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n+            mainLoginForm.dataset.isAdmin = \"true\";\r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        }\r\n+    }\r\n \r\n-function clearLoginErrors() {\r\n-    const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-    fields.forEach(id => {\r\n-        const el = document.getElementById(id);\r\n-        if (el) el.textContent = '';\r\n-    });\r\n-}\r\n+    async function handleNextStepClick() {\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const nextStepBtn = document.getElementById('nextStepBtn');\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const cnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n \r\n-async function handleLoginFormSubmit(e) {\r\n-    e.preventDefault();\r\n-    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    mainLoginSubmitBtn.disabled = true;\r\n-    mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-    clearLoginErrors();\r\n+        mainLoginFormFeedback.textContent = '';\r\n+        signUpBtn.classList.add('hidden');\r\n+        if (cnpjMask.unmaskedValue.length !== 14) {\r\n+            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n+            return;\r\n+        }\r\n+        nextStepBtn.disabled = true;\r\n+        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { throw new Error(result.message); }\r\n+            loginStep1.classList.add('hidden');\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        } catch (error) {\r\n+            mainLoginFormFeedback.textContent = error.message;\r\n+            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                signUpBtn.classList.remove('hidden');\r\n+            }\r\n+        } finally {\r\n+            nextStepBtn.disabled = false;\r\n+            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n+        }\r\n+    }\r\n \r\n-    const isAdminLoginMode = mainLoginForm.dataset.isAdmin === \"true\";\r\n-\r\n-    try {\r\n-        const API_BASE_URL = 'http://localhost:5000';\r\n+    async function handleLoginFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n         const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+        \r\n+        mainLoginSubmitBtn.disabled = true;\r\n+        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+        clearLoginErrors();\r\n+\r\n+        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n         const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n         const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n         const payload = isAdminLoginMode ? \r\n             { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n             { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-        const response = await fetch(API_BASE_URL + endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n-        const result = await response.json();\r\n-        if (!response.ok) { \r\n-            const error = new Error(result.message || 'Erro de validação.');\r\n-            error.details = result.errors;\r\n-            throw error;\r\n+\r\n+        try {\r\n+            const response = await fetch(API_BASE_URL + endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { \r\n+                const error = new Error(result.message || 'Erro de validação.');\r\n+                error.details = result.errors;\r\n+                throw error;\r\n+            }\r\n+            localStorage.setItem('authToken', result.token);\r\n+            window.location.href = 'OrgBoletos.html';\r\n+        } catch (error) {\r\n+            if (error.details) {\r\n+                error.details.forEach(err => {\r\n+                    const errorElement = document.getElementById(`${err.path}Error`);\r\n+                    if (errorElement) { errorElement.textContent = err.msg; }\r\n+                });\r\n+            } else {\r\n+                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n+            }\r\n+        } finally {\r\n+            mainLoginSubmitBtn.disabled = false;\r\n+            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+            e.target.dataset.isAdmin = \"false\";\r\n         }\r\n-        localStorage.setItem('authToken', result.token);\r\n-        window.location.href = 'OrgBoletos.html';\r\n-    } catch (error) {\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        if (error.details) {\r\n-            error.details.forEach(err => {\r\n-                const errorElement = document.getElementById(`${err.path}Error`);\r\n-                if (errorElement) { errorElement.textContent = err.msg; }\r\n-            });\r\n+    }\r\n+\r\n+    async function handleRegisterFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        const password = document.getElementById('ownerPassword').value;\r\n+        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+        if (password !== confirmPassword) {\r\n+            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n+            return;\r\n         } else {\r\n-            if (mainLoginFormFeedback) { mainLoginFormFeedback.textContent = error.message || 'Ocorreu um erro.'; }\r\n+            document.getElementById('passwordConfirmError').textContent = '';\r\n         }\r\n-    } finally {\r\n-        mainLoginSubmitBtn.disabled = false;\r\n-        mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-        mainLoginForm.dataset.isAdmin = \"false\";\r\n+        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+        submitBtn.disabled = true;\r\n+        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+        const registrationFeedback = document.getElementById('registrationFeedback');\r\n+        registrationFeedback.textContent = '';\r\n+        \r\n+        const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n+        const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n+        \r\n+        const payload = {\r\n+            cnpj: registerCnpjMask.unmaskedValue,\r\n+            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n+            email: document.getElementById('registerEmail').value,\r\n+            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n+            username: document.getElementById('ownerUsername').value,\r\n+            ownerEmail: document.getElementById('ownerEmail').value,\r\n+            password: password,\r\n+        };\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/companies/register`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando...';\r\n+            setTimeout(() => {\r\n+                document.getElementById('closeRegisterModalBtn').click();\r\n+                const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n+                if (mainCnpjMask) {\r\n+                    mainCnpjMask.value = payload.cnpj;\r\n+                    mainCnpjMask.el.input.focus();\r\n+                }\r\n+            }, 3000);\r\n+        } catch (error) {\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+            registrationFeedback.textContent = error.message;\r\n+        } finally {\r\n+            submitBtn.disabled = false;\r\n+            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+        }\r\n     }\r\n-}\r\n \r\n-async function handleRegisterFormSubmit(e) {\r\n-    e.preventDefault();\r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n-    const password = document.getElementById('ownerPassword').value;\r\n-    const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-    const passwordConfirmError = document.getElementById('passwordConfirmError');\r\n-    if (password !== confirmPassword) {\r\n-        passwordConfirmError.textContent = 'As senhas não coincidem.';\r\n-        return;\r\n-    } else {\r\n-        passwordConfirmError.textContent = '';\r\n-    }\r\n-    const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-    submitBtn.disabled = true;\r\n-    submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n-    const registrationFeedback = document.getElementById('registrationFeedback');\r\n-    registrationFeedback.textContent = '';\r\n-    \r\n-    const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n-    const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n-    \r\n-    const payload = {\r\n-        cnpj: registerCnpjMask.unmaskedValue,\r\n-        nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n-        email: document.getElementById('registerEmail').value,\r\n-        telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n-        username: document.getElementById('ownerUsername').value,\r\n-        ownerEmail: document.getElementById('ownerEmail').value,\r\n-        password: password,\r\n-    };\r\n-    try {\r\n-        const response = await fetch(`${API_BASE_URL}/api/companies/register`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n-        const result = await response.json();\r\n-        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n-        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-        registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando para o login...';\r\n-        setTimeout(() => {\r\n-            document.getElementById('closeRegisterModalBtn').click();\r\n-            const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n-            if (mainCnpjMask) {\r\n-                mainCnpjMask.value = payload.cnpj;\r\n-                mainCnpjMask.el.input.focus();\r\n+    /**\r\n+     * Lida com a submissão do formulário de contato.\r\n+     * @param {Event} e - O evento de submissão do formulário.\r\n+     */\r\n+    async function handleContactFormSubmit(e) {\r\n+        // 1. Previne o comportamento padrão do formulário (que é recarregar a página)\r\n+        e.preventDefault();\r\n+\r\n+        // --- Seleção dos Elementos do DOM ---\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+        \r\n+        // --- Configuração do Estado de Carregamento ---\r\n+        contactSubmitBtn.disabled = true;\r\n+        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+        contactFormFeedback.textContent = '';\r\n+\r\n+        // --- Coleta dos Dados do Formulário ---\r\n+        const payload = {\r\n+            name: document.getElementById('contactName').value,\r\n+            email: document.getElementById('contactEmail').value,\r\n+            subject: document.getElementById('contactSubject').value,\r\n+            message: document.getElementById('contactMessage').value,\r\n+        };\r\n+\r\n+        // --- Lógica Principal (Chamada à API) ---\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n+                method: 'POST',\r\n+                headers: { 'Content-Type': 'application/json' },\r\n+                body: JSON.stringify(payload),\r\n+            });\r\n+\r\n+            const result = await response.json();\r\n+\r\n+            if (!response.ok) {\r\n+                // Se a resposta da API não for um sucesso, lança um erro\r\n+                throw new Error(result.message || 'Ocorreu um erro ao enviar a mensagem.');\r\n             }\r\n-        }, 3000);\r\n-    } catch (error) {\r\n-        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-        registrationFeedback.textContent = error.message;\r\n-    } finally {\r\n-        submitBtn.disabled = false;\r\n-        submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n-    }\r\n-}\r\n \r\n-// Para a função de acesso de admin funcionar, ela precisa ser acessível\r\n-window.activateAdminLogin = function() {\r\n-    const loginStep1 = document.getElementById('login-step-1');\r\n-    const loginStep2 = document.getElementById('login-step-2');\r\n-    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+            // --- Em caso de SUCESSO ---\r\n+            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+            contactFormFeedback.textContent = result.message;\r\n+            contactForm.reset(); // Limpa o formulário\r\n \r\n-    if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-        mainCnpjInput.removeAttribute('required');\r\n-        document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n-        loginStep1.classList.add('hidden');\r\n-        mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-        loginStep2.classList.remove('hidden');\r\n-        mainUsernameInput.focus();\r\n+        } catch (error) {\r\n+            // --- Em caso de ERRO ---\r\n+            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+            contactFormFeedback.textContent = error.message;\r\n+\r\n+        } finally {\r\n+            // --- Executa no final, independentemente de sucesso ou erro ---\r\n+            contactSubmitBtn.disabled = false;\r\n+            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+        }\r\n     }\r\n-};\r\n \r\n+    // Para a função de acesso de admin funcionar, ela precisa ser acessível\r\n+    window.activateAdminLogin = function() {\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+\r\n+        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+            mainCnpjInput.removeAttribute('required');\r\n+            document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        }\r\n+    };\r\n+\r\n </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753143239360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -703,9 +703,8 @@\n         });\r\n \r\n         registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n     }\r\n-});\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 4: FUNÇÕES DE HANDLER (PROCESSADORAS DE EVENTOS)\r\n     // =================================================================================\r\n@@ -929,7 +928,9 @@\n             mainUsernameInput.focus();\r\n         }\r\n     };\r\n \r\n+});\r\n+\r\n </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753143308857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -526,9 +526,10 @@\n \r\n     const API_BASE_URL = 'http://localhost:5000';\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS DE UI E EVENTOS GERAIS\r\n+    // SEÇÃO 1: FUNÇÕES GLOBAIS DE UI\r\n+    // (Estas funções são declaradas primeiro para estarem disponíveis para todo o script)\r\n     // =================================================================================\r\n \r\n     function updateUIForLoggedInUser(user) {\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n@@ -561,41 +562,8 @@\n             });\r\n         });\r\n     }\r\n \r\n-    function setupGeneralEventListeners() {\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n-\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-        }\r\n-\r\n-        const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-        if (logoElement) {\r\n-            let clickCount = 0;\r\n-            let clickTimer = null;\r\n-            logoElement.addEventListener('click', (e) => {\r\n-                if (document.getElementById('mainLoginForm')) {\r\n-                    e.preventDefault();\r\n-                    clickCount++;\r\n-                    clearTimeout(clickTimer);\r\n-                    clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                    if (clickCount === 7) {\r\n-                        activateAdminLogin();\r\n-                        clickCount = 0;\r\n-                        clearTimeout(clickTimer);\r\n-                    }\r\n-                }\r\n-            });\r\n-        }\r\n-    }\r\n-\r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n         fields.forEach(id => {\r\n             const el = document.getElementById(id);\r\n@@ -603,20 +571,21 @@\n         });\r\n     }\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 2: VERIFICAÇÃO INICIAL DE SESSÃO\r\n+    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n     // =================================================================================\r\n-    setupGeneralEventListeners();\r\n+    \r\n     const token = localStorage.getItem('authToken');\r\n-\r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n                 updateUIForLoggedInUser(data.user);\r\n-                return; // Para a execução se o usuário já estiver logado.\r\n+                // Configura apenas os eventos gerais se o usuário estiver logado\r\n+                setupGeneralEventListeners(true); \r\n+                return; // Para a execução\r\n             } else {\r\n                 localStorage.removeItem('authToken');\r\n             }\r\n         } catch (error) {\r\n@@ -624,21 +593,61 @@\n         }\r\n     }\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 3: CÓDIGO EXECUTADO APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n     // =================================================================================\r\n     \r\n+    // Configura todos os eventos, incluindo os de formulários\r\n+    setupGeneralEventListeners(false);\r\n \r\n-    // --- Lógica do formulário de Login ---\r\n+    // =================================================================================\r\n+    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n+    // (Todas as funções agora estão DENTRO do DOMContentLoaded)\r\n+    // =================================================================================\r\n+    \r\n+    function setupGeneralEventListeners(isLoggedIn) {\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n+\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        if (contactForm) {\r\n+            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n+        }\r\n+        \r\n+        // Só configura o acesso de admin se o usuário NÃO estiver logado\r\n+        if (!isLoggedIn) {\r\n+            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+            if (logoElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                logoElement.addEventListener('click', (e) => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        e.preventDefault();\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            activateAdminLogin();\r\n+                            clickCount = 0;\r\n+                            clearTimeout(clickTimer);\r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+        }\r\n+    }\r\n+    \r\n+    // --- Lógica de inicialização dos formulários (só se não estiver logado) ---\r\n     const mainLoginForm = document.getElementById('mainLoginForm');\r\n     if (mainLoginForm) {\r\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n \r\n         const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n         \r\n         cnpjMask.on('accept', () => {\r\n@@ -646,21 +655,12 @@\n             signUpBtn.classList.add('hidden');\r\n         });\r\n \r\n         nextStepBtn.addEventListener('click', handleNextStepClick);\r\n-        backToStep1Btn.addEventListener('click', () => {\r\n-            loginStep2.classList.add('hidden');\r\n-            cnpjMask.value = '';\r\n-            loginStep1.classList.remove('hidden');\r\n-            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            mainLoginForm.dataset.isAdmin = \"false\";\r\n-            mainCnpjInput.setAttribute('required', '');\r\n-            clearLoginErrors();\r\n-        });\r\n+        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n         mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n     }\r\n-\r\n-    // --- Lógica do Modal de Cadastro ---\r\n+    \r\n     const registerModal = document.getElementById('registerModal');\r\n     if (registerModal) {\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n@@ -676,14 +676,12 @@\n         signUpBtn.addEventListener('click', () => {\r\n             const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n             if (mainCnpjMask) { registerCnpjMask.value = mainCnpjMask.value; }\r\n             registerModal.classList.remove('hidden');\r\n-            document.body.classList.add('overflow-hidden');\r\n         });\r\n         \r\n         closeRegisterModalBtn.addEventListener('click', () => {\r\n             registerModal.classList.add('hidden');\r\n-            document.body.classList.remove('overflow-hidden');\r\n             registerForm.reset();\r\n         });\r\n \r\n         goToRegisterStep2Btn.addEventListener('click', () => {\r\n@@ -703,18 +701,15 @@\n         });\r\n \r\n         registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n     }\r\n+    \r\n+    // --- Funções de Handler ---\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 4: FUNÇÕES DE HANDLER (PROCESSADORAS DE EVENTOS)\r\n-    // =================================================================================\r\n-\r\n     function activateAdminLogin() {\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        \r\n         if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n             document.getElementById('mainCnpjInput').removeAttribute('required');\r\n             mainLoginForm.dataset.isAdmin = \"true\";\r\n             loginStep1.classList.add('hidden');\r\n@@ -723,8 +718,21 @@\n             mainUsernameInput.focus();\r\n         }\r\n     }\r\n \r\n+    function handleBackToStep1Click() {\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const cnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n+        loginStep2.classList.add('hidden');\r\n+        if(cnpjMask) cnpjMask.value = '';\r\n+        loginStep1.classList.remove('hidden');\r\n+        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+        mainLoginForm.dataset.isAdmin = \"false\";\r\n+        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n+        clearLoginErrors();\r\n+    }\r\n+\r\n     async function handleNextStepClick() {\r\n         const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n@@ -757,27 +765,24 @@\n             nextStepBtn.disabled = false;\r\n             nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n         }\r\n     }\r\n-\r\n+    \r\n     async function handleLoginFormSubmit(e) {\r\n         e.preventDefault();\r\n         const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n         const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-        \r\n         mainLoginSubmitBtn.disabled = true;\r\n         mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n         clearLoginErrors();\r\n-\r\n         const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n         const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n         const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n         const payload = isAdminLoginMode ? \r\n             { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n             { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-\r\n         try {\r\n             const response = await fetch(API_BASE_URL + endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n             const result = await response.json();\r\n             if (!response.ok) { \r\n@@ -817,12 +822,10 @@\n         submitBtn.disabled = true;\r\n         submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n         const registrationFeedback = document.getElementById('registrationFeedback');\r\n         registrationFeedback.textContent = '';\r\n-        \r\n         const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n         const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n-        \r\n         const payload = {\r\n             cnpj: registerCnpjMask.unmaskedValue,\r\n             nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n             email: document.getElementById('registerEmail').value,\r\n@@ -841,9 +844,9 @@\n                 document.getElementById('closeRegisterModalBtn').click();\r\n                 const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n                 if (mainCnpjMask) {\r\n                     mainCnpjMask.value = payload.cnpj;\r\n-                    mainCnpjMask.el.input.focus();\r\n+                    document.getElementById('mainCnpjInput').focus();\r\n                 }\r\n             }, 3000);\r\n         } catch (error) {\r\n             registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n@@ -852,85 +855,37 @@\n             submitBtn.disabled = false;\r\n             submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n         }\r\n     }\r\n-\r\n-    /**\r\n-     * Lida com a submissão do formulário de contato.\r\n-     * @param {Event} e - O evento de submissão do formulário.\r\n-     */\r\n+    \r\n     async function handleContactFormSubmit(e) {\r\n-        // 1. Previne o comportamento padrão do formulário (que é recarregar a página)\r\n         e.preventDefault();\r\n-\r\n-        // --- Seleção dos Elementos do DOM ---\r\n-        const contactForm = document.getElementById('contactForm');\r\n         const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n         const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-        \r\n-        // --- Configuração do Estado de Carregamento ---\r\n         contactSubmitBtn.disabled = true;\r\n         contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n         contactFormFeedback.textContent = '';\r\n-\r\n-        // --- Coleta dos Dados do Formulário ---\r\n         const payload = {\r\n             name: document.getElementById('contactName').value,\r\n             email: document.getElementById('contactEmail').value,\r\n             subject: document.getElementById('contactSubject').value,\r\n             message: document.getElementById('contactMessage').value,\r\n         };\r\n-\r\n-        // --- Lógica Principal (Chamada à API) ---\r\n         try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/contact/send`, {\r\n-                method: 'POST',\r\n-                headers: { 'Content-Type': 'application/json' },\r\n-                body: JSON.stringify(payload),\r\n-            });\r\n-\r\n+            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n             const result = await response.json();\r\n-\r\n-            if (!response.ok) {\r\n-                // Se a resposta da API não for um sucesso, lança um erro\r\n-                throw new Error(result.message || 'Ocorreu um erro ao enviar a mensagem.');\r\n-            }\r\n-\r\n-            // --- Em caso de SUCESSO ---\r\n+            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n             contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n             contactFormFeedback.textContent = result.message;\r\n-            contactForm.reset(); // Limpa o formulário\r\n-\r\n+            document.getElementById('contactForm').reset();\r\n         } catch (error) {\r\n-            // --- Em caso de ERRO ---\r\n             contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n             contactFormFeedback.textContent = error.message;\r\n-\r\n         } finally {\r\n-            // --- Executa no final, independentemente de sucesso ou erro ---\r\n             contactSubmitBtn.disabled = false;\r\n             contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n         }\r\n     }\r\n-\r\n-    // Para a função de acesso de admin funcionar, ela precisa ser acessível\r\n-    window.activateAdminLogin = function() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-\r\n-        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            mainCnpjInput.removeAttribute('required');\r\n-            document.getElementById('mainLoginForm').dataset.isAdmin = \"true\";\r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-        }\r\n-    };\r\n-\r\n });\r\n-\r\n </script>\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753143568504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -526,10 +526,9 @@\n \r\n     const API_BASE_URL = 'http://localhost:5000';\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS DE UI\r\n-    // (Estas funções são declaradas primeiro para estarem disponíveis para todo o script)\r\n+    // SEÇÃO 1: FUNÇÕES GLOBAIS\r\n     // =================================================================================\r\n \r\n     function updateUIForLoggedInUser(user) {\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n@@ -574,18 +573,17 @@\n     // =================================================================================\r\n     // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n     // =================================================================================\r\n     \r\n+    setupGeneralEventListeners(true); // Configura eventos gerais que funcionam logado ou não\r\n     const token = localStorage.getItem('authToken');\r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n                 updateUIForLoggedInUser(data.user);\r\n-                // Configura apenas os eventos gerais se o usuário estiver logado\r\n-                setupGeneralEventListeners(true); \r\n-                return; // Para a execução\r\n+                return; \r\n             } else {\r\n                 localStorage.removeItem('authToken');\r\n             }\r\n         } catch (error) {\r\n@@ -596,60 +594,21 @@\n     // =================================================================================\r\n     // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n     // =================================================================================\r\n     \r\n-    // Configura todos os eventos, incluindo os de formulários\r\n-    setupGeneralEventListeners(false);\r\n+    // Variáveis para as instâncias das máscaras, declaradas em um escopo acessível\r\n+    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n-    // (Todas as funções agora estão DENTRO do DOMContentLoaded)\r\n-    // =================================================================================\r\n-    \r\n-    function setupGeneralEventListeners(isLoggedIn) {\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n-\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-        }\r\n-        \r\n-        // Só configura o acesso de admin se o usuário NÃO estiver logado\r\n-        if (!isLoggedIn) {\r\n-            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-            if (logoElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                logoElement.addEventListener('click', (e) => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        e.preventDefault();\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            activateAdminLogin();\r\n-                            clickCount = 0;\r\n-                            clearTimeout(clickTimer);\r\n-                        }\r\n-                    }\r\n-                });\r\n-            }\r\n-        }\r\n-    }\r\n-    \r\n-    // --- Lógica de inicialização dos formulários (só se não estiver logado) ---\r\n+    // --- Lógica do formulário de Login ---\r\n     const mainLoginForm = document.getElementById('mainLoginForm');\r\n     if (mainLoginForm) {\r\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n \r\n-        const cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        // Atribui a instância à variável do escopo superior\r\n+        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n         \r\n         cnpjMask.on('accept', () => {\r\n             document.getElementById('mainLoginFormFeedback').textContent = '';\r\n             signUpBtn.classList.add('hidden');\r\n@@ -659,8 +618,9 @@\n         backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n         mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n     }\r\n     \r\n+    // --- Lógica do Modal de Cadastro ---\r\n     const registerModal = document.getElementById('registerModal');\r\n     if (registerModal) {\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n@@ -669,14 +629,14 @@\n         const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n         const registerCnpjInput = document.getElementById('registerCnpj');\r\n         const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n \r\n-        const registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+        // Atribui as instâncias às variáveis do escopo superior\r\n+        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n \r\n         signUpBtn.addEventListener('click', () => {\r\n-            const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n-            if (mainCnpjMask) { registerCnpjMask.value = mainCnpjMask.value; }\r\n+            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n             registerModal.classList.remove('hidden');\r\n         });\r\n         \r\n         closeRegisterModalBtn.addEventListener('click', () => {\r\n@@ -702,10 +662,46 @@\n \r\n         registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n     }\r\n     \r\n-    // --- Funções de Handler ---\r\n+    // =================================================================================\r\n+    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n+    // =================================================================================\r\n+    \r\n+    function setupGeneralEventListeners(isLoggedIn = false) {\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n \r\n+        const contactForm = document.getElementById('contactForm');\r\n+        if (contactForm) {\r\n+            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n+        }\r\n+        \r\n+        if (!isLoggedIn) {\r\n+            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+            if (logoElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                logoElement.addEventListener('click', (e) => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        e.preventDefault();\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            activateAdminLogin();\r\n+                            clickCount = 0;\r\n+                            clearTimeout(clickTimer);\r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+        }\r\n+    }\r\n+    \r\n     function activateAdminLogin() {\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n@@ -721,9 +717,8 @@\n \r\n     function handleBackToStep1Click() {\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n-        const cnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n         loginStep2.classList.add('hidden');\r\n         if(cnpjMask) cnpjMask.value = '';\r\n         loginStep1.classList.remove('hidden');\r\n         document.getElementById('mainLoginFormFeedback').textContent = '';\r\n@@ -738,16 +733,18 @@\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const cnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n-\r\n+        \r\n         mainLoginFormFeedback.textContent = '';\r\n         signUpBtn.classList.add('hidden');\r\n+        \r\n+        // CORREÇÃO: Usa a variável 'cnpjMask' que está acessível neste escopo\r\n         if (cnpjMask.unmaskedValue.length !== 14) {\r\n             mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n             return;\r\n         }\r\n+\r\n         nextStepBtn.disabled = true;\r\n         nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n@@ -769,22 +766,21 @@\n     \r\n     async function handleLoginFormSubmit(e) {\r\n         e.preventDefault();\r\n         const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n         const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n         mainLoginSubmitBtn.disabled = true;\r\n         mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n         clearLoginErrors();\r\n         const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n-        const cnpjMask = IMask.instances.find(mask => mask.el.input === mainCnpjInput);\r\n-        const endpoint = isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct';\r\n+\r\n+        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n         const payload = isAdminLoginMode ? \r\n             { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n             { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n         try {\r\n-            const response = await fetch(API_BASE_URL + endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n             const result = await response.json();\r\n             if (!response.ok) { \r\n                 const error = new Error(result.message || 'Erro de validação.');\r\n                 error.details = result.errors;\r\n@@ -814,18 +810,17 @@\n         const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n         if (password !== confirmPassword) {\r\n             document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n             return;\r\n-        } else {\r\n-            document.getElementById('passwordConfirmError').textContent = '';\r\n         }\r\n+        document.getElementById('passwordConfirmError').textContent = '';\r\n         const submitBtn = document.getElementById('submitRegistrationBtn');\r\n         submitBtn.disabled = true;\r\n         submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n         const registrationFeedback = document.getElementById('registrationFeedback');\r\n         registrationFeedback.textContent = '';\r\n-        const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n-        const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n+        \r\n+        // CORREÇÃO: Usa as variáveis 'registerCnpjMask' e 'registerWhatsappMask'\r\n         const payload = {\r\n             cnpj: registerCnpjMask.unmaskedValue,\r\n             nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n             email: document.getElementById('registerEmail').value,\r\n@@ -841,11 +836,10 @@\n             registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n             registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando...';\r\n             setTimeout(() => {\r\n                 document.getElementById('closeRegisterModalBtn').click();\r\n-                const mainCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('mainCnpjInput'));\r\n-                if (mainCnpjMask) {\r\n-                    mainCnpjMask.value = payload.cnpj;\r\n+                if (cnpjMask) {\r\n+                    cnpjMask.value = payload.cnpj;\r\n                     document.getElementById('mainCnpjInput').focus();\r\n                 }\r\n             }, 3000);\r\n         } catch (error) {\r\n"
                },
                {
                    "date": 1753143934076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -645,14 +645,33 @@\n         });\r\n \r\n         goToRegisterStep2Btn.addEventListener('click', () => {\r\n             const registrationFeedback = document.getElementById('registrationFeedback');\r\n-            registrationFeedback.textContent = '';\r\n-            if (registerCnpjMask.unmaskedValue.length === 14 && document.getElementById('registerCompanyName').value) {\r\n+            registrationFeedback.textContent = ''; // Limpa o feedback anterior\r\n+\r\n+            // --- Coleta dos valores dos campos para validação ---\r\n+            const companyName = document.getElementById('registerCompanyName').value;\r\n+            const companyEmail = document.getElementById('registerEmail').value;\r\n+            \r\n+            // Acessa as instâncias das máscaras que já foram criadas\r\n+            const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n+            const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n+\r\n+            // --- Nova Lógica de Validação ---\r\n+            // Agora verificamos todos os campos da Etapa 1\r\n+            if (\r\n+                registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 &&\r\n+                companyName.trim() !== '' &&\r\n+                companyEmail.trim() !== '' &&\r\n+                registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10 // Verifica se o WhatsApp foi preenchido\r\n+            ) {\r\n+                // Se todos os campos estiverem válidos, avança para a próxima etapa\r\n                 document.getElementById('register-step-1').classList.add('hidden');\r\n                 document.getElementById('register-step-2').classList.remove('hidden');\r\n             } else {\r\n+                // Se algum campo estiver inválido, exibe a mensagem de erro e não avança\r\n                 registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+                registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n             }\r\n         });\r\n \r\n         backToRegisterStep1Btn.addEventListener('click', () => {\r\n"
                },
                {
                    "date": 1753144261239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -561,21 +561,13 @@\n             });\r\n         });\r\n     }\r\n \r\n-    function clearLoginErrors() {\r\n-        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-        fields.forEach(id => {\r\n-            const el = document.getElementById(id);\r\n-            if (el) el.textContent = '';\r\n-        });\r\n-    }\r\n-\r\n     // =================================================================================\r\n     // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n     // =================================================================================\r\n     \r\n-    setupGeneralEventListeners(true); // Configura eventos gerais que funcionam logado ou não\r\n+    setupGeneralEventListeners(true); \r\n     const token = localStorage.getItem('authToken');\r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n@@ -604,10 +596,9 @@\n         const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-\r\n-        // Atribui a instância à variável do escopo superior\r\n+        \r\n         cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n         \r\n         cnpjMask.on('accept', () => {\r\n             document.getElementById('mainLoginFormFeedback').textContent = '';\r\n@@ -629,9 +620,8 @@\n         const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n         const registerCnpjInput = document.getElementById('registerCnpj');\r\n         const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n \r\n-        // Atribui as instâncias às variáveis do escopo superior\r\n         registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n         registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n \r\n         signUpBtn.addEventListener('click', () => {\r\n@@ -643,38 +633,10 @@\n             registerModal.classList.add('hidden');\r\n             registerForm.reset();\r\n         });\r\n \r\n-        goToRegisterStep2Btn.addEventListener('click', () => {\r\n-            const registrationFeedback = document.getElementById('registrationFeedback');\r\n-            registrationFeedback.textContent = ''; // Limpa o feedback anterior\r\n+        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n \r\n-            // --- Coleta dos valores dos campos para validação ---\r\n-            const companyName = document.getElementById('registerCompanyName').value;\r\n-            const companyEmail = document.getElementById('registerEmail').value;\r\n-            \r\n-            // Acessa as instâncias das máscaras que já foram criadas\r\n-            const registerCnpjMask = IMask.instances.find(m => m.el.input === document.getElementById('registerCnpj'));\r\n-            const registerWhatsappMask = IMask.instances.find(m => m.el.input === document.getElementById('registerWhatsapp'));\r\n-\r\n-            // --- Nova Lógica de Validação ---\r\n-            // Agora verificamos todos os campos da Etapa 1\r\n-            if (\r\n-                registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 &&\r\n-                companyName.trim() !== '' &&\r\n-                companyEmail.trim() !== '' &&\r\n-                registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10 // Verifica se o WhatsApp foi preenchido\r\n-            ) {\r\n-                // Se todos os campos estiverem válidos, avança para a próxima etapa\r\n-                document.getElementById('register-step-1').classList.add('hidden');\r\n-                document.getElementById('register-step-2').classList.remove('hidden');\r\n-            } else {\r\n-                // Se algum campo estiver inválido, exibe a mensagem de erro e não avança\r\n-                registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-                registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-            }\r\n-        });\r\n-\r\n         backToRegisterStep1Btn.addEventListener('click', () => {\r\n             document.getElementById('register-step-2').classList.add('hidden');\r\n             document.getElementById('register-step-1').classList.remove('hidden');\r\n         });\r\n@@ -751,16 +713,14 @@\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const nextStepBtn = document.getElementById('nextStepBtn');\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n         \r\n         mainLoginFormFeedback.textContent = '';\r\n         signUpBtn.classList.add('hidden');\r\n         \r\n-        // CORREÇÃO: Usa a variável 'cnpjMask' que está acessível neste escopo\r\n         if (cnpjMask.unmaskedValue.length !== 14) {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo (14 dígitos).';\r\n+            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n             return;\r\n         }\r\n \r\n         nextStepBtn.disabled = true;\r\n@@ -770,9 +730,8 @@\n             const result = await response.json();\r\n             if (!response.ok) { throw new Error(result.message); }\r\n             loginStep1.classList.add('hidden');\r\n             loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n         } catch (error) {\r\n             mainLoginFormFeedback.textContent = error.message;\r\n             if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n                 signUpBtn.classList.remove('hidden');\r\n@@ -781,8 +740,22 @@\n             nextStepBtn.disabled = false;\r\n             nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n         }\r\n     }\r\n+\r\n+    function handleGoToRegisterStep2() {\r\n+        const registrationFeedback = document.getElementById('registrationFeedback');\r\n+        registrationFeedback.textContent = '';\r\n+        const companyName = document.getElementById('registerCompanyName').value;\r\n+        const companyEmail = document.getElementById('registerEmail').value;\r\n+\r\n+        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n+            document.getElementById('register-step-1').classList.add('hidden');\r\n+            document.getElementById('register-step-2').classList.remove('hidden');\r\n+        } else {\r\n+            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+        }\r\n+    }\r\n     \r\n     async function handleLoginFormSubmit(e) {\r\n         e.preventDefault();\r\n         const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n"
                },
                {
                    "date": 1753144431655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -523,8 +523,18 @@\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script>\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n+    function clearLoginErrors() {\r\n+        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+        fields.forEach(id => {\r\n+            const el = document.getElementById(id);\r\n+            if (el) {\r\n+                el.textContent = '';\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n     const API_BASE_URL = 'http://localhost:5000';\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS\r\n"
                },
                {
                    "date": 1753144872944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -657,8 +657,12 @@\n     // =================================================================================\r\n     // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n     // =================================================================================\r\n     \r\n+    /**\r\n+     * Configura os eventos gerais da página, como o menu mobile e o acesso de admin.\r\n+     * @param {boolean} isLoggedIn - Informa se o usuário já está autenticado.\r\n+     */\r\n     function setupGeneralEventListeners(isLoggedIn = false) {\r\n         const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n         const mobileMenu = document.getElementById('mobile-menu');\r\n         if (mobileMenuButton) {\r\n@@ -669,19 +673,26 @@\n         if (contactForm) {\r\n             contactForm.addEventListener('submit', handleContactFormSubmit);\r\n         }\r\n         \r\n+        // SÓ CONFIGURA O ACESSO DE ADMIN SE O USUÁRIO NÃO ESTIVER LOGADO\r\n         if (!isLoggedIn) {\r\n             const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n             if (logoElement) {\r\n                 let clickCount = 0;\r\n                 let clickTimer = null;\r\n+                \r\n                 logoElement.addEventListener('click', (e) => {\r\n+                    // Só ativa se o formulário de login estiver na página\r\n                     if (document.getElementById('mainLoginForm')) {\r\n                         e.preventDefault();\r\n                         clickCount++;\r\n+\r\n+                        // Reinicia a contagem se o usuário demorar mais de 2 segundos entre os cliques\r\n                         clearTimeout(clickTimer);\r\n                         clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+\r\n+                        // Se atingir 7 cliques, ativa o modo admin\r\n                         if (clickCount === 7) {\r\n                             activateAdminLogin();\r\n                             clickCount = 0;\r\n                             clearTimeout(clickTimer);\r\n@@ -695,11 +706,16 @@\n     function activateAdminLogin() {\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainLoginForm = document.getElementById('mainLoginForm');\r\n+        \r\n         if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n             document.getElementById('mainCnpjInput').removeAttribute('required');\r\n+            \r\n+            // Marca no formulário que o modo admin está ativo\r\n             mainLoginForm.dataset.isAdmin = \"true\";\r\n+            \r\n             loginStep1.classList.add('hidden');\r\n             mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n             loginStep2.classList.remove('hidden');\r\n             mainUsernameInput.focus();\r\n"
                },
                {
                    "date": 1753145239282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -523,22 +523,12 @@\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script>\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n-    function clearLoginErrors() {\r\n-        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-        fields.forEach(id => {\r\n-            const el = document.getElementById(id);\r\n-            if (el) {\r\n-                el.textContent = '';\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n     const API_BASE_URL = 'http://localhost:5000';\r\n \r\n     // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS\r\n+    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n     // =================================================================================\r\n \r\n     function updateUIForLoggedInUser(user) {\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n@@ -571,20 +561,29 @@\n             });\r\n         });\r\n     }\r\n \r\n+    function clearLoginErrors() {\r\n+        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+        fields.forEach(id => {\r\n+            const el = document.getElementById(id);\r\n+            if (el) el.textContent = '';\r\n+        });\r\n+    }\r\n+\r\n     // =================================================================================\r\n     // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n     // =================================================================================\r\n     \r\n-    setupGeneralEventListeners(true); \r\n     const token = localStorage.getItem('authToken');\r\n     if (token) {\r\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n                 updateUIForLoggedInUser(data.user);\r\n+                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n+                setupGeneralEventListeners(true); \r\n                 return; \r\n             } else {\r\n                 localStorage.removeItem('authToken');\r\n             }\r\n@@ -596,9 +595,12 @@\n     // =================================================================================\r\n     // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n     // =================================================================================\r\n     \r\n-    // Variáveis para as instâncias das máscaras, declaradas em um escopo acessível\r\n+    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n+    setupGeneralEventListeners(false);\r\n+\r\n+    // Variáveis para as instâncias das máscaras\r\n     let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n \r\n     // --- Lógica do formulário de Login ---\r\n     const mainLoginForm = document.getElementById('mainLoginForm');\r\n@@ -657,12 +659,8 @@\n     // =================================================================================\r\n     // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n     // =================================================================================\r\n     \r\n-    /**\r\n-     * Configura os eventos gerais da página, como o menu mobile e o acesso de admin.\r\n-     * @param {boolean} isLoggedIn - Informa se o usuário já está autenticado.\r\n-     */\r\n     function setupGeneralEventListeners(isLoggedIn = false) {\r\n         const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n         const mobileMenu = document.getElementById('mobile-menu');\r\n         if (mobileMenuButton) {\r\n@@ -673,26 +671,20 @@\n         if (contactForm) {\r\n             contactForm.addEventListener('submit', handleContactFormSubmit);\r\n         }\r\n         \r\n-        // SÓ CONFIGURA O ACESSO DE ADMIN SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n         if (!isLoggedIn) {\r\n             const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n             if (logoElement) {\r\n                 let clickCount = 0;\r\n                 let clickTimer = null;\r\n-                \r\n                 logoElement.addEventListener('click', (e) => {\r\n-                    // Só ativa se o formulário de login estiver na página\r\n                     if (document.getElementById('mainLoginForm')) {\r\n                         e.preventDefault();\r\n                         clickCount++;\r\n-\r\n-                        // Reinicia a contagem se o usuário demorar mais de 2 segundos entre os cliques\r\n                         clearTimeout(clickTimer);\r\n                         clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-\r\n-                        // Se atingir 7 cliques, ativa o modo admin\r\n                         if (clickCount === 7) {\r\n                             activateAdminLogin();\r\n                             clickCount = 0;\r\n                             clearTimeout(clickTimer);\r\n@@ -706,16 +698,11 @@\n     function activateAdminLogin() {\r\n         const loginStep1 = document.getElementById('login-step-1');\r\n         const loginStep2 = document.getElementById('login-step-2');\r\n         const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainLoginForm = document.getElementById('mainLoginForm');\r\n-        \r\n         if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n             document.getElementById('mainCnpjInput').removeAttribute('required');\r\n-            \r\n-            // Marca no formulário que o modo admin está ativo\r\n             mainLoginForm.dataset.isAdmin = \"true\";\r\n-            \r\n             loginStep1.classList.add('hidden');\r\n             mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n             loginStep2.classList.remove('hidden');\r\n             mainUsernameInput.focus();\r\n@@ -743,9 +730,9 @@\n         \r\n         mainLoginFormFeedback.textContent = '';\r\n         signUpBtn.classList.add('hidden');\r\n         \r\n-        if (cnpjMask.unmaskedValue.length !== 14) {\r\n+        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n             mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n             return;\r\n         }\r\n \r\n@@ -766,9 +753,9 @@\n             nextStepBtn.disabled = false;\r\n             nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n         }\r\n     }\r\n-\r\n+    \r\n     function handleGoToRegisterStep2() {\r\n         const registrationFeedback = document.getElementById('registrationFeedback');\r\n         registrationFeedback.textContent = '';\r\n         const companyName = document.getElementById('registerCompanyName').value;\r\n"
                },
                {
                    "date": 1753546805933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -834,9 +834,9 @@\n             ownerEmail: document.getElementById('ownerEmail').value,\r\n             password: password,\r\n         };\r\n         try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/companies/register`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n             const result = await response.json();\r\n             if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n             registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n             registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando...';\r\n"
                },
                {
                    "date": 1753547504162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -817,15 +817,16 @@\n             document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n             return;\r\n         }\r\n         document.getElementById('passwordConfirmError').textContent = '';\r\n+\r\n         const submitBtn = document.getElementById('submitRegistrationBtn');\r\n         submitBtn.disabled = true;\r\n         submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+\r\n         const registrationFeedback = document.getElementById('registrationFeedback');\r\n         registrationFeedback.textContent = '';\r\n-        \r\n-        // CORREÇÃO: Usa as variáveis 'registerCnpjMask' e 'registerWhatsappMask'\r\n+\r\n         const payload = {\r\n             cnpj: registerCnpjMask.unmaskedValue,\r\n             nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n             email: document.getElementById('registerEmail').value,\r\n@@ -833,14 +834,24 @@\n             username: document.getElementById('ownerUsername').value,\r\n             ownerEmail: document.getElementById('ownerEmail').value,\r\n             password: password,\r\n         };\r\n+\r\n         try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n+            // A URL agora aponta para a nova rota pública em auth.js\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n+                method: 'POST', \r\n+                headers: { 'Content-Type': 'application/json' }, \r\n+                body: JSON.stringify(payload) \r\n+            });\r\n+\r\n             const result = await response.json();\r\n             if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+\r\n             registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Redirecionando...';\r\n+            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n+\r\n             setTimeout(() => {\r\n                 document.getElementById('closeRegisterModalBtn').click();\r\n                 if (cnpjMask) {\r\n                     cnpjMask.value = payload.cnpj;\r\n"
                },
                {
                    "date": 1753733246552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -896,6 +896,32 @@\n         }\r\n     }\r\n });\r\n </script>\r\n+\r\n+<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n+        \r\n+        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+            <i class=\"fas fa-times fa-lg\"></i>\r\n+        </button>\r\n+\r\n+        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n+        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n+            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n+        </p>\r\n+\r\n+        <form id=\"forgotPasswordForm\">\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n+                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n+            </div>\r\n+            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n+            </button>\r\n+        </form>\r\n+        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+    </div>\r\n+</div>\r\n+\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753733276775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -267,9 +267,9 @@\n                                         Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                     </button>\r\n                                     <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                     <div class=\"text-center mt-4\">\r\n-                                        <a href=\"OrgBoletos.html?action=forgot_password\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</a>\r\n+                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n                                     </div>    \r\n                                 </div>\r\n                             </form>\r\n                             <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n"
                },
                {
                    "date": 1753733320402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -622,8 +622,66 @@\n         mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n     }\r\n     \r\n     // --- Lógica do Modal de Cadastro ---\r\n+\r\n+    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n+    if (forgotPasswordModal) {\r\n+        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n+        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n+        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n+        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n+        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+\r\n+        // Abre o modal ao clicar no botão\r\n+        forgotPasswordBtn.addEventListener('click', () => {\r\n+            forgotPasswordModal.classList.remove('hidden');\r\n+            document.getElementById('recoveryEmailInput').focus();\r\n+        });\r\n+\r\n+        // Fecha o modal\r\n+        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n+            forgotPasswordModal.classList.add('hidden');\r\n+        });\r\n+\r\n+        // Lida com o envio do formulário\r\n+        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n+            e.preventDefault();\r\n+            const email = document.getElementById('recoveryEmailInput').value;\r\n+            \r\n+            recoverySubmitBtn.disabled = true;\r\n+            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n+            recoveryFormFeedback.textContent = '';\r\n+\r\n+            try {\r\n+                // Chama a rota do backend que já criámos\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify({ email })\r\n+                });\r\n+\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message); }\r\n+\r\n+                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                recoveryFormFeedback.textContent = result.message;\r\n+\r\n+                // Fecha o modal após alguns segundos\r\n+                setTimeout(() => {\r\n+                    forgotPasswordModal.classList.add('hidden');\r\n+                }, 4000);\r\n+\r\n+            } catch (error) {\r\n+                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                recoveryFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                recoverySubmitBtn.disabled = false;\r\n+                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n     const registerModal = document.getElementById('registerModal');\r\n     if (registerModal) {\r\n         const signUpBtn = document.getElementById('signUpBtn');\r\n         const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n"
                },
                {
                    "date": 1754317133252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,985 @@\n+<!DOCTYPE html>\r\n+<html lang=\"pt-BR\">\r\n+<head>\r\n+    <meta charset=\"UTF-8\">\r\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n+    <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+    <script type=\"module\"></script>\r\n+    <style>\r\n+        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n+        \r\n+        body {\r\n+            font-family: 'Poppins', sans-serif;\r\n+            background-color: #0f172a;\r\n+            color: #e2e8f0;\r\n+        }\r\n+        \r\n+        .hero-gradient {\r\n+            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n+        }\r\n+        \r\n+        .service-card:hover {\r\n+            transform: translateY(-5px);\r\n+            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n+        }\r\n+        \r\n+        .wolf-logo {\r\n+            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n+        }\r\n+        \r\n+        .login-form {\r\n+            backdrop-filter: blur(10px);\r\n+            background: rgba(15, 23, 42, 0.8);\r\n+            border: 1px solid rgba(99, 102, 241, 0.3);\r\n+        }\r\n+        \r\n+        .nav-link {\r\n+            position: relative;\r\n+        }\r\n+        \r\n+        .nav-link::after {\r\n+            content: '';\r\n+            position: absolute;\r\n+            width: 0;\r\n+            height: 2px;\r\n+            bottom: -2px;\r\n+            left: 0;\r\n+            background-color: #6366f1;\r\n+            transition: width 0.3s ease;\r\n+        }\r\n+        \r\n+        .nav-link:hover::after {\r\n+            width: 100%;\r\n+        }\r\n+        \r\n+        .animated-wolf {\r\n+            animation: float 6s ease-in-out infinite;\r\n+        }\r\n+        \r\n+        @keyframes float {\r\n+            0% { transform: translateY(0px); }\r\n+            50% { transform: translateY(-15px); }\r\n+            100% { transform: translateY(0px); }\r\n+        }\r\n+    </style>\r\n+</head>\r\n+<body>\r\n+    <!-- Navbar -->\r\n+    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n+        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n+            <div class=\"flex items-center justify-between h-20\">\r\n+                <div class=\"flex items-center\">\r\n+                <div class=\"flex-shrink-0\">\r\n+                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n+                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                    </a>\r\n+                </div>\r\n+                </div>\r\n+                <div class=\"hidden md:block\">\r\n+                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n+                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n+                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n+                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n+                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"-mr-2 flex md:hidden\">\r\n+                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n+                        <span class=\"sr-only\">Abrir menu</span>\r\n+                        <i class=\"fas fa-bars\"></i>\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+        \r\n+        <!-- Mobile menu -->\r\n+        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n+            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n+                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n+                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n+                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n+                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n+            </div>\r\n+        </div>\r\n+    </nav>\r\n+\r\n+    <!-- Hero Section -->\r\n+    <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"lg:grid lg:grid-cols-2 lg:gap-12 items-center\">\r\n+                <div class=\"mb-12 lg:mb-0\">\r\n+                    <h1 class=\"text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n+                        Soluções em TI com a <span class=\"text-indigo-500\">força</span> de uma alcateia\r\n+                    </h1>\r\n+                    <p class=\"text-lg text-gray-300 mb-8\">\r\n+                        Nós da LobosTI oferecemos serviços especializados em tecnologia da informação para impulsionar seu negócio ao próximo nível.\r\n+                    </p>\r\n+                    <div class=\"flex flex-wrap gap-4\">\r\n+                        <a href=\"#servicos\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n+                            Nossos Serviços <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                        </a>\r\n+                        <a href=\"#contato\" class=\"border border-indigo-500 text-indigo-400 hover:bg-indigo-900 hover:bg-opacity-30 font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n+                            Fale Conosco\r\n+                        </a>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"relative\">\r\n+                    <div class=\"animated-wolf\">\r\n+                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n+                    </div>\r\n+                    <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n+                    <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n+\r\n+    <!-- Serviços Section -->\r\n+    <section id=\"servicos\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"text-center mb-16\">\r\n+                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Nossos <span class=\"text-indigo-500\">Serviços</span></h2>\r\n+                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n+                    Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n+                </p>\r\n+            </div>\r\n+            \r\n+            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n+                <!-- Serviço 1: Organizador de Boletos -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n+                    </p>\r\n+                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <!-- Serviço 2 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <!-- Serviço 3 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <!-- Serviço 4 -->\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n+                    </p>\r\n+                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n+\r\n+    <!-- Login Section -->\r\n+    <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"flex flex-col lg:flex-row items-center justify-between\">\r\n+                <div class=\"lg:w-1/2 mb-12 lg:mb-0\">\r\n+                    <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-6\">\r\n+                        Acesse sua <span class=\"text-indigo-500\">conta</span>\r\n+                    </h2>\r\n+                    <p class=\"text-lg text-gray-400 mb-8 max-w-lg\">\r\n+                        Faça login para acessar nossos serviços exclusivos e gerenciar sua infraestrutura de TI de forma centralizada.\r\n+                    </p>\r\n+                    <div class=\"flex items-center space-x-4\">\r\n+                        <div class=\"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center\">\r\n+                            <i class=\"fas fa-lock text-indigo-500 text-xl\"></i>\r\n+                        </div>\r\n+                        <div>\r\n+                            <h4 class=\"text-white font-medium\">Segurança garantida</h4>\r\n+                            <p class=\"text-gray-400 text-sm\">Autenticação de dois fatores disponível</p>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+                \r\n+                <div class=\"lg:w-1/2 max-w-md w-full\">\r\n+                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n+                            <form id=\"mainLoginForm\">\r\n+                                <div id=\"login-step-1\">\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n+                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                    </div>\r\n+                                    <div class=\"space-y-4\">\r\n+                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                        </button>\r\n+                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n+                                            Cadastre-se\r\n+                                        </button>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n+                                <div id=\"login-step-2\" class=\"hidden\">\r\n+                                    <div class=\"mb-4\">\r\n+                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n+                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n+                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                    </div>\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n+                                        <div class=\"relative\">\r\n+                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n+                                                <i class=\"fas fa-eye\"></i>\r\n+                                            </button>\r\n+                                        </div>\r\n+                                    </div>\r\n+                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n+                                    <div class=\"text-center mt-4\">\r\n+                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n+                                    </div>    \r\n+                                </div>\r\n+                            </form>\r\n+                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n+\r\n+    <!-- Contato Section -->\r\n+    <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"text-center mb-16\">\r\n+                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Entre em <span class=\"text-indigo-500\">Contato</span></h2>\r\n+                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n+                    Pronto para transformar sua infraestrutura de TI? Nossa equipe está aqui para ajudar.\r\n+                </p>\r\n+            </div>\r\n+            \r\n+            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n+                <div>\r\n+                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n+                        <h3 class=\"text-xl font-semibold text-white mb-6\">Informações de Contato</h3>\r\n+                        \r\n+                        <div class=\"space-y-6\">\r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">Endereço</h4>\r\n+                                    <p class=\"text-gray-400\">Loja Online</p>\r\n+                                </div>\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">Telefone</h4>\r\n+                                    <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n+                                </div>\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"flex items-start\">\r\n+                                <div class=\"flex-shrink-0\">\r\n+                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <div class=\"ml-4\">\r\n+                                    <h4 class=\"text-white font-medium\">E-mail</h4>\r\n+                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n+                                </div>\r\n+                            </div>\r\n+                        </div>\r\n+                        \r\n+                        <div class=\"mt-8\">\r\n+                            <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n+                            <div class=\"flex space-x-4\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-facebook-f text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-twitter text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-instagram text-white\"></i>\r\n+                                </a>\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                    <i class=\"fab fa-linkedin-in text-white\"></i>\r\n+                                </a>\r\n+                            </div>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n+                        <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n+                        \r\n+                        <form id=\"contactForm\">\r\n+                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n+                                <div>\r\n+                                    <label for=\"contactName\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n+                                    <input type=\"text\" id=\"contactName\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"contactEmail\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n+                                    <input type=\"email\" id=\"contactEmail\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n+                                </div>\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"contactSubject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n+                                <input type=\"text\" id=\"contactSubject\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n+                            </div>\r\n+                            \r\n+                            <div class=\"mb-6\">\r\n+                                <label for=\"contactMessage\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n+                                <textarea id=\"contactMessage\" rows=\"4\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n+                            </div>\r\n+                            \r\n+                            <button type=\"submit\" id=\"contactSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n+                            </button>\r\n+                        </form>\r\n+                        <div id=\"contactFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </section>\r\n+\r\n+    <!-- Footer -->\r\n+    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n+        <div class=\"max-w-7xl mx-auto\">\r\n+            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n+                <div>\r\n+                    <div class=\"flex items-center logo mb-4\">\r\n+                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n+                    </div>\r\n+                    <p class=\"text-gray-400 text-sm\">\r\n+                        Soluções em tecnologia da informação com excelência e inovação.\r\n+                    </p>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n+                    <ul class=\"space-y-2\">\r\n+                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n+                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n+                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n+                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n+                    </ul>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n+                    <ul class=\"space-y-2\">\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n+                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n+                    </ul>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n+                    <p class=\"text-gray-400 text-sm mb-4\">\r\n+                        Assine nossa newsletter para receber atualizações e novidades.\r\n+                    </p>\r\n+                    <form class=\"flex\">\r\n+                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n+                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n+                            <i class=\"fas fa-paper-plane\"></i>\r\n+                        </button>\r\n+                    </form>\r\n+                </div>\r\n+            </div>\r\n+            \r\n+            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n+                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n+                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n+                </p>\r\n+                <div class=\"flex space-x-6\">\r\n+                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n+                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </footer>\r\n+\r\n+    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n+            \r\n+            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+                <i class=\"fas fa-times fa-lg\"></i>\r\n+            </button>\r\n+\r\n+            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n+\r\n+            <form id=\"registerForm\">\r\n+                <div id=\"register-step-1\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n+                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n+                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n+                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                    </div>\r\n+                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div id=\"register-step-2\" class=\"hidden\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n+                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n+                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n+                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"flex items-center gap-4 mt-6\">\r\n+                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n+                        </button>\r\n+                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                </div>\r\n+                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+<script src=\"https://unpkg.com/imask\"></script>\r\n+<script>\r\n+document.addEventListener('DOMContentLoaded', async () => {\r\n+    import { API_BASE_URL } from './config.js';\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n+    // =================================================================================\r\n+\r\n+    function updateUIForLoggedInUser(user) {\r\n+        const desktopMenu = document.getElementById('desktop-menu-items');\r\n+        const navLoginLink = document.getElementById('nav-login-link');\r\n+        const loginSectionContent = document.getElementById('login-section-content');\r\n+        \r\n+        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+            navLoginLink.textContent = 'Acessar Painel';\r\n+            navLoginLink.href = 'OrgBoletos.html';\r\n+            const logoutButton = document.createElement('button');\r\n+            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+            logoutButton.textContent = 'Sair';\r\n+            desktopMenu.appendChild(logoutButton);\r\n+        }\r\n+\r\n+        if (loginSectionContent) {\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>`;\r\n+        }\r\n+        \r\n+        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n+            btn.addEventListener('click', () => {\r\n+                localStorage.removeItem('authToken');\r\n+                window.location.reload();\r\n+            });\r\n+        });\r\n+    }\r\n+\r\n+    function clearLoginErrors() {\r\n+        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+        fields.forEach(id => {\r\n+            const el = document.getElementById(id);\r\n+            if (el) el.textContent = '';\r\n+        });\r\n+    }\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n+    // =================================================================================\r\n+    \r\n+    const token = localStorage.getItem('authToken');\r\n+    if (token) {\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+            if (response.ok) {\r\n+                const data = await response.json();\r\n+                updateUIForLoggedInUser(data.user);\r\n+                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n+                setupGeneralEventListeners(true); \r\n+                return; \r\n+            } else {\r\n+                localStorage.removeItem('authToken');\r\n+            }\r\n+        } catch (error) {\r\n+            console.error(\"Erro ao verificar sessão:\", error);\r\n+        }\r\n+    }\r\n+\r\n+    // =================================================================================\r\n+    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+    // =================================================================================\r\n+    \r\n+    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n+    setupGeneralEventListeners(false);\r\n+\r\n+    // Variáveis para as instâncias das máscaras\r\n+    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n+\r\n+    // --- Lógica do formulário de Login ---\r\n+    const mainLoginForm = document.getElementById('mainLoginForm');\r\n+    if (mainLoginForm) {\r\n+        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+        const nextStepBtn = document.getElementById('nextStepBtn');\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n+        \r\n+        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        \r\n+        cnpjMask.on('accept', () => {\r\n+            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+            signUpBtn.classList.add('hidden');\r\n+        });\r\n+\r\n+        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n+        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n+        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n+    }\r\n+    \r\n+    // --- Lógica do Modal de Cadastro ---\r\n+\r\n+    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n+    if (forgotPasswordModal) {\r\n+        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n+        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n+        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n+        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n+        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+\r\n+        // Abre o modal ao clicar no botão\r\n+        forgotPasswordBtn.addEventListener('click', () => {\r\n+            forgotPasswordModal.classList.remove('hidden');\r\n+            document.getElementById('recoveryEmailInput').focus();\r\n+        });\r\n+\r\n+        // Fecha o modal\r\n+        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n+            forgotPasswordModal.classList.add('hidden');\r\n+        });\r\n+\r\n+        // Lida com o envio do formulário\r\n+        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n+            e.preventDefault();\r\n+            const email = document.getElementById('recoveryEmailInput').value;\r\n+            \r\n+            recoverySubmitBtn.disabled = true;\r\n+            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n+            recoveryFormFeedback.textContent = '';\r\n+\r\n+            try {\r\n+                // Chama a rota do backend que já criámos\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n+                    method: 'POST',\r\n+                    headers: { 'Content-Type': 'application/json' },\r\n+                    body: JSON.stringify({ email })\r\n+                });\r\n+\r\n+                const result = await response.json();\r\n+                if (!response.ok) { throw new Error(result.message); }\r\n+\r\n+                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                recoveryFormFeedback.textContent = result.message;\r\n+\r\n+                // Fecha o modal após alguns segundos\r\n+                setTimeout(() => {\r\n+                    forgotPasswordModal.classList.add('hidden');\r\n+                }, 4000);\r\n+\r\n+            } catch (error) {\r\n+                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                recoveryFormFeedback.textContent = error.message;\r\n+            } finally {\r\n+                recoverySubmitBtn.disabled = false;\r\n+                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+            }\r\n+        });\r\n+    }\r\n+\r\n+    const registerModal = document.getElementById('registerModal');\r\n+    if (registerModal) {\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+        const registerForm = document.getElementById('registerForm');\r\n+        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n+        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+        const registerCnpjInput = document.getElementById('registerCnpj');\r\n+        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n+\r\n+        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+\r\n+        signUpBtn.addEventListener('click', () => {\r\n+            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n+            registerModal.classList.remove('hidden');\r\n+        });\r\n+        \r\n+        closeRegisterModalBtn.addEventListener('click', () => {\r\n+            registerModal.classList.add('hidden');\r\n+            registerForm.reset();\r\n+        });\r\n+\r\n+        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n+\r\n+        backToRegisterStep1Btn.addEventListener('click', () => {\r\n+            document.getElementById('register-step-2').classList.add('hidden');\r\n+            document.getElementById('register-step-1').classList.remove('hidden');\r\n+        });\r\n+\r\n+        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n+    }\r\n+    \r\n+    // =================================================================================\r\n+    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n+    // =================================================================================\r\n+    \r\n+    function setupGeneralEventListeners(isLoggedIn = false) {\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n+\r\n+        const contactForm = document.getElementById('contactForm');\r\n+        if (contactForm) {\r\n+            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n+        }\r\n+        \r\n+        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n+        if (!isLoggedIn) {\r\n+            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n+            if (logoElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                logoElement.addEventListener('click', (e) => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        e.preventDefault();\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            activateAdminLogin();\r\n+                            clickCount = 0;\r\n+                            clearTimeout(clickTimer);\r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+        }\r\n+    }\r\n+    \r\n+    function activateAdminLogin() {\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n+            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n+            mainLoginForm.dataset.isAdmin = \"true\";\r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        }\r\n+    }\r\n+\r\n+    function handleBackToStep1Click() {\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        loginStep2.classList.add('hidden');\r\n+        if(cnpjMask) cnpjMask.value = '';\r\n+        loginStep1.classList.remove('hidden');\r\n+        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+        mainLoginForm.dataset.isAdmin = \"false\";\r\n+        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n+        clearLoginErrors();\r\n+    }\r\n+\r\n+    async function handleNextStepClick() {\r\n+        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+        const signUpBtn = document.getElementById('signUpBtn');\r\n+        const nextStepBtn = document.getElementById('nextStepBtn');\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        \r\n+        mainLoginFormFeedback.textContent = '';\r\n+        signUpBtn.classList.add('hidden');\r\n+        \r\n+        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n+            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n+            return;\r\n+        }\r\n+\r\n+        nextStepBtn.disabled = true;\r\n+        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { throw new Error(result.message); }\r\n+            loginStep1.classList.add('hidden');\r\n+            loginStep2.classList.remove('hidden');\r\n+        } catch (error) {\r\n+            mainLoginFormFeedback.textContent = error.message;\r\n+            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                signUpBtn.classList.remove('hidden');\r\n+            }\r\n+        } finally {\r\n+            nextStepBtn.disabled = false;\r\n+            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n+        }\r\n+    }\r\n+    \r\n+    function handleGoToRegisterStep2() {\r\n+        const registrationFeedback = document.getElementById('registrationFeedback');\r\n+        registrationFeedback.textContent = '';\r\n+        const companyName = document.getElementById('registerCompanyName').value;\r\n+        const companyEmail = document.getElementById('registerEmail').value;\r\n+\r\n+        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n+            document.getElementById('register-step-1').classList.add('hidden');\r\n+            document.getElementById('register-step-2').classList.remove('hidden');\r\n+        } else {\r\n+            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+        }\r\n+    }\r\n+    \r\n+    async function handleLoginFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+        mainLoginSubmitBtn.disabled = true;\r\n+        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+        clearLoginErrors();\r\n+        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n+\r\n+        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n+        const payload = isAdminLoginMode ? \r\n+            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+        try {\r\n+            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { \r\n+                const error = new Error(result.message || 'Erro de validação.');\r\n+                error.details = result.errors;\r\n+                throw error;\r\n+            }\r\n+            localStorage.setItem('authToken', result.token);\r\n+            window.location.href = 'OrgBoletos.html';\r\n+        } catch (error) {\r\n+            if (error.details) {\r\n+                error.details.forEach(err => {\r\n+                    const errorElement = document.getElementById(`${err.path}Error`);\r\n+                    if (errorElement) { errorElement.textContent = err.msg; }\r\n+                });\r\n+            } else {\r\n+                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n+            }\r\n+        } finally {\r\n+            mainLoginSubmitBtn.disabled = false;\r\n+            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+            e.target.dataset.isAdmin = \"false\";\r\n+        }\r\n+    }\r\n+\r\n+    async function handleRegisterFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        const password = document.getElementById('ownerPassword').value;\r\n+        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+        if (password !== confirmPassword) {\r\n+            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n+            return;\r\n+        }\r\n+        document.getElementById('passwordConfirmError').textContent = '';\r\n+\r\n+        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+        submitBtn.disabled = true;\r\n+        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+\r\n+        const registrationFeedback = document.getElementById('registrationFeedback');\r\n+        registrationFeedback.textContent = '';\r\n+\r\n+        const payload = {\r\n+            cnpj: registerCnpjMask.unmaskedValue,\r\n+            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n+            email: document.getElementById('registerEmail').value,\r\n+            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n+            username: document.getElementById('ownerUsername').value,\r\n+            ownerEmail: document.getElementById('ownerEmail').value,\r\n+            password: password,\r\n+        };\r\n+\r\n+        try {\r\n+            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n+            // A URL agora aponta para a nova rota pública em auth.js\r\n+            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n+                method: 'POST', \r\n+                headers: { 'Content-Type': 'application/json' }, \r\n+                body: JSON.stringify(payload) \r\n+            });\r\n+\r\n+            const result = await response.json();\r\n+            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n+\r\n+            setTimeout(() => {\r\n+                document.getElementById('closeRegisterModalBtn').click();\r\n+                if (cnpjMask) {\r\n+                    cnpjMask.value = payload.cnpj;\r\n+                    document.getElementById('mainCnpjInput').focus();\r\n+                }\r\n+            }, 3000);\r\n+        } catch (error) {\r\n+            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+            registrationFeedback.textContent = error.message;\r\n+        } finally {\r\n+            submitBtn.disabled = false;\r\n+            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+        }\r\n+    }\r\n+    \r\n+    async function handleContactFormSubmit(e) {\r\n+        e.preventDefault();\r\n+        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+        contactSubmitBtn.disabled = true;\r\n+        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+        contactFormFeedback.textContent = '';\r\n+        const payload = {\r\n+            name: document.getElementById('contactName').value,\r\n+            email: document.getElementById('contactEmail').value,\r\n+            subject: document.getElementById('contactSubject').value,\r\n+            message: document.getElementById('contactMessage').value,\r\n+        };\r\n+        try {\r\n+            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n+            const result = await response.json();\r\n+            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+            contactFormFeedback.textContent = result.message;\r\n+            document.getElementById('contactForm').reset();\r\n+        } catch (error) {\r\n+            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+            contactFormFeedback.textContent = error.message;\r\n+        } finally {\r\n+            contactSubmitBtn.disabled = false;\r\n+            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+        }\r\n+    }\r\n+});\r\n+</script>\r\n+\r\n+<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n+        \r\n+        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+            <i class=\"fas fa-times fa-lg\"></i>\r\n+        </button>\r\n+\r\n+        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n+        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n+            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n+        </p>\r\n+\r\n+        <form id=\"forgotPasswordForm\">\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n+                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n+            </div>\r\n+            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n+            </button>\r\n+        </form>\r\n+        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+    </div>\r\n+</div>\r\n+\r\n+</body>\r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754317391523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,8 @@\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <script type=\"module\"></script>\r\n     <style>\r\n         @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n         \r\n         body {\r\n@@ -521,11 +520,11 @@\n         </div>\r\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n-<script>\r\n+<script type=\"module\">\r\n+import { API_BASE_URL } from './config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n-    import { API_BASE_URL } from './config.js';\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n     // =================================================================================\r\n@@ -981,990 +980,5 @@\n     </div>\r\n </div>\r\n \r\n </body>\r\n-</html>\n-<!DOCTYPE html>\r\n-<html lang=\"pt-BR\">\r\n-<head>\r\n-    <meta charset=\"UTF-8\">\r\n-    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <style>\r\n-        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n-        \r\n-        body {\r\n-            font-family: 'Poppins', sans-serif;\r\n-            background-color: #0f172a;\r\n-            color: #e2e8f0;\r\n-        }\r\n-        \r\n-        .hero-gradient {\r\n-            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n-        }\r\n-        \r\n-        .service-card:hover {\r\n-            transform: translateY(-5px);\r\n-            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .wolf-logo {\r\n-            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n-        }\r\n-        \r\n-        .login-form {\r\n-            backdrop-filter: blur(10px);\r\n-            background: rgba(15, 23, 42, 0.8);\r\n-            border: 1px solid rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .nav-link {\r\n-            position: relative;\r\n-        }\r\n-        \r\n-        .nav-link::after {\r\n-            content: '';\r\n-            position: absolute;\r\n-            width: 0;\r\n-            height: 2px;\r\n-            bottom: -2px;\r\n-            left: 0;\r\n-            background-color: #6366f1;\r\n-            transition: width 0.3s ease;\r\n-        }\r\n-        \r\n-        .nav-link:hover::after {\r\n-            width: 100%;\r\n-        }\r\n-        \r\n-        .animated-wolf {\r\n-            animation: float 6s ease-in-out infinite;\r\n-        }\r\n-        \r\n-        @keyframes float {\r\n-            0% { transform: translateY(0px); }\r\n-            50% { transform: translateY(-15px); }\r\n-            100% { transform: translateY(0px); }\r\n-        }\r\n-    </style>\r\n-</head>\r\n-<body>\r\n-    <!-- Navbar -->\r\n-    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n-        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-20\">\r\n-                <div class=\"flex items-center\">\r\n-                <div class=\"flex-shrink-0\">\r\n-                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n-                    </a>\r\n-                </div>\r\n-                </div>\r\n-                <div class=\"hidden md:block\">\r\n-                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n-                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n-                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n-                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n-                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n-                    </div>\r\n-                </div>\r\n-                <div class=\"-mr-2 flex md:hidden\">\r\n-                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n-                        <span class=\"sr-only\">Abrir menu</span>\r\n-                        <i class=\"fas fa-bars\"></i>\r\n-                    </button>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-        \r\n-        <!-- Mobile menu -->\r\n-        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n-            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n-                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n-                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n-                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n-                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n-            </div>\r\n-        </div>\r\n-    </nav>\r\n-\r\n-    <!-- Hero Section -->\r\n-    <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"lg:grid lg:grid-cols-2 lg:gap-12 items-center\">\r\n-                <div class=\"mb-12 lg:mb-0\">\r\n-                    <h1 class=\"text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n-                        Soluções em TI com a <span class=\"text-indigo-500\">força</span> de uma alcateia\r\n-                    </h1>\r\n-                    <p class=\"text-lg text-gray-300 mb-8\">\r\n-                        Nós da LobosTI oferecemos serviços especializados em tecnologia da informação para impulsionar seu negócio ao próximo nível.\r\n-                    </p>\r\n-                    <div class=\"flex flex-wrap gap-4\">\r\n-                        <a href=\"#servicos\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n-                            Nossos Serviços <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                        </a>\r\n-                        <a href=\"#contato\" class=\"border border-indigo-500 text-indigo-400 hover:bg-indigo-900 hover:bg-opacity-30 font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n-                            Fale Conosco\r\n-                        </a>\r\n-                    </div>\r\n-                </div>\r\n-                <div class=\"relative\">\r\n-                    <div class=\"animated-wolf\">\r\n-                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n-                    </div>\r\n-                    <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n-                    <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n-\r\n-    <!-- Serviços Section -->\r\n-    <section id=\"servicos\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"text-center mb-16\">\r\n-                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Nossos <span class=\"text-indigo-500\">Serviços</span></h2>\r\n-                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n-                    Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n-                </p>\r\n-            </div>\r\n-            \r\n-            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n-                <!-- Serviço 1: Organizador de Boletos -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n-                    </p>\r\n-                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 2 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 3 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 4 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n-\r\n-    <!-- Login Section -->\r\n-    <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"flex flex-col lg:flex-row items-center justify-between\">\r\n-                <div class=\"lg:w-1/2 mb-12 lg:mb-0\">\r\n-                    <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-6\">\r\n-                        Acesse sua <span class=\"text-indigo-500\">conta</span>\r\n-                    </h2>\r\n-                    <p class=\"text-lg text-gray-400 mb-8 max-w-lg\">\r\n-                        Faça login para acessar nossos serviços exclusivos e gerenciar sua infraestrutura de TI de forma centralizada.\r\n-                    </p>\r\n-                    <div class=\"flex items-center space-x-4\">\r\n-                        <div class=\"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center\">\r\n-                            <i class=\"fas fa-lock text-indigo-500 text-xl\"></i>\r\n-                        </div>\r\n-                        <div>\r\n-                            <h4 class=\"text-white font-medium\">Segurança garantida</h4>\r\n-                            <p class=\"text-gray-400 text-sm\">Autenticação de dois fatores disponível</p>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-                \r\n-                <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-                            <form id=\"mainLoginForm\">\r\n-                                <div id=\"login-step-1\">\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n-                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                    </div>\r\n-                                    <div class=\"space-y-4\">\r\n-                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                                        </button>\r\n-                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n-                                            Cadastre-se\r\n-                                        </button>\r\n-                                    </div>\r\n-                                </div>\r\n-\r\n-                                <div id=\"login-step-2\" class=\"hidden\">\r\n-                                    <div class=\"mb-4\">\r\n-                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n-                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n-                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                    </div>\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                        <div class=\"relative\">\r\n-                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n-                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n-                                                <i class=\"fas fa-eye\"></i>\r\n-                                            </button>\r\n-                                        </div>\r\n-                                    </div>\r\n-                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                                    </button>\r\n-                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                                    <div class=\"text-center mt-4\">\r\n-                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n-                                    </div>    \r\n-                                </div>\r\n-                            </form>\r\n-                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n-\r\n-    <!-- Contato Section -->\r\n-    <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"text-center mb-16\">\r\n-                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Entre em <span class=\"text-indigo-500\">Contato</span></h2>\r\n-                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n-                    Pronto para transformar sua infraestrutura de TI? Nossa equipe está aqui para ajudar.\r\n-                </p>\r\n-            </div>\r\n-            \r\n-            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n-                <div>\r\n-                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n-                        <h3 class=\"text-xl font-semibold text-white mb-6\">Informações de Contato</h3>\r\n-                        \r\n-                        <div class=\"space-y-6\">\r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n-                                    </div>\r\n-                                </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">Endereço</h4>\r\n-                                    <p class=\"text-gray-400\">Loja Online</p>\r\n-                                </div>\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n-                                    </div>\r\n-                                </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">Telefone</h4>\r\n-                                    <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n-                                </div>\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n-                                    </div>\r\n-                                </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">E-mail</h4>\r\n-                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n-                                </div>\r\n-                            </div>\r\n-                        </div>\r\n-                        \r\n-                        <div class=\"mt-8\">\r\n-                            <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n-                            <div class=\"flex space-x-4\">\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-facebook-f text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-twitter text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-instagram text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-linkedin-in text-white\"></i>\r\n-                                </a>\r\n-                            </div>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n-                        <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n-                        \r\n-                        <form id=\"contactForm\">\r\n-                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n-                                <div>\r\n-                                    <label for=\"contactName\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n-                                    <input type=\"text\" id=\"contactName\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n-                                </div>\r\n-                                <div>\r\n-                                    <label for=\"contactEmail\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n-                                    <input type=\"email\" id=\"contactEmail\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n-                                </div>\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"contactSubject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n-                                <input type=\"text\" id=\"contactSubject\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"contactMessage\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n-                                <textarea id=\"contactMessage\" rows=\"4\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n-                            </div>\r\n-                            \r\n-                            <button type=\"submit\" id=\"contactSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n-                            </button>\r\n-                        </form>\r\n-                        <div id=\"contactFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n-\r\n-    <!-- Footer -->\r\n-    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n-                <div>\r\n-                    <div class=\"flex items-center logo mb-4\">\r\n-                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n-                    </div>\r\n-                    <p class=\"text-gray-400 text-sm\">\r\n-                        Soluções em tecnologia da informação com excelência e inovação.\r\n-                    </p>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n-                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n-                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n-                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n-                    </ul>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n-                    </ul>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n-                    <p class=\"text-gray-400 text-sm mb-4\">\r\n-                        Assine nossa newsletter para receber atualizações e novidades.\r\n-                    </p>\r\n-                    <form class=\"flex\">\r\n-                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n-                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n-                            <i class=\"fas fa-paper-plane\"></i>\r\n-                        </button>\r\n-                    </form>\r\n-                </div>\r\n-            </div>\r\n-            \r\n-            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n-                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n-                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n-                </p>\r\n-                <div class=\"flex space-x-6\">\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </footer>\r\n-\r\n-    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n-            \r\n-            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-                <i class=\"fas fa-times fa-lg\"></i>\r\n-            </button>\r\n-\r\n-            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n-\r\n-            <form id=\"registerForm\">\r\n-                <div id=\"register-step-1\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div>\r\n-                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n-                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n-                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n-                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n-                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                    </div>\r\n-                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </button>\r\n-                </div>\r\n-\r\n-                <div id=\"register-step-2\" class=\"hidden\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div>\r\n-                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n-                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n-                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n-                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"flex items-center gap-4 mt-6\">\r\n-                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n-                        </button>\r\n-                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n-                        </button>\r\n-                    </div>\r\n-                </div>\r\n-                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n-<script src=\"https://unpkg.com/imask\"></script>\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', async () => {\r\n-\r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n-    // =================================================================================\r\n-\r\n-    function updateUIForLoggedInUser(user) {\r\n-        const desktopMenu = document.getElementById('desktop-menu-items');\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n-        const loginSectionContent = document.getElementById('login-section-content');\r\n-        \r\n-        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n-            navLoginLink.textContent = 'Acessar Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-            const logoutButton = document.createElement('button');\r\n-            logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenu.appendChild(logoutButton);\r\n-        }\r\n-\r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>`;\r\n-        }\r\n-        \r\n-        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n-        });\r\n-    }\r\n-\r\n-    function clearLoginErrors() {\r\n-        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-        fields.forEach(id => {\r\n-            const el = document.getElementById(id);\r\n-            if (el) el.textContent = '';\r\n-        });\r\n-    }\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n-    // =================================================================================\r\n-    \r\n-    const token = localStorage.getItem('authToken');\r\n-    if (token) {\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-            if (response.ok) {\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user);\r\n-                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n-                setupGeneralEventListeners(true); \r\n-                return; \r\n-            } else {\r\n-                localStorage.removeItem('authToken');\r\n-            }\r\n-        } catch (error) {\r\n-            console.error(\"Erro ao verificar sessão:\", error);\r\n-        }\r\n-    }\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n-    // =================================================================================\r\n-    \r\n-    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n-    setupGeneralEventListeners(false);\r\n-\r\n-    // Variáveis para as instâncias das máscaras\r\n-    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n-\r\n-    // --- Lógica do formulário de Login ---\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    if (mainLoginForm) {\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-        \r\n-        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        \r\n-        cnpjMask.on('accept', () => {\r\n-            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            signUpBtn.classList.add('hidden');\r\n-        });\r\n-\r\n-        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n-        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n-        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-    }\r\n-    \r\n-    // --- Lógica do Modal de Cadastro ---\r\n-\r\n-    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n-    if (forgotPasswordModal) {\r\n-        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n-        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n-        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n-        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n-        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n-\r\n-        // Abre o modal ao clicar no botão\r\n-        forgotPasswordBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.remove('hidden');\r\n-            document.getElementById('recoveryEmailInput').focus();\r\n-        });\r\n-\r\n-        // Fecha o modal\r\n-        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.add('hidden');\r\n-        });\r\n-\r\n-        // Lida com o envio do formulário\r\n-        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n-            e.preventDefault();\r\n-            const email = document.getElementById('recoveryEmailInput').value;\r\n-            \r\n-            recoverySubmitBtn.disabled = true;\r\n-            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n-            recoveryFormFeedback.textContent = '';\r\n-\r\n-            try {\r\n-                // Chama a rota do backend que já criámos\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify({ email })\r\n-                });\r\n-\r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message); }\r\n-\r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-                recoveryFormFeedback.textContent = result.message;\r\n-\r\n-                // Fecha o modal após alguns segundos\r\n-                setTimeout(() => {\r\n-                    forgotPasswordModal.classList.add('hidden');\r\n-                }, 4000);\r\n-\r\n-            } catch (error) {\r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-                recoveryFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                recoverySubmitBtn.disabled = false;\r\n-                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n-\r\n-    const registerModal = document.getElementById('registerModal');\r\n-    if (registerModal) {\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-        const registerForm = document.getElementById('registerForm');\r\n-        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n-        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n-        const registerCnpjInput = document.getElementById('registerCnpj');\r\n-        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n-\r\n-        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n-\r\n-        signUpBtn.addEventListener('click', () => {\r\n-            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n-            registerModal.classList.remove('hidden');\r\n-        });\r\n-        \r\n-        closeRegisterModalBtn.addEventListener('click', () => {\r\n-            registerModal.classList.add('hidden');\r\n-            registerForm.reset();\r\n-        });\r\n-\r\n-        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n-\r\n-        backToRegisterStep1Btn.addEventListener('click', () => {\r\n-            document.getElementById('register-step-2').classList.add('hidden');\r\n-            document.getElementById('register-step-1').classList.remove('hidden');\r\n-        });\r\n-\r\n-        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n-    }\r\n-    \r\n-    // =================================================================================\r\n-    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n-    // =================================================================================\r\n-    \r\n-    function setupGeneralEventListeners(isLoggedIn = false) {\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n-\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-        }\r\n-        \r\n-        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n-        if (!isLoggedIn) {\r\n-            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-            if (logoElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                logoElement.addEventListener('click', (e) => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        e.preventDefault();\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            activateAdminLogin();\r\n-                            clickCount = 0;\r\n-                            clearTimeout(clickTimer);\r\n-                        }\r\n-                    }\r\n-                });\r\n-            }\r\n-        }\r\n-    }\r\n-    \r\n-    function activateAdminLogin() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n-            mainLoginForm.dataset.isAdmin = \"true\";\r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-        }\r\n-    }\r\n-\r\n-    function handleBackToStep1Click() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        loginStep2.classList.add('hidden');\r\n-        if(cnpjMask) cnpjMask.value = '';\r\n-        loginStep1.classList.remove('hidden');\r\n-        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-        mainLoginForm.dataset.isAdmin = \"false\";\r\n-        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n-        clearLoginErrors();\r\n-    }\r\n-\r\n-    async function handleNextStepClick() {\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        \r\n-        mainLoginFormFeedback.textContent = '';\r\n-        signUpBtn.classList.add('hidden');\r\n-        \r\n-        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n-            return;\r\n-        }\r\n-\r\n-        nextStepBtn.disabled = true;\r\n-        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message); }\r\n-            loginStep1.classList.add('hidden');\r\n-            loginStep2.classList.remove('hidden');\r\n-        } catch (error) {\r\n-            mainLoginFormFeedback.textContent = error.message;\r\n-            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                signUpBtn.classList.remove('hidden');\r\n-            }\r\n-        } finally {\r\n-            nextStepBtn.disabled = false;\r\n-            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-        }\r\n-    }\r\n-    \r\n-    function handleGoToRegisterStep2() {\r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n-        const companyName = document.getElementById('registerCompanyName').value;\r\n-        const companyEmail = document.getElementById('registerEmail').value;\r\n-\r\n-        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n-            document.getElementById('register-step-1').classList.add('hidden');\r\n-            document.getElementById('register-step-2').classList.remove('hidden');\r\n-        } else {\r\n-            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-        }\r\n-    }\r\n-    \r\n-    async function handleLoginFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-        mainLoginSubmitBtn.disabled = true;\r\n-        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        clearLoginErrors();\r\n-        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n-\r\n-        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n-        const payload = isAdminLoginMode ? \r\n-            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-        try {\r\n-            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { \r\n-                const error = new Error(result.message || 'Erro de validação.');\r\n-                error.details = result.errors;\r\n-                throw error;\r\n-            }\r\n-            localStorage.setItem('authToken', result.token);\r\n-            window.location.href = 'OrgBoletos.html';\r\n-        } catch (error) {\r\n-            if (error.details) {\r\n-                error.details.forEach(err => {\r\n-                    const errorElement = document.getElementById(`${err.path}Error`);\r\n-                    if (errorElement) { errorElement.textContent = err.msg; }\r\n-                });\r\n-            } else {\r\n-                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n-            }\r\n-        } finally {\r\n-            mainLoginSubmitBtn.disabled = false;\r\n-            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            e.target.dataset.isAdmin = \"false\";\r\n-        }\r\n-    }\r\n-\r\n-    async function handleRegisterFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const password = document.getElementById('ownerPassword').value;\r\n-        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-        if (password !== confirmPassword) {\r\n-            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n-            return;\r\n-        }\r\n-        document.getElementById('passwordConfirmError').textContent = '';\r\n-\r\n-        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-        submitBtn.disabled = true;\r\n-        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n-\r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n-\r\n-        const payload = {\r\n-            cnpj: registerCnpjMask.unmaskedValue,\r\n-            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n-            email: document.getElementById('registerEmail').value,\r\n-            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n-            username: document.getElementById('ownerUsername').value,\r\n-            ownerEmail: document.getElementById('ownerEmail').value,\r\n-            password: password,\r\n-        };\r\n-\r\n-        try {\r\n-            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n-            // A URL agora aponta para a nova rota pública em auth.js\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n-                method: 'POST', \r\n-                headers: { 'Content-Type': 'application/json' }, \r\n-                body: JSON.stringify(payload) \r\n-            });\r\n-\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n-\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n-\r\n-            setTimeout(() => {\r\n-                document.getElementById('closeRegisterModalBtn').click();\r\n-                if (cnpjMask) {\r\n-                    cnpjMask.value = payload.cnpj;\r\n-                    document.getElementById('mainCnpjInput').focus();\r\n-                }\r\n-            }, 3000);\r\n-        } catch (error) {\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-            registrationFeedback.textContent = error.message;\r\n-        } finally {\r\n-            submitBtn.disabled = false;\r\n-            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n-        }\r\n-    }\r\n-    \r\n-    async function handleContactFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-        contactSubmitBtn.disabled = true;\r\n-        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-        contactFormFeedback.textContent = '';\r\n-        const payload = {\r\n-            name: document.getElementById('contactName').value,\r\n-            email: document.getElementById('contactEmail').value,\r\n-            subject: document.getElementById('contactSubject').value,\r\n-            message: document.getElementById('contactMessage').value,\r\n-        };\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-            contactFormFeedback.textContent = result.message;\r\n-            document.getElementById('contactForm').reset();\r\n-        } catch (error) {\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-            contactFormFeedback.textContent = error.message;\r\n-        } finally {\r\n-            contactSubmitBtn.disabled = false;\r\n-            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-        }\r\n-    }\r\n-});\r\n-</script>\r\n-\r\n-<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n-        \r\n-        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-            <i class=\"fas fa-times fa-lg\"></i>\r\n-        </button>\r\n-\r\n-        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n-        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n-            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n-        </p>\r\n-\r\n-        <form id=\"forgotPasswordForm\">\r\n-            <div class=\"mb-4\">\r\n-                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n-                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n-            </div>\r\n-            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n-            </button>\r\n-        </form>\r\n-        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n-    </div>\r\n-</div>\r\n-\r\n-</body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754317546022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -521,9 +521,9 @@\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n-import { API_BASE_URL } from './config.js';\r\n+import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n"
                },
                {
                    "date": 1754330024782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"http://googleusercontent.com/image_generation_content/3\" alt=\"Lobo Tecnológico Digital\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754330046399,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"http://googleusercontent.com/image_generation_content/3\" alt=\"Lobo Tecnológico Digital\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"http://googleusercontent.com/image_generation_content/1\" alt=\"Rede Tecnológica\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754330184970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"http://googleusercontent.com/image_generation_content/1\" alt=\"Rede Tecnológica\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"./public/images/ImageTeste1.png\" alt=\"Rede Tecnológica\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754330536814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"./public/images/ImageTeste1.png\" alt=\"Rede Tecnológica\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"Fluxo de Dados Digitais\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754330581779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"Fluxo de Dados Digitais\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"https://images.pexels.com/photos/373543/pexels-photo-373543.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"Rede Tecnológica Abstrata\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754334529639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n@@ -125,9 +125,9 @@\n                     </div>\r\n                 </div>\r\n                 <div class=\"relative\">\r\n                     <div class=\"animated-wolf\">\r\n-                        <img src=\"https://images.pexels.com/photos/373543/pexels-photo-373543.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"Rede Tecnológica Abstrata\" class=\"w-full max-w-md mx-auto\">\r\n+                        <img src=\"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"Fluxo de Dados Digitais\" class=\"w-full max-w-md mx-auto\">\r\n                     </div>\r\n                     <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                     <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1754334538076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n             <div class=\"flex items-center justify-between h-20\">\r\n                 <div class=\"flex items-center\">\r\n                 <div class=\"flex-shrink-0\">\r\n                     <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-16 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n+                        <img class=\"h-20 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                     </a>\r\n                 </div>\r\n                 </div>\r\n                 <div class=\"hidden md:block\">\r\n"
                },
                {
                    "date": 1754335490529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -528,38 +528,67 @@\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n     // =================================================================================\r\n \r\n-    function updateUIForLoggedInUser(user) {\r\n+    function updateUIForLoggedInUser(user, company) {\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n         const navLoginLink = document.getElementById('nav-login-link');\r\n         const loginSectionContent = document.getElementById('login-section-content');\r\n-        \r\n+\r\n+        // Atualiza a barra de navegação (lógica existente)\r\n         if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n             navLoginLink.textContent = 'Acessar Painel';\r\n             navLoginLink.href = 'OrgBoletos.html';\r\n             const logoutButton = document.createElement('button');\r\n             logoutButton.id = 'nav-logout-btn';\r\n             logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n             logoutButton.textContent = 'Sair';\r\n             desktopMenu.appendChild(logoutButton);\r\n+\r\n+            logoutButton.addEventListener('click', () => {\r\n+                localStorage.removeItem('authToken');\r\n+                window.location.reload();\r\n+            });\r\n         }\r\n \r\n+        // --- NOVA LÓGICA PARA A SECÇÃO DE LOGIN ---\r\n         if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>`;\r\n+            let contentHtml = '';\r\n+            const subscription = company.subscription;\r\n+            const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+\r\n+            // CASO 1: O utilizador é o Proprietário\r\n+            if (user.role === 'Proprietário') {\r\n+                if (isSubscriptionActive) {\r\n+                    // Assinatura ATIVA\r\n+                    contentHtml = `\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+                        <p class=\"text-center text-gray-300 mb-6\">A sua assinatura está ativa. Aceda ao painel para gerir os seus boletos.</p>\r\n+                        <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                            Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                        </a>`;\r\n+                } else {\r\n+                    // Assinatura INATIVA ou EXPIRADA\r\n+                    contentHtml = `\r\n+                        <h3 class=\"text-2xl font-bold text-yellow-400 mb-4 text-center\">Atenção!</h3>\r\n+                        <p class=\"text-center text-gray-300 mb-6\">A sua assinatura não está ativa. Renove para continuar a usar o sistema.</p>\r\n+                        <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                            Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i>\r\n+                        </a>`;\r\n+                }\r\n+            } \r\n+            // CASO 2: O utilizador é Gerente, Funcionário, etc.\r\n+            else {\r\n+                contentHtml = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Clique abaixo para aceder ao sistema.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                        Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </a>`;\r\n+            }\r\n+            \r\n+            loginSectionContent.innerHTML = contentHtml;\r\n         }\r\n-        \r\n-        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n-        });\r\n     }\r\n \r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n@@ -578,9 +607,9 @@\n         try {\r\n             const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n             if (response.ok) {\r\n                 const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user);\r\n+                updateUIForLoggedInUser(data.user, data.company);\r\n                 // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n                 setupGeneralEventListeners(true); \r\n                 return; \r\n             } else {\r\n"
                },
                {
                    "date": 1754335698661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -528,69 +528,80 @@\n     // =================================================================================\r\n     // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n     // =================================================================================\r\n \r\n-    function updateUIForLoggedInUser(user, company) {\r\n-        const desktopMenu = document.getElementById('desktop-menu-items');\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n-        const loginSectionContent = document.getElementById('login-section-content');\r\n+function updateUIForLoggedInUser(user, company) {\r\n+    const desktopMenu = document.getElementById('desktop-menu-items');\r\n+    const navLoginLink = document.getElementById('nav-login-link');\r\n+    const loginSectionContent = document.getElementById('login-section-content');\r\n+    \r\n+    // --- LÓGICA DA BARRA DE NAVEGAÇÃO (inalterada) ---\r\n+    if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+        navLoginLink.textContent = 'Aceder ao Painel';\r\n+        navLoginLink.href = 'OrgBoletos.html';\r\n+        const logoutButton = document.createElement('button');\r\n+        logoutButton.id = 'nav-logout-btn';\r\n+        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+        logoutButton.textContent = 'Sair';\r\n+        desktopMenu.appendChild(logoutButton);\r\n \r\n-        // Atualiza a barra de navegação (lógica existente)\r\n-        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n-            navLoginLink.textContent = 'Acessar Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-            const logoutButton = document.createElement('button');\r\n-            logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenu.appendChild(logoutButton);\r\n+        logoutButton.addEventListener('click', () => {\r\n+            localStorage.removeItem('authToken');\r\n+            window.location.reload();\r\n+        });\r\n+    }\r\n \r\n-            logoutButton.addEventListener('click', () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n-        }\r\n+    // --- LÓGICA PARA A SECÇÃO DE LOGIN PRINCIPAL (inalterada) ---\r\n+    if (loginSectionContent) {\r\n+        let contentHtml = '';\r\n+        const subscription = company.subscription;\r\n+        const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n \r\n-        // --- NOVA LÓGICA PARA A SECÇÃO DE LOGIN ---\r\n-        if (loginSectionContent) {\r\n-            let contentHtml = '';\r\n-            const subscription = company.subscription;\r\n-            const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-\r\n-            // CASO 1: O utilizador é o Proprietário\r\n-            if (user.role === 'Proprietário') {\r\n-                if (isSubscriptionActive) {\r\n-                    // Assinatura ATIVA\r\n-                    contentHtml = `\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                        <p class=\"text-center text-gray-300 mb-6\">A sua assinatura está ativa. Aceda ao painel para gerir os seus boletos.</p>\r\n-                        <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                            Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                        </a>`;\r\n-                } else {\r\n-                    // Assinatura INATIVA ou EXPIRADA\r\n-                    contentHtml = `\r\n-                        <h3 class=\"text-2xl font-bold text-yellow-400 mb-4 text-center\">Atenção!</h3>\r\n-                        <p class=\"text-center text-gray-300 mb-6\">A sua assinatura não está ativa. Renove para continuar a usar o sistema.</p>\r\n-                        <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                            Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i>\r\n-                        </a>`;\r\n-                }\r\n-            } \r\n-            // CASO 2: O utilizador é Gerente, Funcionário, etc.\r\n-            else {\r\n+        if (user.role === 'Proprietário') {\r\n+            if (isSubscriptionActive) {\r\n                 contentHtml = `\r\n                     <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Clique abaixo para aceder ao sistema.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                        Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </a>`;\r\n+                    <p class=\"text-center text-gray-300 mb-6\">A sua assinatura está ativa. Aceda ao painel para gerir os seus boletos.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 ...\">Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i></a>`;\r\n+            } else {\r\n+                contentHtml = `\r\n+                    <h3 class=\"text-2xl font-bold text-yellow-400 mb-4 text-center\">Atenção!</h3>\r\n+                    <p class=\"text-center text-gray-300 mb-6\">A sua assinatura não está ativa. Renove para continuar a usar o sistema.</p>\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 ...\">Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i></a>`;\r\n             }\r\n-            \r\n-            loginSectionContent.innerHTML = contentHtml;\r\n+        } else {\r\n+            contentHtml = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n+                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Clique abaixo para aceder ao sistema.</p>\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 ...\">Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i></a>`;\r\n         }\r\n+        loginSectionContent.innerHTML = contentHtml;\r\n     }\r\n \r\n+    // --- NOVA LÓGICA PARA O CARD DE SERVIÇO ---\r\n+    const boletoCardLink = document.getElementById('boleto-card-link');\r\n+    if (boletoCardLink) {\r\n+        const subscription = company.subscription;\r\n+        const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+\r\n+        // Remove as classes de cor antigas para garantir que apenas uma seja aplicada\r\n+        boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+\r\n+        if (user.role === 'Proprietário') {\r\n+            if (isSubscriptionActive) {\r\n+                boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-green-500');\r\n+            } else {\r\n+                boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-red-500');\r\n+            }\r\n+        } else {\r\n+            boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+            boletoCardLink.classList.add('text-green-500');\r\n+        }\r\n+    }\r\n+}\r\n+\r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n         fields.forEach(id => {\r\n             const el = document.getElementById(id);\r\n"
                },
                {
                    "date": 1754335820026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -533,9 +533,9 @@\n     const desktopMenu = document.getElementById('desktop-menu-items');\r\n     const navLoginLink = document.getElementById('nav-login-link');\r\n     const loginSectionContent = document.getElementById('login-section-content');\r\n     \r\n-    // --- LÓGICA DA BARRA DE NAVEGAÇÃO (inalterada) ---\r\n+    // Atualiza a barra de navegação\r\n     if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n         navLoginLink.textContent = 'Aceder ao Painel';\r\n         navLoginLink.href = 'OrgBoletos.html';\r\n         const logoutButton = document.createElement('button');\r\n@@ -549,9 +549,9 @@\n             window.location.reload();\r\n         });\r\n     }\r\n \r\n-    // --- LÓGICA PARA A SECÇÃO DE LOGIN PRINCIPAL (inalterada) ---\r\n+    // Lógica para a secção de login principal\r\n     if (loginSectionContent) {\r\n         let contentHtml = '';\r\n         const subscription = company.subscription;\r\n         const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n@@ -560,31 +560,37 @@\n             if (isSubscriptionActive) {\r\n                 contentHtml = `\r\n                     <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n                     <p class=\"text-center text-gray-300 mb-6\">A sua assinatura está ativa. Aceda ao painel para gerir os seus boletos.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 ...\">Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i></a>`;\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                        Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </a>`;\r\n             } else {\r\n                 contentHtml = `\r\n                     <h3 class=\"text-2xl font-bold text-yellow-400 mb-4 text-center\">Atenção!</h3>\r\n                     <p class=\"text-center text-gray-300 mb-6\">A sua assinatura não está ativa. Renove para continuar a usar o sistema.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 ...\">Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i></a>`;\r\n+                    <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                        Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i>\r\n+                    </a>`;\r\n             }\r\n-        } else {\r\n+        } \r\n+        else {\r\n             contentHtml = `\r\n                 <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n                 <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Clique abaixo para aceder ao sistema.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 ...\">Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i></a>`;\r\n+                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n+                    Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </a>`;\r\n         }\r\n         loginSectionContent.innerHTML = contentHtml;\r\n     }\r\n \r\n-    // --- NOVA LÓGICA PARA O CARD DE SERVIÇO ---\r\n+    // Lógica para o card de serviço\r\n     const boletoCardLink = document.getElementById('boleto-card-link');\r\n     if (boletoCardLink) {\r\n         const subscription = company.subscription;\r\n         const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-\r\n-        // Remove as classes de cor antigas para garantir que apenas uma seja aplicada\r\n+        \r\n         boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n \r\n         if (user.role === 'Proprietário') {\r\n             if (isSubscriptionActive) {\r\n"
                },
                {
                    "date": 1754336234894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,58 +227,57 @@\n                     </div>\r\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-                            <form id=\"mainLoginForm\">\r\n-                                <div id=\"login-step-1\">\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n-                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                    </div>\r\n-                                    <div class=\"space-y-4\">\r\n-                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                                        </button>\r\n-                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n-                                            Cadastre-se\r\n-                                        </button>\r\n-                                    </div>\r\n-                                </div>\r\n+<div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n+    <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n+    <form id=\"mainLoginForm\">\r\n+        <div id=\"login-step-1\">\r\n+            <div class=\"mb-6\">\r\n+                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n+                <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+            </div>\r\n+            <div class=\"space-y-4\">\r\n+                <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                    Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                </button>\r\n+                <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n+                    Cadastre-se\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n \r\n-                                <div id=\"login-step-2\" class=\"hidden\">\r\n-                                    <div class=\"mb-4\">\r\n-                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n-                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n-                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                    </div>\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                        <div class=\"relative\">\r\n-                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n-                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n-                                                <i class=\"fas fa-eye\"></i>\r\n-                                            </button>\r\n-                                        </div>\r\n-                                    </div>\r\n-                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                                    </button>\r\n-                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                                    <div class=\"text-center mt-4\">\r\n-                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n-                                    </div>    \r\n-                                </div>\r\n-                            </form>\r\n-                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                    </div>\r\n+        <div id=\"login-step-2\" class=\"hidden\">\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Utilizador</label>\r\n+                <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu utilizador\">\r\n+                <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+            </div>\r\n+            <div class=\"mb-6\">\r\n+                <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n+                <div class=\"relative\">\r\n+                    <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                    <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                    <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n+                        <i class=\"fas fa-eye\"></i>\r\n+                    </button>\r\n                 </div>\r\n             </div>\r\n+            <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+            </button>\r\n+            <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n+            <div class=\"text-center mt-4\">\r\n+                <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n+            </div>    \r\n         </div>\r\n+    </form>\r\n+    <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+</div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n     </section>\r\n \r\n     <!-- Contato Section -->\r\n     <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n"
                },
                {
                    "date": 1754336414101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,57 +227,58 @@\n                     </div>\r\n                 </div>\r\n                 \r\n                 <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-<div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-    <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-    <form id=\"mainLoginForm\">\r\n-        <div id=\"login-step-1\">\r\n-            <div class=\"mb-6\">\r\n-                <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n-                <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-            </div>\r\n-            <div class=\"space-y-4\">\r\n-                <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                    Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </button>\r\n-                <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n-                    Cadastre-se\r\n-                </button>\r\n-            </div>\r\n-        </div>\r\n+                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n+                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n+                            <form id=\"mainLoginForm\">\r\n+                                <div id=\"login-step-1\">\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n+                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n+                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                    </div>\r\n+                                    <div class=\"space-y-4\">\r\n+                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                                        </button>\r\n+                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n+                                            Cadastre-se\r\n+                                        </button>\r\n+                                    </div>\r\n+                                </div>\r\n \r\n-        <div id=\"login-step-2\" class=\"hidden\">\r\n-            <div class=\"mb-4\">\r\n-                <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Utilizador</label>\r\n-                <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu utilizador\">\r\n-                <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-            </div>\r\n-            <div class=\"mb-6\">\r\n-                <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                <div class=\"relative\">\r\n-                    <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n-                    <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                    <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n-                        <i class=\"fas fa-eye\"></i>\r\n-                    </button>\r\n+                                <div id=\"login-step-2\" class=\"hidden\">\r\n+                                    <div class=\"mb-4\">\r\n+                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n+                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n+                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                    </div>\r\n+                                    <div class=\"mb-6\">\r\n+                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n+                                        <div class=\"relative\">\r\n+                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n+                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n+                                                <i class=\"fas fa-eye\"></i>\r\n+                                            </button>\r\n+                                        </div>\r\n+                                    </div>\r\n+                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n+                                    <div class=\"text-center mt-4\">\r\n+                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n+                                    </div>    \r\n+                                </div>\r\n+                            </form>\r\n+                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                    </div>\r\n                 </div>\r\n             </div>\r\n-            <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-            </button>\r\n-            <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-            <div class=\"text-center mt-4\">\r\n-                <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n-            </div>    \r\n         </div>\r\n-    </form>\r\n-    <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-</div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n     </section>\r\n \r\n     <!-- Contato Section -->\r\n     <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n"
                },
                {
                    "date": 1754336451048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -533,9 +533,9 @@\n     const desktopMenu = document.getElementById('desktop-menu-items');\r\n     const navLoginLink = document.getElementById('nav-login-link');\r\n     const loginSectionContent = document.getElementById('login-section-content');\r\n     \r\n-    // Atualiza a barra de navegação\r\n+    // Lógica da Barra de Navegação (inalterada)\r\n     if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n         navLoginLink.textContent = 'Aceder ao Painel';\r\n         navLoginLink.href = 'OrgBoletos.html';\r\n         const logoutButton = document.createElement('button');\r\n@@ -549,43 +549,21 @@\n             window.location.reload();\r\n         });\r\n     }\r\n \r\n-    // Lógica para a secção de login principal\r\n+    // --- LÓGICA SIMPLIFICADA PARA A SECÇÃO DE LOGIN ---\r\n     if (loginSectionContent) {\r\n-        let contentHtml = '';\r\n-        const subscription = company.subscription;\r\n-        const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-\r\n-        if (user.role === 'Proprietário') {\r\n-            if (isSubscriptionActive) {\r\n-                contentHtml = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">A sua assinatura está ativa. Aceda ao painel para gerir os seus boletos.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                        Aceder ao Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </a>`;\r\n-            } else {\r\n-                contentHtml = `\r\n-                    <h3 class=\"text-2xl font-bold text-yellow-400 mb-4 text-center\">Atenção!</h3>\r\n-                    <p class=\"text-center text-gray-300 mb-6\">A sua assinatura não está ativa. Renove para continuar a usar o sistema.</p>\r\n-                    <a href=\"OrgBoletos.html\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                        Renovar Assinatura <i class=\"fas fa-credit-card ml-2\"></i>\r\n-                    </a>`;\r\n-            }\r\n-        } \r\n-        else {\r\n-            contentHtml = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado. Clique abaixo para aceder ao sistema.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                    Aceder ao Sistema <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>`;\r\n-        }\r\n-        loginSectionContent.innerHTML = contentHtml;\r\n+        // Agora, apenas exibimos uma mensagem simples, sem botões.\r\n+        loginSectionContent.innerHTML = `\r\n+            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+            <div class=\"text-center text-gray-300\">\r\n+                <p>Você já está autenticado.</p>\r\n+                <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n+            </div>\r\n+        `;\r\n     }\r\n \r\n-    // Lógica para o card de serviço\r\n+    // Lógica para o card de serviço (inalterada, continua a ser o ponto de entrada principal)\r\n     const boletoCardLink = document.getElementById('boleto-card-link');\r\n     if (boletoCardLink) {\r\n         const subscription = company.subscription;\r\n         const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n"
                },
                {
                    "date": 1754336490511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,9 +556,9 @@\n         loginSectionContent.innerHTML = `\r\n             <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n             <div class=\"text-center text-gray-300\">\r\n                 <p>Você já está autenticado.</p>\r\n-                <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n+                <p class=\"mt-2 text-sm\">.</p>\r\n             </div>\r\n         `;\r\n     }\r\n \r\n"
                },
                {
                    "date": 1754336695697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,9 +556,9 @@\n         loginSectionContent.innerHTML = `\r\n             <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n             <div class=\"text-center text-gray-300\">\r\n                 <p>Você já está autenticado.</p>\r\n-                <p class=\"mt-2 text-sm\">.</p>\r\n+                <p class=\"mt-2 text-sm\"></p>\r\n             </div>\r\n         `;\r\n     }\r\n \r\n@@ -872,9 +872,9 @@\n                 error.details = result.errors;\r\n                 throw error;\r\n             }\r\n             localStorage.setItem('authToken', result.token);\r\n-            window.location.href = 'OrgBoletos.html';\r\n+            window.location.reload();\r\n         } catch (error) {\r\n             if (error.details) {\r\n                 error.details.forEach(err => {\r\n                     const errorElement = document.getElementById(`${err.path}Error`);\r\n"
                },
                {
                    "date": 1754337175786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n                     </p>\r\n-                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"/pages/Desenvolvimento.html\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n"
                },
                {
                    "date": 1754338339477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,46 +64,9 @@\n         }\r\n     </style>\r\n </head>\r\n <body>\r\n-    <!-- Navbar -->\r\n-    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n-        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-20\">\r\n-                <div class=\"flex items-center\">\r\n-                <div class=\"flex-shrink-0\">\r\n-                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-20 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n-                    </a>\r\n-                </div>\r\n-                </div>\r\n-                <div class=\"hidden md:block\">\r\n-                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n-                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n-                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n-                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n-                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n-                    </div>\r\n-                </div>\r\n-                <div class=\"-mr-2 flex md:hidden\">\r\n-                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n-                        <span class=\"sr-only\">Abrir menu</span>\r\n-                        <i class=\"fas fa-bars\"></i>\r\n-                    </button>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-        \r\n-        <!-- Mobile menu -->\r\n-        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n-            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n-                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n-                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n-                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n-                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n-            </div>\r\n-        </div>\r\n-    </nav>\r\n+    <header id=\"header-placeholder\"></header>\r\n \r\n     <!-- Hero Section -->\r\n     <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n         <div class=\"max-w-7xl mx-auto\">\r\n@@ -390,65 +353,9 @@\n         </div>\r\n     </section>\r\n \r\n     <!-- Footer -->\r\n-    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n-                <div>\r\n-                    <div class=\"flex items-center logo mb-4\">\r\n-                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n-                    </div>\r\n-                    <p class=\"text-gray-400 text-sm\">\r\n-                        Soluções em tecnologia da informação com excelência e inovação.\r\n-                    </p>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n-                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n-                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n-                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n-                    </ul>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n-                    </ul>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n-                    <p class=\"text-gray-400 text-sm mb-4\">\r\n-                        Assine nossa newsletter para receber atualizações e novidades.\r\n-                    </p>\r\n-                    <form class=\"flex\">\r\n-                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n-                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n-                            <i class=\"fas fa-paper-plane\"></i>\r\n-                        </button>\r\n-                    </form>\r\n-                </div>\r\n-            </div>\r\n-            \r\n-            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n-                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n-                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n-                </p>\r\n-                <div class=\"flex space-x-6\">\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </footer>\r\n+    <footer id=\"footer-placeholder\"></footer>\r\n \r\n     <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n             \r\n@@ -524,12 +431,8 @@\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n-    // =================================================================================\r\n-\r\n function updateUIForLoggedInUser(user, company) {\r\n     const desktopMenu = document.getElementById('desktop-menu-items');\r\n     const navLoginLink = document.getElementById('nav-login-link');\r\n     const loginSectionContent = document.getElementById('login-section-content');\r\n@@ -976,8 +879,10 @@\n             contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n         }\r\n     }\r\n });\r\n+\r\n+\r\n </script>\r\n \r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n@@ -1002,7 +907,23 @@\n         </form>\r\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n+<script>\r\n+    document.addEventListener(\"DOMContentLoaded\", function() {\r\n+        // O caminho é direto porque os ficheiros estão no mesmo nível de pastas\r\n+        fetch(\"components/header.html\")\r\n+            .then(response => response.text())\r\n+            .then(data => {\r\n+                document.getElementById(\"header-placeholder\").innerHTML = data;\r\n+            });\r\n \r\n+        fetch(\"components/footer.html\")\r\n+            .then(response => response.text())\r\n+            .then(data => {\r\n+                document.getElementById(\"footer-placeholder\").innerHTML = data;\r\n+            });\r\n+    });\r\n+</script>\r\n+\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754346343909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n                     </p>\r\n-                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n"
                },
                {
                    "date": 1754346364719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n                     </p>\r\n-                    <a href=\"infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"/pages/infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n"
                },
                {
                    "date": 1754347179936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -907,8 +907,37 @@\n         </form>\r\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n+\r\n+<div id=\"termsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\r\n+        <div class=\"flex justify-between items-center p-4 border-b border-gray-700\">\r\n+            <h2 class=\"text-xl font-semibold text-white\">Termos de Serviço</h2>\r\n+            <button id=\"closeTermsModalBtn\" class=\"text-gray-400 hover:text-white\">\r\n+                <i class=\"fas fa-times text-2xl\"></i>\r\n+            </button>\r\n+        </div>\r\n+        <div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n+            <p class=\"mb-2 text-sm text-gray-400\">Última atualização: 4 de Agosto de 2025</p>\r\n+            \r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">1. Aceitação dos Termos</h3>\r\n+            <p class=\"mb-4\">Ao aceder e utilizar o [Nome da Plataforma], você concorda em cumprir e estar vinculado a estes Termos de Serviço. Se não concordar com qualquer parte dos termos, não poderá utilizar os nossos serviços.</p>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">2. Descrição do Serviço</h3>\r\n+            <p class=\"mb-4\">[Nome da Plataforma] fornece um serviço de organização e gestão de boletos online. O serviço é fornecido \"como está\", sem garantias de qualquer tipo.</p>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">3. Contas de Utilizador</h3>\r\n+            <p class=\"mb-4\">Para aceder ao serviço, você deve registar-se e manter as informações da sua conta precisas e seguras. Você é responsável por todas as atividades que ocorrem na sua conta.</p>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">4. Pagamentos e Assinaturas</h3>\r\n+            <p class=\"mb-4\">O acesso a certas funcionalidades do serviço pode exigir o pagamento de uma assinatura. As taxas de assinatura são faturadas antecipadamente, de forma recorrente, e não são reembolsáveis.</p>\r\n+            \r\n+            <p class=\"mt-6 text-center text-gray-400\">--- Fim dos Termos ---</p>\r\n+        </div>\r\n+    </div>\r\n+</div>\r\n+\r\n <script>\r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n         // O caminho é direto porque os ficheiros estão no mesmo nível de pastas\r\n         fetch(\"components/header.html\")\r\n"
                },
                {
                    "date": 1754347244423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -880,9 +880,35 @@\n         }\r\n     }\r\n });\r\n \r\n+setTimeout(() => {\r\n+    const termsModal = document.getElementById('termsModal');\r\n+    const openBtn = document.getElementById('openTermsModalBtn');\r\n+    const closeBtn = document.getElementById('closeTermsModalBtn');\r\n \r\n+    if (termsModal && openBtn && closeBtn) {\r\n+        // Abre o modal ao clicar no link do rodapé\r\n+        openBtn.addEventListener('click', (e) => {\r\n+            e.preventDefault(); // Impede que a página suba ao topo\r\n+            termsModal.classList.remove('hidden');\r\n+        });\r\n+\r\n+        // Fecha o modal ao clicar no botão 'X'\r\n+        closeBtn.addEventListener('click', () => {\r\n+            termsModal.classList.add('hidden');\r\n+        });\r\n+        \r\n+        // Fecha o modal ao clicar no fundo escuro\r\n+        termsModal.addEventListener('click', (e) => {\r\n+            if (e.target === termsModal) {\r\n+                termsModal.classList.add('hidden');\r\n+            }\r\n+        });\r\n+    }\r\n+}, 500); // 500ms de atraso\r\n+\r\n+\r\n </script>\r\n \r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n"
                },
                {
                    "date": 1754347369834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -934,34 +934,63 @@\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n \r\n-<div id=\"termsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\r\n-        <div class=\"flex justify-between items-center p-4 border-b border-gray-700\">\r\n-            <h2 class=\"text-xl font-semibold text-white\">Termos de Serviço</h2>\r\n-            <button id=\"closeTermsModalBtn\" class=\"text-gray-400 hover:text-white\">\r\n-                <i class=\"fas fa-times text-2xl\"></i>\r\n-            </button>\r\n-        </div>\r\n-        <div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n-            <p class=\"mb-2 text-sm text-gray-400\">Última atualização: 4 de Agosto de 2025</p>\r\n-            \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">1. Aceitação dos Termos</h3>\r\n-            <p class=\"mb-4\">Ao aceder e utilizar o [Nome da Plataforma], você concorda em cumprir e estar vinculado a estes Termos de Serviço. Se não concordar com qualquer parte dos termos, não poderá utilizar os nossos serviços.</p>\r\n+<div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n+    <p class=\"mb-4 text-sm text-gray-400\">Última atualização: 04 de agosto de 2025</p>\r\n+    <h2 class=\"text-2xl font-bold text-white mb-4\">Bem-vindo à LobosTI!</h2>\r\n+    <p class=\"mb-6\">Estes Termos de Serviço regulam o uso do nosso site e plataforma de serviços digitais, incluindo, mas não se limitando ao sistema Organizador de Boletos.</p>\r\n+    \r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">1. Aceitação dos Termos</h3>\r\n+    <p class=\"mb-4\">Ao aceder ou utilizar qualquer serviço da LobosTI, você concorda em cumprir estes Termos. Se não concordar com algum item, não utilize os nossos serviços.</p>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">2. Descrição do Serviço</h3>\r\n-            <p class=\"mb-4\">[Nome da Plataforma] fornece um serviço de organização e gestão de boletos online. O serviço é fornecido \"como está\", sem garantias de qualquer tipo.</p>\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">2. Serviços Oferecidos</h3>\r\n+    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+        <li>Organização e gerenciamento de boletos via plataforma online;</li>\r\n+        <li>Desenvolvimento de software sob demanda;</li>\r\n+        <li>Suporte técnico remoto e presencial;</li>\r\n+        <li>Projetos e manutenção de infraestrutura de redes.</li>\r\n+    </ul>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">3. Contas de Utilizador</h3>\r\n-            <p class=\"mb-4\">Para aceder ao serviço, você deve registar-se e manter as informações da sua conta precisas e seguras. Você é responsável por todas as atividades que ocorrem na sua conta.</p>\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">3. Cadastro e Conta</h3>\r\n+    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+        <li>Para utilizar alguns serviços, é necessário criar uma conta com dados verídicos;</li>\r\n+        <li>Empresas devem cadastrar CNPJ e informações do responsável legal;</li>\r\n+        <li>É de sua responsabilidade manter a confidencialidade das credenciais de acesso.</li>\r\n+    </ul>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">4. Pagamentos e Assinaturas</h3>\r\n-            <p class=\"mb-4\">O acesso a certas funcionalidades do serviço pode exigir o pagamento de uma assinatura. As taxas de assinatura são faturadas antecipadamente, de forma recorrente, e não são reembolsáveis.</p>\r\n-            \r\n-            <p class=\"mt-6 text-center text-gray-400\">--- Fim dos Termos ---</p>\r\n-        </div>\r\n-    </div>\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">4. Assinaturas e Pagamentos</h3>\r\n+    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+        <li>Algumas funcionalidades estão disponíveis apenas mediante assinatura ativa;</li>\r\n+        <li>O não pagamento da assinatura resultará em restrições de acesso;</li>\r\n+        <li>Cancelamentos e renovações estão sujeitos às políticas comerciais da empresa.</li>\r\n+    </ul>\r\n+\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">5. Uso Aceitável</h3>\r\n+    <p>Você se compromete a:</p>\r\n+    <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n+        <li>Não utilizar os serviços para fins ilegais;</li>\r\n+        <li>Não interferir com o funcionamento da plataforma;</li>\r\n+        <li>Respeitar a integridade dos dados e informações de outros usuários.</li>\r\n+    </ul>\r\n+\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">6. Responsabilidades</h3>\r\n+    <p>A LobosTI não se responsabiliza por:</p>\r\n+    <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n+        <li>Perdas de dados ocasionadas por mau uso ou negligência;</li>\r\n+        <li>Interrupções temporárias decorrentes de manutenção ou falhas técnicas;</li>\r\n+        <li>Conteúdo inserido ou gerado pelos próprios usuários.</li>\r\n+    </ul>\r\n+\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">7. Rescisão</h3>\r\n+    <p class=\"mb-4\">Reservamo-nos o direito de suspender ou encerrar contas que violem estes termos, sem aviso prévio.</p>\r\n+\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">8. Alterações</h3>\r\n+    <p class=\"mb-4\">Estes termos podem ser alterados a qualquer momento. As mudanças entrarão em vigor após a publicação no site.</p>\r\n+\r\n+    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">9. Contato</h3>\r\n+    <p class=\"mb-4\">Dúvidas sobre estes Termos? Envie um e-mail para: <a href=\"mailto:lobosti@outlook.com\" class=\"text-indigo-400 hover:underline\">lobosti@outlook.com</a></p>\r\n+\r\n </div>\r\n \r\n <script>\r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n"
                },
                {
                    "date": 1754347386861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -934,63 +934,34 @@\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n \r\n-<div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n-    <p class=\"mb-4 text-sm text-gray-400\">Última atualização: 04 de agosto de 2025</p>\r\n-    <h2 class=\"text-2xl font-bold text-white mb-4\">Bem-vindo à LobosTI!</h2>\r\n-    <p class=\"mb-6\">Estes Termos de Serviço regulam o uso do nosso site e plataforma de serviços digitais, incluindo, mas não se limitando ao sistema Organizador de Boletos.</p>\r\n-    \r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">1. Aceitação dos Termos</h3>\r\n-    <p class=\"mb-4\">Ao aceder ou utilizar qualquer serviço da LobosTI, você concorda em cumprir estes Termos. Se não concordar com algum item, não utilize os nossos serviços.</p>\r\n+<div id=\"termsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\r\n+        <div class=\"flex justify-between items-center p-4 border-b border-gray-700\">\r\n+            <h2 class=\"text-xl font-semibold text-white\">Termos de Serviço</h2>\r\n+            <button id=\"closeTermsModalBtn\" class=\"text-gray-400 hover:text-white\">\r\n+                <i class=\"fas fa-times text-2xl\"></i>\r\n+            </button>\r\n+        </div>\r\n+        <div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n+            <p class=\"mb-2 text-sm text-gray-400\">Última atualização: 4 de Agosto de 2025</p>\r\n+            \r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">1. Aceitação dos Termos</h3>\r\n+            <p class=\"mb-4\">Ao aceder e utilizar o [Nome da Plataforma], você concorda em cumprir e estar vinculado a estes Termos de Serviço. Se não concordar com qualquer parte dos termos, não poderá utilizar os nossos serviços.</p>\r\n \r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">2. Serviços Oferecidos</h3>\r\n-    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-        <li>Organização e gerenciamento de boletos via plataforma online;</li>\r\n-        <li>Desenvolvimento de software sob demanda;</li>\r\n-        <li>Suporte técnico remoto e presencial;</li>\r\n-        <li>Projetos e manutenção de infraestrutura de redes.</li>\r\n-    </ul>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">2. Descrição do Serviço</h3>\r\n+            <p class=\"mb-4\">[Nome da Plataforma] fornece um serviço de organização e gestão de boletos online. O serviço é fornecido \"como está\", sem garantias de qualquer tipo.</p>\r\n \r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">3. Cadastro e Conta</h3>\r\n-    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-        <li>Para utilizar alguns serviços, é necessário criar uma conta com dados verídicos;</li>\r\n-        <li>Empresas devem cadastrar CNPJ e informações do responsável legal;</li>\r\n-        <li>É de sua responsabilidade manter a confidencialidade das credenciais de acesso.</li>\r\n-    </ul>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">3. Contas de Utilizador</h3>\r\n+            <p class=\"mb-4\">Para aceder ao serviço, você deve registar-se e manter as informações da sua conta precisas e seguras. Você é responsável por todas as atividades que ocorrem na sua conta.</p>\r\n \r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">4. Assinaturas e Pagamentos</h3>\r\n-    <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-        <li>Algumas funcionalidades estão disponíveis apenas mediante assinatura ativa;</li>\r\n-        <li>O não pagamento da assinatura resultará em restrições de acesso;</li>\r\n-        <li>Cancelamentos e renovações estão sujeitos às políticas comerciais da empresa.</li>\r\n-    </ul>\r\n-\r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">5. Uso Aceitável</h3>\r\n-    <p>Você se compromete a:</p>\r\n-    <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n-        <li>Não utilizar os serviços para fins ilegais;</li>\r\n-        <li>Não interferir com o funcionamento da plataforma;</li>\r\n-        <li>Respeitar a integridade dos dados e informações de outros usuários.</li>\r\n-    </ul>\r\n-\r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">6. Responsabilidades</h3>\r\n-    <p>A LobosTI não se responsabiliza por:</p>\r\n-    <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n-        <li>Perdas de dados ocasionadas por mau uso ou negligência;</li>\r\n-        <li>Interrupções temporárias decorrentes de manutenção ou falhas técnicas;</li>\r\n-        <li>Conteúdo inserido ou gerado pelos próprios usuários.</li>\r\n-    </ul>\r\n-\r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">7. Rescisão</h3>\r\n-    <p class=\"mb-4\">Reservamo-nos o direito de suspender ou encerrar contas que violem estes termos, sem aviso prévio.</p>\r\n-\r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">8. Alterações</h3>\r\n-    <p class=\"mb-4\">Estes termos podem ser alterados a qualquer momento. As mudanças entrarão em vigor após a publicação no site.</p>\r\n-\r\n-    <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">9. Contato</h3>\r\n-    <p class=\"mb-4\">Dúvidas sobre estes Termos? Envie um e-mail para: <a href=\"mailto:lobosti@outlook.com\" class=\"text-indigo-400 hover:underline\">lobosti@outlook.com</a></p>\r\n-\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">4. Pagamentos e Assinaturas</h3>\r\n+            <p class=\"mb-4\">O acesso a certas funcionalidades do serviço pode exigir o pagamento de uma assinatura. As taxas de assinatura são faturadas antecipadamente, de forma recorrente, e não são reembolsáveis.</p>\r\n+            \r\n+            <p class=\"mt-6 text-center text-gray-400\">--- Fim dos Termos ---</p>\r\n+        </div>\r\n+    </div>\r\n </div>\r\n \r\n <script>\r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n"
                },
                {
                    "date": 1754347404596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -943,23 +943,62 @@\n                 <i class=\"fas fa-times text-2xl\"></i>\r\n             </button>\r\n         </div>\r\n         <div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n-            <p class=\"mb-2 text-sm text-gray-400\">Última atualização: 4 de Agosto de 2025</p>\r\n+            <p class=\"mb-4 text-sm text-gray-400\">Última atualização: 04 de agosto de 2025</p>\r\n+            <h2 class=\"text-2xl font-bold text-white mb-4\">Bem-vindo à LobosTI!</h2>\r\n+            <p class=\"mb-6\">Estes Termos de Serviço regulam o uso do nosso site e plataforma de serviços digitais, incluindo, mas não se limitando ao sistema Organizador de Boletos.</p>\r\n             \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">1. Aceitação dos Termos</h3>\r\n-            <p class=\"mb-4\">Ao aceder e utilizar o [Nome da Plataforma], você concorda em cumprir e estar vinculado a estes Termos de Serviço. Se não concordar com qualquer parte dos termos, não poderá utilizar os nossos serviços.</p>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">1. Aceitação dos Termos</h3>\r\n+            <p class=\"mb-4\">Ao aceder ou utilizar qualquer serviço da LobosTI, você concorda em cumprir estes Termos. Se não concordar com algum item, não utilize os nossos serviços.</p>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">2. Descrição do Serviço</h3>\r\n-            <p class=\"mb-4\">[Nome da Plataforma] fornece um serviço de organização e gestão de boletos online. O serviço é fornecido \"como está\", sem garantias de qualquer tipo.</p>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">2. Serviços Oferecidos</h3>\r\n+            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+                <li>Organização e gerenciamento de boletos via plataforma online;</li>\r\n+                <li>Desenvolvimento de software sob demanda;</li>\r\n+                <li>Suporte técnico remoto e presencial;</li>\r\n+                <li>Projetos e manutenção de infraestrutura de redes.</li>\r\n+            </ul>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">3. Contas de Utilizador</h3>\r\n-            <p class=\"mb-4\">Para aceder ao serviço, você deve registar-se e manter as informações da sua conta precisas e seguras. Você é responsável por todas as atividades que ocorrem na sua conta.</p>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">3. Cadastro e Conta</h3>\r\n+            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+                <li>Para utilizar alguns serviços, é necessário criar uma conta com dados verídicos;</li>\r\n+                <li>Empresas devem cadastrar CNPJ e informações do responsável legal;</li>\r\n+                <li>É de sua responsabilidade manter a confidencialidade das credenciais de acesso.</li>\r\n+            </ul>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-4 mb-2\">4. Pagamentos e Assinaturas</h3>\r\n-            <p class=\"mb-4\">O acesso a certas funcionalidades do serviço pode exigir o pagamento de uma assinatura. As taxas de assinatura são faturadas antecipadamente, de forma recorrente, e não são reembolsáveis.</p>\r\n-            \r\n-            <p class=\"mt-6 text-center text-gray-400\">--- Fim dos Termos ---</p>\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">4. Assinaturas e Pagamentos</h3>\r\n+            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n+                <li>Algumas funcionalidades estão disponíveis apenas mediante assinatura ativa;</li>\r\n+                <li>O não pagamento da assinatura resultará em restrições de acesso;</li>\r\n+                <li>Cancelamentos e renovações estão sujeitos às políticas comerciais da empresa.</li>\r\n+            </ul>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">5. Uso Aceitável</h3>\r\n+            <p>Você se compromete a:</p>\r\n+            <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n+                <li>Não utilizar os serviços para fins ilegais;</li>\r\n+                <li>Não interferir com o funcionamento da plataforma;</li>\r\n+                <li>Respeitar a integridade dos dados e informações de outros usuários.</li>\r\n+            </ul>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">6. Responsabilidades</h3>\r\n+            <p>A LobosTI não se responsabiliza por:</p>\r\n+            <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n+                <li>Perdas de dados ocasionadas por mau uso ou negligência;</li>\r\n+                <li>Interrupções temporárias decorrentes de manutenção ou falhas técnicas;</li>\r\n+                <li>Conteúdo inserido ou gerado pelos próprios usuários.</li>\r\n+            </ul>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">7. Rescisão</h3>\r\n+            <p class=\"mb-4\">Reservamo-nos o direito de suspender ou encerrar contas que violem estes termos, sem aviso prévio.</p>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">8. Alterações</h3>\r\n+            <p class=\"mb-4\">Estes termos podem ser alterados a qualquer momento. As mudanças entrarão em vigor após a publicação no site.</p>\r\n+\r\n+            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">9. Contato</h3>\r\n+            <p class=\"mb-4\">Dúvidas sobre estes Termos? Envie um e-mail para: <a href=\"mailto:lobosti@outlook.com\" class=\"text-indigo-400 hover:underline\">lobosti@outlook.com</a></p>\r\n+\r\n         </div>\r\n     </div>\r\n </div>\r\n \r\n"
                },
                {
                    "date": 1754347834981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -934,75 +934,10 @@\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n \r\n-<div id=\"termsModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\r\n-        <div class=\"flex justify-between items-center p-4 border-b border-gray-700\">\r\n-            <h2 class=\"text-xl font-semibold text-white\">Termos de Serviço</h2>\r\n-            <button id=\"closeTermsModalBtn\" class=\"text-gray-400 hover:text-white\">\r\n-                <i class=\"fas fa-times text-2xl\"></i>\r\n-            </button>\r\n-        </div>\r\n-        <div class=\"p-6 text-gray-300 overflow-y-auto\">\r\n-            <p class=\"mb-4 text-sm text-gray-400\">Última atualização: 04 de agosto de 2025</p>\r\n-            <h2 class=\"text-2xl font-bold text-white mb-4\">Bem-vindo à LobosTI!</h2>\r\n-            <p class=\"mb-6\">Estes Termos de Serviço regulam o uso do nosso site e plataforma de serviços digitais, incluindo, mas não se limitando ao sistema Organizador de Boletos.</p>\r\n-            \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">1. Aceitação dos Termos</h3>\r\n-            <p class=\"mb-4\">Ao aceder ou utilizar qualquer serviço da LobosTI, você concorda em cumprir estes Termos. Se não concordar com algum item, não utilize os nossos serviços.</p>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">2. Serviços Oferecidos</h3>\r\n-            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-                <li>Organização e gerenciamento de boletos via plataforma online;</li>\r\n-                <li>Desenvolvimento de software sob demanda;</li>\r\n-                <li>Suporte técnico remoto e presencial;</li>\r\n-                <li>Projetos e manutenção de infraestrutura de redes.</li>\r\n-            </ul>\r\n \r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">3. Cadastro e Conta</h3>\r\n-            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-                <li>Para utilizar alguns serviços, é necessário criar uma conta com dados verídicos;</li>\r\n-                <li>Empresas devem cadastrar CNPJ e informações do responsável legal;</li>\r\n-                <li>É de sua responsabilidade manter a confidencialidade das credenciais de acesso.</li>\r\n-            </ul>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">4. Assinaturas e Pagamentos</h3>\r\n-            <ul class=\"list-disc list-inside space-y-2 mb-4\">\r\n-                <li>Algumas funcionalidades estão disponíveis apenas mediante assinatura ativa;</li>\r\n-                <li>O não pagamento da assinatura resultará em restrições de acesso;</li>\r\n-                <li>Cancelamentos e renovações estão sujeitos às políticas comerciais da empresa.</li>\r\n-            </ul>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">5. Uso Aceitável</h3>\r\n-            <p>Você se compromete a:</p>\r\n-            <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n-                <li>Não utilizar os serviços para fins ilegais;</li>\r\n-                <li>Não interferir com o funcionamento da plataforma;</li>\r\n-                <li>Respeitar a integridade dos dados e informações de outros usuários.</li>\r\n-            </ul>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">6. Responsabilidades</h3>\r\n-            <p>A LobosTI não se responsabiliza por:</p>\r\n-            <ul class=\"list-disc list-inside space-y-2 mb-4 ml-4\">\r\n-                <li>Perdas de dados ocasionadas por mau uso ou negligência;</li>\r\n-                <li>Interrupções temporárias decorrentes de manutenção ou falhas técnicas;</li>\r\n-                <li>Conteúdo inserido ou gerado pelos próprios usuários.</li>\r\n-            </ul>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">7. Rescisão</h3>\r\n-            <p class=\"mb-4\">Reservamo-nos o direito de suspender ou encerrar contas que violem estes termos, sem aviso prévio.</p>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">8. Alterações</h3>\r\n-            <p class=\"mb-4\">Estes termos podem ser alterados a qualquer momento. As mudanças entrarão em vigor após a publicação no site.</p>\r\n-\r\n-            <h3 class=\"text-lg font-bold text-indigo-400 mt-6 mb-2\">9. Contato</h3>\r\n-            <p class=\"mb-4\">Dúvidas sobre estes Termos? Envie um e-mail para: <a href=\"mailto:lobosti@outlook.com\" class=\"text-indigo-400 hover:underline\">lobosti@outlook.com</a></p>\r\n-\r\n-        </div>\r\n-    </div>\r\n-</div>\r\n-\r\n <script>\r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n         // O caminho é direto porque os ficheiros estão no mesmo nível de pastas\r\n         fetch(\"components/header.html\")\r\n"
                },
                {
                    "date": 1754347969791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -880,35 +880,11 @@\n         }\r\n     }\r\n });\r\n \r\n-setTimeout(() => {\r\n-    const termsModal = document.getElementById('termsModal');\r\n-    const openBtn = document.getElementById('openTermsModalBtn');\r\n-    const closeBtn = document.getElementById('closeTermsModalBtn');\r\n \r\n-    if (termsModal && openBtn && closeBtn) {\r\n-        // Abre o modal ao clicar no link do rodapé\r\n-        openBtn.addEventListener('click', (e) => {\r\n-            e.preventDefault(); // Impede que a página suba ao topo\r\n-            termsModal.classList.remove('hidden');\r\n-        });\r\n \r\n-        // Fecha o modal ao clicar no botão 'X'\r\n-        closeBtn.addEventListener('click', () => {\r\n-            termsModal.classList.add('hidden');\r\n-        });\r\n-        \r\n-        // Fecha o modal ao clicar no fundo escuro\r\n-        termsModal.addEventListener('click', (e) => {\r\n-            if (e.target === termsModal) {\r\n-                termsModal.classList.add('hidden');\r\n-            }\r\n-        });\r\n-    }\r\n-}, 500); // 500ms de atraso\r\n \r\n-\r\n </script>\r\n \r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n"
                },
                {
                    "date": 1754348075233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,8 +353,9 @@\n         </div>\r\n     </section>\r\n \r\n     <!-- Footer -->\r\n+    <div id=\"modals-placeholder\"></div>\r\n     <footer id=\"footer-placeholder\"></footer>\r\n \r\n     <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n         <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n@@ -913,22 +914,38 @@\n \r\n \r\n \r\n <script>\r\n-    document.addEventListener(\"DOMContentLoaded\", function() {\r\n-        // O caminho é direto porque os ficheiros estão no mesmo nível de pastas\r\n-        fetch(\"components/header.html\")\r\n-            .then(response => response.text())\r\n-            .then(data => {\r\n-                document.getElementById(\"header-placeholder\").innerHTML = data;\r\n-            });\r\n+document.addEventListener(\"DOMContentLoaded\", function() {\r\n+    const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n+    const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n+    const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-        fetch(\"components/footer.html\")\r\n-            .then(response => response.text())\r\n+    // Deteta se estamos numa subpasta (como /pages/) para ajustar os caminhos\r\n+    const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+\r\n+    // Função para carregar um componente HTML\r\n+    const loadComponent = (url, placeholder) => {\r\n+        return fetch(url)\r\n+            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n             .then(data => {\r\n-                document.getElementById(\"footer-placeholder\").innerHTML = data;\r\n+                if (placeholder) placeholder.innerHTML = data;\r\n             });\r\n-    });\r\n+    };\r\n+    \r\n+    // Carrega todos os componentes HTML ao mesmo tempo\r\n+    Promise.all([\r\n+        loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n+        loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n+        loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n+    ]).then(() => {\r\n+        console.log('Componentes HTML carregados. A carregar scripts...');\r\n+        // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n+        const modalScript = document.createElement('script');\r\n+        modalScript.src = `${basePath}scripts/modals.js`;\r\n+        document.body.appendChild(modalScript);\r\n+    }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n+});\r\n </script>\r\n \r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754353954329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n                     </p>\r\n-                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1754353979257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n                     </p>\r\n-                    <a href=\"suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"/pages/suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n                         Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1754354746864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -937,9 +937,9 @@\n         loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n         loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n         loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n     ]).then(() => {\r\n-        console.log('Componentes HTML carregados. A carregar scripts...');\r\n+        // console.log('Componentes HTML carregados. A carregar scripts...');\r\n         // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n         const modalScript = document.createElement('script');\r\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n"
                },
                {
                    "date": 1754355062909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -658,13 +658,13 @@\n         }\r\n         \r\n         // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n         if (!isLoggedIn) {\r\n-            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-            if (logoElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                logoElement.addEventListener('click', (e) => {\r\n+        const wolfImageElement = document.querySelector('.animated-wolf');\r\n+        if (wolfImageElement) {\r\n+            let clickCount = 0;\r\n+            let clickTimer = null;\r\n+            wolfImageElement.addEventListener('click', (e) => {\r\n                     if (document.getElementById('mainLoginForm')) {\r\n                         e.preventDefault();\r\n                         clickCount++;\r\n                         clearTimeout(clickTimer);\r\n"
                },
                {
                    "date": 1754355458489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -433,13 +433,42 @@\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n function updateUIForLoggedInUser(user, company) {\r\n+    // 1. Declarar todas as variáveis de elementos do DOM no início\r\n     const desktopMenu = document.getElementById('desktop-menu-items');\r\n     const navLoginLink = document.getElementById('nav-login-link');\r\n     const loginSectionContent = document.getElementById('login-section-content');\r\n-    \r\n-    // Lógica da Barra de Navegação (inalterada)\r\n+    const boletoCardLink = document.getElementById('boleto-card-link'); // Declaração ÚNICA\r\n+\r\n+    // 2. Lógica Unificada e Corrigida para o Card do Organizador de Boletos\r\n+    if (boletoCardLink && user && company) {\r\n+        // Remove classes de cor antigas para evitar acumulação\r\n+        boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+\r\n+        // Estrutura de decisão com a prioridade correta\r\n+        if (user.role === 'SuperAdmin') {\r\n+            boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+            boletoCardLink.classList.add('text-yellow-500'); // Cor para o Admin\r\n+        } else if (user.role === 'Proprietário') {\r\n+            const subscription = company.subscription || {};\r\n+            const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+            \r\n+            if (isSubscriptionActive) {\r\n+                boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-green-500'); // Cor para assinatura ativa\r\n+            } else {\r\n+                boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-red-500'); // Cor para assinatura inativa/expirada\r\n+            }\r\n+        } else {\r\n+            // Para outros utilizadores logados (ex: Gerente, Funcionário)\r\n+            boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+            boletoCardLink.classList.add('text-green-500');\r\n+        }\r\n+    }\r\n+\r\n+    // 3. Lógica da Barra de Navegação (inalterada)\r\n     if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n         navLoginLink.textContent = 'Aceder ao Painel';\r\n         navLoginLink.href = 'OrgBoletos.html';\r\n         const logoutButton = document.createElement('button');\r\n@@ -453,41 +482,18 @@\n             window.location.reload();\r\n         });\r\n     }\r\n \r\n-    // --- LÓGICA SIMPLIFICADA PARA A SECÇÃO DE LOGIN ---\r\n+    // 4. Lógica para a Secção de Login (inalterada)\r\n     if (loginSectionContent) {\r\n-        // Agora, apenas exibimos uma mensagem simples, sem botões.\r\n         loginSectionContent.innerHTML = `\r\n             <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n             <div class=\"text-center text-gray-300\">\r\n                 <p>Você já está autenticado.</p>\r\n                 <p class=\"mt-2 text-sm\"></p>\r\n             </div>\r\n         `;\r\n     }\r\n-\r\n-    // Lógica para o card de serviço (inalterada, continua a ser o ponto de entrada principal)\r\n-    const boletoCardLink = document.getElementById('boleto-card-link');\r\n-    if (boletoCardLink) {\r\n-        const subscription = company.subscription;\r\n-        const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-        \r\n-        boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n-\r\n-        if (user.role === 'Proprietário') {\r\n-            if (isSubscriptionActive) {\r\n-                boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-green-500');\r\n-            } else {\r\n-                boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-red-500');\r\n-            }\r\n-        } else {\r\n-            boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-            boletoCardLink.classList.add('text-green-500');\r\n-        }\r\n-    }\r\n }\r\n \r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n"
                },
                {
                    "date": 1754358646395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -432,69 +432,76 @@\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n-function updateUIForLoggedInUser(user, company) {\r\n-    // 1. Declarar todas as variáveis de elementos do DOM no início\r\n-    const desktopMenu = document.getElementById('desktop-menu-items');\r\n-    const navLoginLink = document.getElementById('nav-login-link');\r\n-    const loginSectionContent = document.getElementById('login-section-content');\r\n-    const boletoCardLink = document.getElementById('boleto-card-link'); // Declaração ÚNICA\r\n+    function updateUIForLoggedInUser(user, company) {\r\n+        // 1. Declarar todas as variáveis de elementos do DOM no início\r\n+        const loginSectionContent = document.getElementById('login-section-content');\r\n+        const boletoCardLink = document.getElementById('boleto-card-link');\r\n+        const navLoginLink = document.getElementById('nav-login-link');\r\n+        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n \r\n-    // 2. Lógica Unificada e Corrigida para o Card do Organizador de Boletos\r\n-    if (boletoCardLink && user && company) {\r\n-        // Remove classes de cor antigas para evitar acumulação\r\n-        boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+        // 2. Lógica Unificada para o Card do Organizador de Boletos (inalterada)\r\n+        if (boletoCardLink && user && company) {\r\n+            boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n \r\n-        // Estrutura de decisão com a prioridade correta\r\n-        if (user.role === 'SuperAdmin') {\r\n-            boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-            boletoCardLink.classList.add('text-yellow-500'); // Cor para o Admin\r\n-        } else if (user.role === 'Proprietário') {\r\n-            const subscription = company.subscription || {};\r\n-            const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-            \r\n-            if (isSubscriptionActive) {\r\n-                boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-green-500'); // Cor para assinatura ativa\r\n+            if (user.role === 'SuperAdmin') {\r\n+                boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-yellow-500');\r\n+            } else if (user.role === 'Proprietário') {\r\n+                const subscription = company.subscription || {};\r\n+                const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+                \r\n+                if (isSubscriptionActive) {\r\n+                    boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-green-500');\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-red-500');\r\n+                }\r\n             } else {\r\n-                boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-red-500'); // Cor para assinatura inativa/expirada\r\n+                boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                boletoCardLink.classList.add('text-green-500');\r\n             }\r\n-        } else {\r\n-            // Para outros utilizadores logados (ex: Gerente, Funcionário)\r\n-            boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-            boletoCardLink.classList.add('text-green-500');\r\n         }\r\n-    }\r\n \r\n-    // 3. Lógica da Barra de Navegação (inalterada)\r\n-    if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n-        navLoginLink.textContent = 'Aceder ao Painel';\r\n-        navLoginLink.href = 'OrgBoletos.html';\r\n-        const logoutButton = document.createElement('button');\r\n-        logoutButton.id = 'nav-logout-btn';\r\n-        logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-        logoutButton.textContent = 'Sair';\r\n-        desktopMenu.appendChild(logoutButton);\r\n-\r\n-        logoutButton.addEventListener('click', () => {\r\n+        // --- 3. LÓGICA CORRIGIDA PARA SUBSTITUIR LOGIN POR LOGOUT ---\r\n+        const logoutFunction = () => {\r\n             localStorage.removeItem('authToken');\r\n             window.location.reload();\r\n-        });\r\n-    }\r\n+        };\r\n \r\n-    // 4. Lógica para a Secção de Login (inalterada)\r\n-    if (loginSectionContent) {\r\n-        loginSectionContent.innerHTML = `\r\n-            <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n-            <div class=\"text-center text-gray-300\">\r\n-                <p>Você já está autenticado.</p>\r\n-                <p class=\"mt-2 text-sm\"></p>\r\n-            </div>\r\n-        `;\r\n+        // Altera o botão no menu de desktop\r\n+        if (navLoginLink) {\r\n+            const logoutButton = document.createElement('button');\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+            logoutButton.textContent = 'Logout';\r\n+            logoutButton.onclick = logoutFunction;\r\n+\r\n+            // Substitui o link 'Login' pelo novo botão 'Logout'\r\n+            navLoginLink.replaceWith(logoutButton);\r\n+        }\r\n+\r\n+        // Altera o link no menu móvel\r\n+        if (mobileNavLoginLink) {\r\n+            mobileNavLoginLink.textContent = 'Logout';\r\n+            mobileNavLoginLink.href = '#'; // Remove a navegação padrão\r\n+            mobileNavLoginLink.onclick = (e) => {\r\n+                e.preventDefault();\r\n+                logoutFunction();\r\n+            };\r\n+        }\r\n+\r\n+        // 4. Lógica para a Secção de Login (inalterada)\r\n+        if (loginSectionContent) {\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+                <div class=\"text-center text-gray-300\">\r\n+                    <p>Você já está autenticado.</p>\r\n+                </div>\r\n+            `;\r\n+        }\r\n     }\r\n-}\r\n \r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n         fields.forEach(id => {\r\n"
                },
                {
                    "date": 1754359193060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,79 +356,10 @@\n     <!-- Footer -->\r\n     <div id=\"modals-placeholder\"></div>\r\n     <footer id=\"footer-placeholder\"></footer>\r\n \r\n-    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n-            \r\n-            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-                <i class=\"fas fa-times fa-lg\"></i>\r\n-            </button>\r\n \r\n-            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n \r\n-            <form id=\"registerForm\">\r\n-                <div id=\"register-step-1\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div>\r\n-                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n-                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n-                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n-                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n-                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                    </div>\r\n-                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                    </button>\r\n-                </div>\r\n-\r\n-                <div id=\"register-step-2\" class=\"hidden\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div>\r\n-                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n-                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n-                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n-                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n-                    </div>\r\n-                    <div class=\"flex items-center gap-4 mt-6\">\r\n-                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n-                        </button>\r\n-                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n-                        </button>\r\n-                    </div>\r\n-                </div>\r\n-                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n-            </form>\r\n-        </div>\r\n-    </div>\r\n-\r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n@@ -899,66 +830,148 @@\n \r\n \r\n </script>\r\n \r\n-<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n-        \r\n-        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-            <i class=\"fas fa-times fa-lg\"></i>\r\n-        </button>\r\n \r\n-        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n-        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n-            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n-        </p>\r\n \r\n-        <form id=\"forgotPasswordForm\">\r\n-            <div class=\"mb-4\">\r\n-                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n-                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n-            </div>\r\n-            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n-            </button>\r\n-        </form>\r\n-        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n-    </div>\r\n-</div>\r\n \r\n \r\n+<script type=\"module\">\r\n+    import { API_BASE_URL } from './scripts/config.js';\r\n \r\n-<script>\r\n-document.addEventListener(\"DOMContentLoaded\", function() {\r\n-    const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n-    const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n-    const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n+    document.addEventListener(\"DOMContentLoaded\", function() {\r\n+        const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n+        const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n+        const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-    // Deteta se estamos numa subpasta (como /pages/) para ajustar os caminhos\r\n-    const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+        // 1. FUNÇÕES AUXILIARES E DE MANIPULAÇÃO DA UI\r\n+        // (Todas as funções que estavam no script antigo, agora organizadas aqui dentro)\r\n \r\n-    // Função para carregar um componente HTML\r\n-    const loadComponent = (url, placeholder) => {\r\n-        return fetch(url)\r\n-            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n-            .then(data => {\r\n-                if (placeholder) placeholder.innerHTML = data;\r\n-            });\r\n-    };\r\n-    \r\n-    // Carrega todos os componentes HTML ao mesmo tempo\r\n-    Promise.all([\r\n-        loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n-        loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n-        loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n-    ]).then(() => {\r\n-        // console.log('Componentes HTML carregados. A carregar scripts...');\r\n-        // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n-        const modalScript = document.createElement('script');\r\n-        modalScript.src = `${basePath}scripts/modals.js`;\r\n-        document.body.appendChild(modalScript);\r\n-    }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n-});\r\n+        const loadComponent = (url, placeholder) => {\r\n+            return fetch(url)\r\n+                .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n+                .then(data => { if (placeholder) placeholder.innerHTML = data; });\r\n+        };\r\n+\r\n+        function updateUIForLoggedInUser(user, company) {\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            const boletoCardLink = document.getElementById('boleto-card-link');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+\r\n+            if (boletoCardLink && user && company) {\r\n+                boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+                if (user.role === 'SuperAdmin') {\r\n+                    boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-yellow-500');\r\n+                } else if (user.role === 'Proprietário') {\r\n+                    const subscription = company.subscription || {};\r\n+                    const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+                    if (isSubscriptionActive) {\r\n+                        boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-green-500');\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-red-500');\r\n+                    }\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-green-500');\r\n+                }\r\n+            }\r\n+            \r\n+            const logoutFunction = () => {\r\n+                localStorage.removeItem('authToken');\r\n+                window.location.reload();\r\n+            };\r\n+\r\n+            if (navLoginLink) {\r\n+                const logoutButton = document.createElement('button');\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+                logoutButton.textContent = 'Logout';\r\n+                logoutButton.onclick = logoutFunction;\r\n+                navLoginLink.replaceWith(logoutButton);\r\n+            }\r\n+\r\n+            if (mobileNavLoginLink) {\r\n+                mobileNavLoginLink.textContent = 'Logout';\r\n+                mobileNavLoginLink.href = '#';\r\n+                mobileNavLoginLink.onclick = (e) => {\r\n+                    e.preventDefault();\r\n+                    logoutFunction();\r\n+                };\r\n+            }\r\n+            \r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+                    <div class=\"text-center text-gray-300\"><p>Você já está autenticado.</p></div>`;\r\n+            }\r\n+        }\r\n+\r\n+        // 2. LÓGICA PRINCIPAL: CARREGAR COMPONENTES E DEPOIS EXECUTAR SCRIPTS\r\n+        \r\n+        Promise.all([\r\n+            loadComponent('components/header.html', headerPlaceholder),\r\n+            loadComponent('components/footer.html', footerPlaceholder),\r\n+            loadComponent('components/modals.html', modalsPlaceholder)\r\n+        ])\r\n+        .then(async () => {\r\n+            console.log('Componentes HTML carregados. A inicializar a página...');\r\n+            \r\n+            // Adiciona o script dos modais e outros scripts gerais\r\n+            const modalScript = document.createElement('script');\r\n+            modalScript.src = 'scripts/modals.js';\r\n+            document.body.appendChild(modalScript);\r\n+\r\n+            // A. VERIFICA SESSÃO DO UTILIZADOR (AGORA NO LUGAR CORRETO)\r\n+            const token = localStorage.getItem('authToken');\r\n+            if (token) {\r\n+                try {\r\n+                    const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                    if (response.ok) {\r\n+                        const data = await response.json();\r\n+                        updateUIForLoggedInUser(data.user, data.company);\r\n+                    } else {\r\n+                        localStorage.removeItem('authToken');\r\n+                    }\r\n+                } catch (error) {\r\n+                    console.error(\"Erro ao verificar sessão:\", error);\r\n+                    localStorage.removeItem('authToken');\r\n+                }\r\n+            }\r\n+\r\n+            // B. ADICIONA OS EVENT LISTENERS DA PÁGINA\r\n+            // (Esta parte só é executada depois de tudo carregar)\r\n+\r\n+            // Easter egg do Admin\r\n+            const wolfImageElement = document.querySelector('.animated-wolf');\r\n+            if (wolfImageElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                wolfImageElement.addEventListener('click', (e) => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        e.preventDefault();\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            // Assumindo que a função activateAdminLogin está em modals.js\r\n+                            window.activateAdminLogin?.(); \r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+\r\n+            // Formulário de Contato\r\n+            const contactForm = document.getElementById('contactForm');\r\n+            if (contactForm) {\r\n+                // A sua função handleContactFormSubmit iria aqui, ou seria importada de outro ficheiro.\r\n+                // Por simplicidade, vamos assumir que está em modals.js.\r\n+            }\r\n+\r\n+        }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n+    });\r\n </script>\r\n \r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754359421569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -838,15 +838,13 @@\n <script type=\"module\">\r\n     import { API_BASE_URL } from './scripts/config.js';\r\n \r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n-        const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n-        const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n-        const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n+        \r\n+        // =================================================================================\r\n+        // SECÇÃO 1: DEFINIÇÃO DE TODAS AS FUNÇÕES\r\n+        // =================================================================================\r\n \r\n-        // 1. FUNÇÕES AUXILIARES E DE MANIPULAÇÃO DA UI\r\n-        // (Todas as funções que estavam no script antigo, agora organizadas aqui dentro)\r\n-\r\n         const loadComponent = (url, placeholder) => {\r\n             return fetch(url)\r\n                 .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n                 .then(data => { if (placeholder) placeholder.innerHTML = data; });\r\n@@ -907,31 +905,34 @@\n                     <div class=\"text-center text-gray-300\"><p>Você já está autenticado.</p></div>`;\r\n             }\r\n         }\r\n \r\n-        // 2. LÓGICA PRINCIPAL: CARREGAR COMPONENTES E DEPOIS EXECUTAR SCRIPTS\r\n+        // =================================================================================\r\n+        // SECÇÃO 2: LÓGICA PRINCIPAL DE CARREGAMENTO E INICIALIZAÇÃO\r\n+        // =================================================================================\r\n         \r\n+        const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n+        const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n+        const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n+\r\n         Promise.all([\r\n             loadComponent('components/header.html', headerPlaceholder),\r\n             loadComponent('components/footer.html', footerPlaceholder),\r\n             loadComponent('components/modals.html', modalsPlaceholder)\r\n         ])\r\n         .then(async () => {\r\n-            console.log('Componentes HTML carregados. A inicializar a página...');\r\n+            console.log('Todos os componentes HTML foram carregados.');\r\n             \r\n-            // Adiciona o script dos modais e outros scripts gerais\r\n-            const modalScript = document.createElement('script');\r\n-            modalScript.src = 'scripts/modals.js';\r\n-            document.body.appendChild(modalScript);\r\n-\r\n-            // A. VERIFICA SESSÃO DO UTILIZADOR (AGORA NO LUGAR CORRETO)\r\n+            // ETAPA 1: VERIFICAR SESSÃO DO UTILIZADOR\r\n             const token = localStorage.getItem('authToken');\r\n+            let isLoggedIn = false;\r\n             if (token) {\r\n                 try {\r\n                     const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n                     if (response.ok) {\r\n                         const data = await response.json();\r\n                         updateUIForLoggedInUser(data.user, data.company);\r\n+                        isLoggedIn = true;\r\n                     } else {\r\n                         localStorage.removeItem('authToken');\r\n                     }\r\n                 } catch (error) {\r\n@@ -939,39 +940,109 @@\n                     localStorage.removeItem('authToken');\r\n                 }\r\n             }\r\n \r\n-            // B. ADICIONA OS EVENT LISTENERS DA PÁGINA\r\n-            // (Esta parte só é executada depois de tudo carregar)\r\n+            // ETAPA 2: CONFIGURAR TODOS OS EVENT LISTENERS\r\n+            // Esta função só é chamada DEPOIS que tudo está na página.\r\n+            setupAllEventListeners(isLoggedIn);\r\n+            \r\n+            console.log('Página completamente inicializada.');\r\n+        })\r\n+        .catch(error => console.error(\"Erro fatal ao carregar componentes:\", error));\r\n+    });\r\n \r\n-            // Easter egg do Admin\r\n+    // =================================================================================\r\n+    // SECÇÃO 3: SETUP DE TODOS OS EVENTOS\r\n+    // =================================================================================\r\n+    \r\n+    function setupAllEventListeners(isLoggedIn) {\r\n+        // --- Eventos do Cabeçalho (Menu Mobile) ---\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n+\r\n+        // --- Easter Egg do Admin (só ativa se não estiver logado) ---\r\n+        if (!isLoggedIn) {\r\n             const wolfImageElement = document.querySelector('.animated-wolf');\r\n             if (wolfImageElement) {\r\n                 let clickCount = 0;\r\n                 let clickTimer = null;\r\n                 wolfImageElement.addEventListener('click', (e) => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        e.preventDefault();\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            // Assumindo que a função activateAdminLogin está em modals.js\r\n-                            window.activateAdminLogin?.(); \r\n-                        }\r\n+                    clickCount++;\r\n+                    clearTimeout(clickTimer);\r\n+                    clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                    if (clickCount === 7) {\r\n+                        activateAdminLogin();\r\n+                        clickCount = 0;\r\n                     }\r\n                 });\r\n             }\r\n+        }\r\n+        \r\n+        // --- Eventos do Formulário de Login Principal ---\r\n+        const mainLoginForm = document.getElementById('mainLoginForm');\r\n+        if (mainLoginForm) {\r\n+            // ... (A lógica do formulário de login iria aqui, se necessário no futuro)\r\n+        }\r\n \r\n-            // Formulário de Contato\r\n-            const contactForm = document.getElementById('contactForm');\r\n-            if (contactForm) {\r\n-                // A sua função handleContactFormSubmit iria aqui, ou seria importada de outro ficheiro.\r\n-                // Por simplicidade, vamos assumir que está em modals.js.\r\n-            }\r\n+        // --- Eventos dos Modais (que agora existem na página) ---\r\n+        // (Aqui entra toda a lógica que antes estava espalhada ou em modals.js)\r\n+        \r\n+        const registerModal = document.getElementById('registerModal');\r\n+        const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n \r\n-        }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n-    });\r\n+        // Lógica para abrir/fechar os modais\r\n+        const signUpBtn = document.getElementById('signUpBtn'); // Botão Cadastre-se\r\n+        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn'); // Botão Esqueci a senha\r\n+\r\n+        if (signUpBtn && registerModal) {\r\n+            signUpBtn.addEventListener('click', () => {\r\n+                registerModal.classList.remove('hidden');\r\n+            });\r\n+        }\r\n+        if (forgotPasswordBtn && forgotPasswordModal) {\r\n+            forgotPasswordBtn.addEventListener('click', () => {\r\n+                forgotPasswordModal.classList.remove('hidden');\r\n+            });\r\n+        }\r\n+        \r\n+        // Adicione aqui os listeners para os botões de FECHAR de cada modal\r\n+        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n+\r\n+        if (closeRegisterModalBtn) {\r\n+            closeRegisterModalBtn.addEventListener('click', () => registerModal.classList.add('hidden'));\r\n+        }\r\n+        if (closeForgotPasswordModalBtn) {\r\n+            closeForgotPasswordModalBtn.addEventListener('click', () => forgotPasswordModal.classList.add('hidden'));\r\n+        }\r\n+\r\n+        // Adicione aqui a lógica INTERNA dos modais (submissão de formulários, etc.)\r\n+        // Exemplo para o \"Esqueci a senha\":\r\n+        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n+        if (forgotPasswordForm) {\r\n+            // A sua função handleForgotPasswordFormSubmit iria aqui\r\n+        }\r\n+\r\n+        // E assim por diante para todos os outros eventos...\r\n+    }\r\n+\r\n+    function activateAdminLogin() {\r\n+        // Esta função precisa de estar aqui para o easter egg funcionar\r\n+        const mainLoginForm = document.getElementById('mainLoginForm');\r\n+        const loginStep1 = document.getElementById('login-step-1');\r\n+        const loginStep2 = document.getElementById('login-step-2');\r\n+        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+        if (mainLoginForm && loginStep1 && loginStep2 && mainUsernameInput) {\r\n+            mainLoginForm.dataset.isAdmin = \"true\";\r\n+            loginStep1.classList.add('hidden');\r\n+            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+            loginStep2.classList.remove('hidden');\r\n+            mainUsernameInput.focus();\r\n+        }\r\n+    }\r\n </script>\r\n \r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754359465457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -833,9 +833,9 @@\n \r\n \r\n \r\n \r\n-\r\n+<script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n     import { API_BASE_URL } from './scripts/config.js';\r\n \r\n     document.addEventListener(\"DOMContentLoaded\", function() {\r\n"
                },
                {
                    "date": 1754359508026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,10 +356,79 @@\n     <!-- Footer -->\r\n     <div id=\"modals-placeholder\"></div>\r\n     <footer id=\"footer-placeholder\"></footer>\r\n \r\n+    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n+            \r\n+            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+                <i class=\"fas fa-times fa-lg\"></i>\r\n+            </button>\r\n \r\n+            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n \r\n+            <form id=\"registerForm\">\r\n+                <div id=\"register-step-1\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n+                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n+                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n+                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n+                        </div>\r\n+                    </div>\r\n+                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div id=\"register-step-2\" class=\"hidden\">\r\n+                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n+                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                        <div>\r\n+                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n+                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n+                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n+                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                        </div>\r\n+                    </div>\r\n+                    <div class=\"flex items-center gap-4 mt-6\">\r\n+                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n+                        </button>\r\n+                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n+                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                </div>\r\n+                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n@@ -830,219 +899,66 @@\n \r\n \r\n </script>\r\n \r\n-\r\n-\r\n-\r\n-<script src=\"https://unpkg.com/imask\"></script>\r\n-<script type=\"module\">\r\n-    import { API_BASE_URL } from './scripts/config.js';\r\n-\r\n-    document.addEventListener(\"DOMContentLoaded\", function() {\r\n+<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n         \r\n-        // =================================================================================\r\n-        // SECÇÃO 1: DEFINIÇÃO DE TODAS AS FUNÇÕES\r\n-        // =================================================================================\r\n+        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+            <i class=\"fas fa-times fa-lg\"></i>\r\n+        </button>\r\n \r\n-        const loadComponent = (url, placeholder) => {\r\n-            return fetch(url)\r\n-                .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n-                .then(data => { if (placeholder) placeholder.innerHTML = data; });\r\n-        };\r\n+        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n+        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n+            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n+        </p>\r\n \r\n-        function updateUIForLoggedInUser(user, company) {\r\n-            const loginSectionContent = document.getElementById('login-section-content');\r\n-            const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            const navLoginLink = document.getElementById('nav-login-link');\r\n-            const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+        <form id=\"forgotPasswordForm\">\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n+                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n+            </div>\r\n+            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n+            </button>\r\n+        </form>\r\n+        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+    </div>\r\n+</div>\r\n \r\n-            if (boletoCardLink && user && company) {\r\n-                boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n-                if (user.role === 'SuperAdmin') {\r\n-                    boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.classList.add('text-yellow-500');\r\n-                } else if (user.role === 'Proprietário') {\r\n-                    const subscription = company.subscription || {};\r\n-                    const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-                    if (isSubscriptionActive) {\r\n-                        boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                        boletoCardLink.classList.add('text-green-500');\r\n-                    } else {\r\n-                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                        boletoCardLink.classList.add('text-red-500');\r\n-                    }\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.classList.add('text-green-500');\r\n-                }\r\n-            }\r\n-            \r\n-            const logoutFunction = () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            };\r\n \r\n-            if (navLoginLink) {\r\n-                const logoutButton = document.createElement('button');\r\n-                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-                logoutButton.textContent = 'Logout';\r\n-                logoutButton.onclick = logoutFunction;\r\n-                navLoginLink.replaceWith(logoutButton);\r\n-            }\r\n \r\n-            if (mobileNavLoginLink) {\r\n-                mobileNavLoginLink.textContent = 'Logout';\r\n-                mobileNavLoginLink.href = '#';\r\n-                mobileNavLoginLink.onclick = (e) => {\r\n-                    e.preventDefault();\r\n-                    logoutFunction();\r\n-                };\r\n-            }\r\n-            \r\n-            if (loginSectionContent) {\r\n-                loginSectionContent.innerHTML = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n-                    <div class=\"text-center text-gray-300\"><p>Você já está autenticado.</p></div>`;\r\n-            }\r\n-        }\r\n+<script>\r\n+document.addEventListener(\"DOMContentLoaded\", function() {\r\n+    const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n+    const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n+    const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-        // =================================================================================\r\n-        // SECÇÃO 2: LÓGICA PRINCIPAL DE CARREGAMENTO E INICIALIZAÇÃO\r\n-        // =================================================================================\r\n-        \r\n-        const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n-        const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n-        const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n+    // Deteta se estamos numa subpasta (como /pages/) para ajustar os caminhos\r\n+    const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n \r\n-        Promise.all([\r\n-            loadComponent('components/header.html', headerPlaceholder),\r\n-            loadComponent('components/footer.html', footerPlaceholder),\r\n-            loadComponent('components/modals.html', modalsPlaceholder)\r\n-        ])\r\n-        .then(async () => {\r\n-            console.log('Todos os componentes HTML foram carregados.');\r\n-            \r\n-            // ETAPA 1: VERIFICAR SESSÃO DO UTILIZADOR\r\n-            const token = localStorage.getItem('authToken');\r\n-            let isLoggedIn = false;\r\n-            if (token) {\r\n-                try {\r\n-                    const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-                    if (response.ok) {\r\n-                        const data = await response.json();\r\n-                        updateUIForLoggedInUser(data.user, data.company);\r\n-                        isLoggedIn = true;\r\n-                    } else {\r\n-                        localStorage.removeItem('authToken');\r\n-                    }\r\n-                } catch (error) {\r\n-                    console.error(\"Erro ao verificar sessão:\", error);\r\n-                    localStorage.removeItem('authToken');\r\n-                }\r\n-            }\r\n-\r\n-            // ETAPA 2: CONFIGURAR TODOS OS EVENT LISTENERS\r\n-            // Esta função só é chamada DEPOIS que tudo está na página.\r\n-            setupAllEventListeners(isLoggedIn);\r\n-            \r\n-            console.log('Página completamente inicializada.');\r\n-        })\r\n-        .catch(error => console.error(\"Erro fatal ao carregar componentes:\", error));\r\n-    });\r\n-\r\n-    // =================================================================================\r\n-    // SECÇÃO 3: SETUP DE TODOS OS EVENTOS\r\n-    // =================================================================================\r\n+    // Função para carregar um componente HTML\r\n+    const loadComponent = (url, placeholder) => {\r\n+        return fetch(url)\r\n+            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n+            .then(data => {\r\n+                if (placeholder) placeholder.innerHTML = data;\r\n+            });\r\n+    };\r\n     \r\n-    function setupAllEventListeners(isLoggedIn) {\r\n-        // --- Eventos do Cabeçalho (Menu Mobile) ---\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n-\r\n-        // --- Easter Egg do Admin (só ativa se não estiver logado) ---\r\n-        if (!isLoggedIn) {\r\n-            const wolfImageElement = document.querySelector('.animated-wolf');\r\n-            if (wolfImageElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                wolfImageElement.addEventListener('click', (e) => {\r\n-                    clickCount++;\r\n-                    clearTimeout(clickTimer);\r\n-                    clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                    if (clickCount === 7) {\r\n-                        activateAdminLogin();\r\n-                        clickCount = 0;\r\n-                    }\r\n-                });\r\n-            }\r\n-        }\r\n-        \r\n-        // --- Eventos do Formulário de Login Principal ---\r\n-        const mainLoginForm = document.getElementById('mainLoginForm');\r\n-        if (mainLoginForm) {\r\n-            // ... (A lógica do formulário de login iria aqui, se necessário no futuro)\r\n-        }\r\n-\r\n-        // --- Eventos dos Modais (que agora existem na página) ---\r\n-        // (Aqui entra toda a lógica que antes estava espalhada ou em modals.js)\r\n-        \r\n-        const registerModal = document.getElementById('registerModal');\r\n-        const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n-\r\n-        // Lógica para abrir/fechar os modais\r\n-        const signUpBtn = document.getElementById('signUpBtn'); // Botão Cadastre-se\r\n-        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn'); // Botão Esqueci a senha\r\n-\r\n-        if (signUpBtn && registerModal) {\r\n-            signUpBtn.addEventListener('click', () => {\r\n-                registerModal.classList.remove('hidden');\r\n-            });\r\n-        }\r\n-        if (forgotPasswordBtn && forgotPasswordModal) {\r\n-            forgotPasswordBtn.addEventListener('click', () => {\r\n-                forgotPasswordModal.classList.remove('hidden');\r\n-            });\r\n-        }\r\n-        \r\n-        // Adicione aqui os listeners para os botões de FECHAR de cada modal\r\n-        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n-\r\n-        if (closeRegisterModalBtn) {\r\n-            closeRegisterModalBtn.addEventListener('click', () => registerModal.classList.add('hidden'));\r\n-        }\r\n-        if (closeForgotPasswordModalBtn) {\r\n-            closeForgotPasswordModalBtn.addEventListener('click', () => forgotPasswordModal.classList.add('hidden'));\r\n-        }\r\n-\r\n-        // Adicione aqui a lógica INTERNA dos modais (submissão de formulários, etc.)\r\n-        // Exemplo para o \"Esqueci a senha\":\r\n-        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n-        if (forgotPasswordForm) {\r\n-            // A sua função handleForgotPasswordFormSubmit iria aqui\r\n-        }\r\n-\r\n-        // E assim por diante para todos os outros eventos...\r\n-    }\r\n-\r\n-    function activateAdminLogin() {\r\n-        // Esta função precisa de estar aqui para o easter egg funcionar\r\n-        const mainLoginForm = document.getElementById('mainLoginForm');\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        if (mainLoginForm && loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            mainLoginForm.dataset.isAdmin = \"true\";\r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-        }\r\n-    }\r\n+    // Carrega todos os componentes HTML ao mesmo tempo\r\n+    Promise.all([\r\n+        loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n+        loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n+        loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n+    ]).then(() => {\r\n+        // console.log('Componentes HTML carregados. A carregar scripts...');\r\n+        // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n+        const modalScript = document.createElement('script');\r\n+        modalScript.src = `${basePath}scripts/modals.js`;\r\n+        document.body.appendChild(modalScript);\r\n+    }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n+});\r\n </script>\r\n \r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754359995167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -436,10 +436,13 @@\n     function updateUIForLoggedInUser(user, company) {\r\n         // 1. Declarar todas as variáveis de elementos do DOM no início\r\n         const loginSectionContent = document.getElementById('login-section-content');\r\n         const boletoCardLink = document.getElementById('boleto-card-link');\r\n+        \r\n+        // --- INÍCIO DA NOVA LÓGICA ---\r\n         const navLoginLink = document.getElementById('nav-login-link');\r\n         const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n+        // --- FIM DA NOVA LÓGICA ---\r\n \r\n         // 2. Lógica Unificada para o Card do Organizador de Boletos (inalterada)\r\n         if (boletoCardLink && user && company) {\r\n             boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n"
                },
                {
                    "date": 1754404357961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,9 +117,12 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n-                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                    <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                    <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n                         Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                     </a>\r\n                 </div>\r\n                 \r\n"
                },
                {
                    "date": 1754404388006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,14 +117,16 @@\n                     <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n                     <p class=\"text-gray-400 mb-4\">\r\n                         Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                     </p>\r\n-                    <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                    <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n+                    <div class=\"mt-4 flex flex-col items-start space-y-2\">\r\n+                        <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n+                            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        </a>\r\n+                        <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                            Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        </a>\r\n+                    </div>\r\n                 </div>\r\n                 \r\n                 <!-- Serviço 2 -->\r\n                 <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n"
                },
                {
                    "date": 1754404525902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,29 +437,60 @@\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n+    /**\r\n+     * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n+     * @param {object} user - O objeto do utilizador logado.\r\n+     * @param {object} company - O objeto da empresa do utilizador.\r\n+     */\r\n     function updateUIForLoggedInUser(user, company) {\r\n-        // 1. Declarar todas as variáveis de elementos do DOM no início\r\n+        // 1. ATUALIZA A BARRA DE NAVEGAÇÃO\r\n+        const desktopMenu = document.getElementById('desktop-menu-items');\r\n+        const navLoginLink = document.getElementById('nav-login-link');\r\n+        \r\n+        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+            navLoginLink.textContent = 'Aceder ao Painel';\r\n+            navLoginLink.href = 'OrgBoletos.html';\r\n+            \r\n+            const logoutButton = document.createElement('button');\r\n+            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+            logoutButton.textContent = 'Sair';\r\n+            desktopMenu.appendChild(logoutButton);\r\n+\r\n+            logoutButton.addEventListener('click', () => {\r\n+                localStorage.removeItem('authToken');\r\n+                window.location.reload();\r\n+            });\r\n+        }\r\n+\r\n+        // 2. ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n         const loginSectionContent = document.getElementById('login-section-content');\r\n+        if (loginSectionContent) {\r\n+            // Apenas exibe uma mensagem simples, sem botões, como solicitado.\r\n+            loginSectionContent.innerHTML = `\r\n+                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+                <div class=\"text-center text-gray-300\">\r\n+                    <p>Você já está autenticado.</p>\r\n+                    <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n+                </div>\r\n+            `;\r\n+        }\r\n+\r\n+        // 3. ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n         const boletoCardLink = document.getElementById('boleto-card-link');\r\n-        \r\n-        // --- INÍCIO DA NOVA LÓGICA ---\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n-        const mobileNavLoginLink = document.getElementById('mobile-nav-login-link');\r\n-        // --- FIM DA NOVA LÓGICA ---\r\n-\r\n-        // 2. Lógica Unificada para o Card do Organizador de Boletos (inalterada)\r\n-        if (boletoCardLink && user && company) {\r\n+        if (boletoCardLink) {\r\n+            const subscription = company.subscription;\r\n+            const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+            \r\n+            // Remove as classes de cor antigas para garantir que apenas uma seja aplicada\r\n             boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+            \r\n+            // Atualiza o link para apontar para a aplicação\r\n+            boletoCardLink.href = 'OrgBoletos.html';\r\n \r\n-            if (user.role === 'SuperAdmin') {\r\n-                boletoCardLink.innerHTML = 'Acessar Painel Master <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-yellow-500');\r\n-            } else if (user.role === 'Proprietário') {\r\n-                const subscription = company.subscription || {};\r\n-                const isSubscriptionActive = subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-                \r\n+            if (user.role === 'Proprietário') {\r\n                 if (isSubscriptionActive) {\r\n                     boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                     boletoCardLink.classList.add('text-green-500');\r\n                 } else {\r\n@@ -470,45 +501,8 @@\n                 boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n                 boletoCardLink.classList.add('text-green-500');\r\n             }\r\n         }\r\n-\r\n-        // --- 3. LÓGICA CORRIGIDA PARA SUBSTITUIR LOGIN POR LOGOUT ---\r\n-        const logoutFunction = () => {\r\n-            localStorage.removeItem('authToken');\r\n-            window.location.reload();\r\n-        };\r\n-\r\n-        // Altera o botão no menu de desktop\r\n-        if (navLoginLink) {\r\n-            const logoutButton = document.createElement('button');\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-            logoutButton.textContent = 'Logout';\r\n-            logoutButton.onclick = logoutFunction;\r\n-\r\n-            // Substitui o link 'Login' pelo novo botão 'Logout'\r\n-            navLoginLink.replaceWith(logoutButton);\r\n-        }\r\n-\r\n-        // Altera o link no menu móvel\r\n-        if (mobileNavLoginLink) {\r\n-            mobileNavLoginLink.textContent = 'Logout';\r\n-            mobileNavLoginLink.href = '#'; // Remove a navegação padrão\r\n-            mobileNavLoginLink.onclick = (e) => {\r\n-                e.preventDefault();\r\n-                logoutFunction();\r\n-            };\r\n-        }\r\n-\r\n-        // 4. Lógica para a Secção de Login (inalterada)\r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n-                <div class=\"text-center text-gray-300\">\r\n-                    <p>Você já está autenticado.</p>\r\n-                </div>\r\n-            `;\r\n-        }\r\n     }\r\n \r\n     function clearLoginErrors() {\r\n         const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n"
                },
                {
                    "date": 1754405501115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -957,8 +957,11 @@\n         // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n         const modalScript = document.createElement('script');\r\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n+        const headerScript = document.createElement('script');\r\n+        headerScript.src = `${basePath}scripts/header.js`;\r\n+        document.body.appendChild(headerScript);\r\n     }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n });\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1754405553214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -443,18 +443,18 @@\n      * @param {object} user - O objeto do utilizador logado.\r\n      * @param {object} company - O objeto da empresa do utilizador.\r\n      */\r\n     function updateUIForLoggedInUser(user, company) {\r\n-        // 1. ATUALIZA A BARRA DE NAVEGAÇÃO\r\n+        // 1. ATUALIZA A BARRA DE NAVEGAÇÃO (DESKTOP)\r\n         const desktopMenu = document.getElementById('desktop-menu-items');\r\n         const navLoginLink = document.getElementById('nav-login-link');\r\n         \r\n-        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n+        if (desktopMenu && navLoginLink && !document.getElementById('desktop-logout-btn')) {\r\n             navLoginLink.textContent = 'Aceder ao Painel';\r\n             navLoginLink.href = 'OrgBoletos.html';\r\n             \r\n             const logoutButton = document.createElement('button');\r\n-            logoutButton.id = 'nav-logout-btn';\r\n+            logoutButton.id = 'desktop-logout-btn';\r\n             logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n             logoutButton.textContent = 'Sair';\r\n             desktopMenu.appendChild(logoutButton);\r\n \r\n@@ -463,12 +463,34 @@\n                 window.location.reload();\r\n             });\r\n         }\r\n \r\n-        // 2. ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n+        // 2. ATUALIZA A BARRA DE NAVEGAÇÃO (MOBILE)\r\n+        const mobileMenu = document.getElementById('mobile-menu-items');\r\n+        const mobileLoginLink = document.getElementById('mobile-nav-login-link');\r\n+        \r\n+        if (mobileMenu && mobileLoginLink && !document.getElementById('mobile-logout-btn')) {\r\n+            mobileLoginLink.textContent = 'Aceder ao Painel';\r\n+            mobileLoginLink.href = 'OrgBoletos.html';\r\n+\r\n+            const logoutButtonMobile = document.createElement('a');\r\n+            logoutButtonMobile.id = 'mobile-logout-btn';\r\n+            logoutButtonMobile.href = '#';\r\n+            logoutButtonMobile.className = 'bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium';\r\n+            logoutButtonMobile.textContent = 'Sair';\r\n+            \r\n+            logoutButtonMobile.addEventListener('click', (e) => {\r\n+                e.preventDefault();\r\n+                localStorage.removeItem('authToken');\r\n+                window.location.reload();\r\n+            });\r\n+\r\n+            mobileMenu.appendChild(logoutButtonMobile);\r\n+        }\r\n+\r\n+        // 3. ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n         const loginSectionContent = document.getElementById('login-section-content');\r\n         if (loginSectionContent) {\r\n-            // Apenas exibe uma mensagem simples, sem botões, como solicitado.\r\n             loginSectionContent.innerHTML = `\r\n                 <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n                 <div class=\"text-center text-gray-300\">\r\n                     <p>Você já está autenticado.</p>\r\n@@ -476,18 +498,15 @@\n                 </div>\r\n             `;\r\n         }\r\n \r\n-        // 3. ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n+        // 4. ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n         const boletoCardLink = document.getElementById('boleto-card-link');\r\n         if (boletoCardLink) {\r\n             const subscription = company.subscription;\r\n             const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n             \r\n-            // Remove as classes de cor antigas para garantir que apenas uma seja aplicada\r\n             boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n-            \r\n-            // Atualiza o link para apontar para a aplicação\r\n             boletoCardLink.href = 'OrgBoletos.html';\r\n \r\n             if (user.role === 'Proprietário') {\r\n                 if (isSubscriptionActive) {\r\n"
                },
                {
                    "date": 1754406215798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -434,8 +434,20 @@\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n+\r\n+function setupMobileMenu() {\r\n+    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+    const mobileMenu = document.getElementById('mobile-menu');\r\n+\r\n+    if (mobileMenuButton && mobileMenu) {\r\n+        mobileMenuButton.addEventListener('click', () => {\r\n+            mobileMenu.classList.toggle('hidden');\r\n+        });\r\n+    }\r\n+}\r\n+\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n     /**\r\n@@ -684,13 +696,8 @@\n         const mobileMenu = document.getElementById('mobile-menu');\r\n         if (mobileMenuButton) {\r\n             mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n         }\r\n-\r\n-        const contactForm = document.getElementById('contactForm');\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-        }\r\n         \r\n         // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n         if (!isLoggedIn) {\r\n         const wolfImageElement = document.querySelector('.animated-wolf');\r\n@@ -949,39 +956,57 @@\n \r\n \r\n <script>\r\n document.addEventListener(\"DOMContentLoaded\", function() {\r\n+    // 1. Encontra os locais na página onde os componentes serão inseridos.\r\n     const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n     const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n     const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-    // Deteta se estamos numa subpasta (como /pages/) para ajustar os caminhos\r\n+    // 2. Deteta de forma inteligente se estamos numa subpágina para ajustar os caminhos.\r\n+    // Se o URL contiver '/pages/', o caminho base será '../'. Senão, será vazio.\r\n     const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n \r\n-    // Função para carregar um componente HTML\r\n+    /**\r\n+     * Função auxiliar para carregar o conteúdo de um ficheiro HTML.\r\n+     * @param {string} url - O caminho para o ficheiro HTML.\r\n+     * @param {HTMLElement} placeholder - O elemento onde o conteúdo será inserido.\r\n+     */\r\n     const loadComponent = (url, placeholder) => {\r\n         return fetch(url)\r\n-            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n+            .then(res => {\r\n+                if (!res.ok) {\r\n+                    throw new Error(`Ficheiro não encontrado: ${url}`);\r\n+                }\r\n+                return res.text();\r\n+            })\r\n             .then(data => {\r\n-                if (placeholder) placeholder.innerHTML = data;\r\n+                if (placeholder) {\r\n+                    placeholder.innerHTML = data;\r\n+                }\r\n             });\r\n     };\r\n     \r\n-    // Carrega todos os componentes HTML ao mesmo tempo\r\n+    // 3. Carrega todos os componentes HTML ao mesmo tempo para maior eficiência.\r\n     Promise.all([\r\n         loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n         loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n         loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n     ]).then(() => {\r\n-        // console.log('Componentes HTML carregados. A carregar scripts...');\r\n-        // Depois que TODO o HTML for carregado, adiciona o script dos modais à página\r\n+        // 4. APENAS DEPOIS de todo o HTML ser carregado, adiciona os scripts de interatividade.\r\n+        // Isto garante que os botões e outros elementos já existem na página quando o JS for executado.\r\n+\r\n+        // Carrega o script que controla os modais (Termos, Privacidade, etc.)\r\n         const modalScript = document.createElement('script');\r\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n+\r\n+        // Carrega o script que controla o cabeçalho (menu mobile)\r\n         const headerScript = document.createElement('script');\r\n         headerScript.src = `${basePath}scripts/header.js`;\r\n         document.body.appendChild(headerScript);\r\n-    }).catch(error => console.error(\"Erro ao carregar componentes:\", error));\r\n+        \r\n+    }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n });\r\n </script>\r\n \r\n </body>\r\n"
                },
                {
                    "date": 1754406434535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -435,19 +435,8 @@\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n \r\n-function setupMobileMenu() {\r\n-    const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-    const mobileMenu = document.getElementById('mobile-menu');\r\n-\r\n-    if (mobileMenuButton && mobileMenu) {\r\n-        mobileMenuButton.addEventListener('click', () => {\r\n-            mobileMenu.classList.toggle('hidden');\r\n-        });\r\n-    }\r\n-}\r\n-\r\n import { API_BASE_URL } from './scripts/config.js';\r\n document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n     /**\r\n@@ -956,55 +945,45 @@\n \r\n \r\n <script>\r\n document.addEventListener(\"DOMContentLoaded\", function() {\r\n-    // 1. Encontra os locais na página onde os componentes serão inseridos.\r\n     const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n     const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n     const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-    // 2. Deteta de forma inteligente se estamos numa subpágina para ajustar os caminhos.\r\n-    // Se o URL contiver '/pages/', o caminho base será '../'. Senão, será vazio.\r\n     const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n \r\n-    /**\r\n-     * Função auxiliar para carregar o conteúdo de um ficheiro HTML.\r\n-     * @param {string} url - O caminho para o ficheiro HTML.\r\n-     * @param {HTMLElement} placeholder - O elemento onde o conteúdo será inserido.\r\n-     */\r\n     const loadComponent = (url, placeholder) => {\r\n         return fetch(url)\r\n-            .then(res => {\r\n-                if (!res.ok) {\r\n-                    throw new Error(`Ficheiro não encontrado: ${url}`);\r\n-                }\r\n-                return res.text();\r\n-            })\r\n+            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n             .then(data => {\r\n-                if (placeholder) {\r\n-                    placeholder.innerHTML = data;\r\n-                }\r\n+                if (placeholder) placeholder.innerHTML = data;\r\n             });\r\n     };\r\n     \r\n-    // 3. Carrega todos os componentes HTML ao mesmo tempo para maior eficiência.\r\n     Promise.all([\r\n         loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n         loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n         loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n     ]).then(() => {\r\n-        // 4. APENAS DEPOIS de todo o HTML ser carregado, adiciona os scripts de interatividade.\r\n-        // Isto garante que os botões e outros elementos já existem na página quando o JS for executado.\r\n-\r\n-        // Carrega o script que controla os modais (Termos, Privacidade, etc.)\r\n+        // --- A CORREÇÃO ESTÁ AQUI ---\r\n+        \r\n+        // 1. Carregamos o script dos modais (como antes)\r\n         const modalScript = document.createElement('script');\r\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n \r\n-        // Carrega o script que controla o cabeçalho (menu mobile)\r\n-        const headerScript = document.createElement('script');\r\n-        headerScript.src = `${basePath}scripts/header.js`;\r\n-        document.body.appendChild(headerScript);\r\n+        // 2. Em vez de carregar um 'header.js' externo,\r\n+        //    colocamos a lógica do menu mobile DIRETAMENTE aqui.\r\n+        //    Isto garante que ela só é executada depois do header.html ser carregado.\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+\r\n+        if (mobileMenuButton && mobileMenu) {\r\n+            mobileMenuButton.addEventListener('click', () => {\r\n+                mobileMenu.classList.toggle('hidden');\r\n+            });\r\n+        }\r\n         \r\n     }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n });\r\n </script>\r\n"
                },
                {
                    "date": 1754406564575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -958,16 +958,16 @@\n             .then(data => {\r\n                 if (placeholder) placeholder.innerHTML = data;\r\n             });\r\n     };\r\n-    \r\n+\r\n     Promise.all([\r\n         loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n         loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n         loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n     ]).then(() => {\r\n         // --- A CORREÇÃO ESTÁ AQUI ---\r\n-        \r\n+\r\n         // 1. Carregamos o script dos modais (como antes)\r\n         const modalScript = document.createElement('script');\r\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n@@ -982,9 +982,9 @@\n             mobileMenuButton.addEventListener('click', () => {\r\n                 mobileMenu.classList.toggle('hidden');\r\n             });\r\n         }\r\n-        \r\n+\r\n     }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n });\r\n </script>\r\n \r\n"
                },
                {
                    "date": 1754406788448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -434,12 +434,44 @@\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n <script type=\"module\">\r\n-\r\n import { API_BASE_URL } from './scripts/config.js';\r\n-document.addEventListener('DOMContentLoaded', async () => {\r\n \r\n+document.addEventListener('DOMContentLoaded', () => {\r\n+    // FUNÇÃO PARA CARREGAR COMPONENTES (HEADER, FOOTER, MODAIS)\r\n+    const loadComponent = (url, placeholder) => {\r\n+        return fetch(url)\r\n+            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n+            .then(data => {\r\n+                if (placeholder) placeholder.innerHTML = data;\r\n+            });\r\n+    };\r\n+\r\n+    // CARREGA TODOS OS COMPONENTES PRIMEIRO\r\n+    Promise.all([\r\n+        loadComponent('components/header.html', document.getElementById(\"header-placeholder\")),\r\n+        loadComponent('components/footer.html', document.getElementById(\"footer-placeholder\")),\r\n+        loadComponent('components/modals.html', document.getElementById(\"modals-placeholder\"))\r\n+    ]).then(async () => {\r\n+        // --- TODA A LÓGICA AGORA FICA DENTRO DO .then() ---\r\n+\r\n+        // 1. ADICIONA O EVENTO DO MENU MOBILE (AGORA O BOTÃO JÁ EXISTE)\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton && mobileMenu) {\r\n+            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+        }\r\n+        \r\n+        // Carrega o script que controla os modais (Termos de Uso, Privacidade)\r\n+        const modalScript = document.createElement('script');\r\n+        modalScript.src = `scripts/modals.js`;\r\n+        document.body.appendChild(modalScript);\r\n+\r\n+        // =================================================================================\r\n+        // FUNÇÕES E LÓGICA DE LOGIN (semelhante ao que já existia)\r\n+        // =================================================================================\r\n+\r\n     /**\r\n      * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n      * @param {object} user - O objeto do utilizador logado.\r\n      * @param {object} company - O objeto da empresa do utilizador.\r\n"
                },
                {
                    "date": 1754407113526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -437,14 +437,23 @@\n <script type=\"module\">\r\n import { API_BASE_URL } from './scripts/config.js';\r\n \r\n document.addEventListener('DOMContentLoaded', () => {\r\n+\r\n     // FUNÇÃO PARA CARREGAR COMPONENTES (HEADER, FOOTER, MODAIS)\r\n     const loadComponent = (url, placeholder) => {\r\n-        return fetch(url)\r\n-            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n+        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+        return fetch(basePath + url)\r\n+            .then(res => {\r\n+                if (!res.ok) {\r\n+                    throw new Error(`Erro ao carregar ${url}: ${res.statusText}`);\r\n+                }\r\n+                return res.text();\r\n+            })\r\n             .then(data => {\r\n-                if (placeholder) placeholder.innerHTML = data;\r\n+                if (placeholder) {\r\n+                    placeholder.innerHTML = data;\r\n+                }\r\n             });\r\n     };\r\n \r\n     // CARREGA TODOS OS COMPONENTES PRIMEIRO\r\n@@ -458,496 +467,424 @@\n         // 1. ADICIONA O EVENTO DO MENU MOBILE (AGORA O BOTÃO JÁ EXISTE)\r\n         const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n         const mobileMenu = document.getElementById('mobile-menu');\r\n         if (mobileMenuButton && mobileMenu) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n+            mobileMenuButton.addEventListener('click', () => {\r\n+                mobileMenu.classList.toggle('hidden');\r\n+            });\r\n         }\r\n         \r\n         // Carrega o script que controla os modais (Termos de Uso, Privacidade)\r\n         const modalScript = document.createElement('script');\r\n-        modalScript.src = `scripts/modals.js`;\r\n+        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+        modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n \r\n         // =================================================================================\r\n-        // FUNÇÕES E LÓGICA DE LOGIN (semelhante ao que já existia)\r\n+        // FUNÇÕES E LÓGICA DE LOGIN\r\n         // =================================================================================\r\n-\r\n-    /**\r\n-     * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n-     * @param {object} user - O objeto do utilizador logado.\r\n-     * @param {object} company - O objeto da empresa do utilizador.\r\n-     */\r\n-    function updateUIForLoggedInUser(user, company) {\r\n-        // 1. ATUALIZA A BARRA DE NAVEGAÇÃO (DESKTOP)\r\n-        const desktopMenu = document.getElementById('desktop-menu-items');\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n         \r\n-        if (desktopMenu && navLoginLink && !document.getElementById('desktop-logout-btn')) {\r\n-            navLoginLink.textContent = 'Aceder ao Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-            \r\n-            const logoutButton = document.createElement('button');\r\n-            logoutButton.id = 'desktop-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenu.appendChild(logoutButton);\r\n+        /**\r\n+         * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n+         * @param {object} user - O objeto do utilizador logado.\r\n+         * @param {object} company - O objeto da empresa do utilizador.\r\n+         */\r\n+        function updateUIForLoggedInUser(user, company) {\r\n+            // ATUALIZA A BARRA DE NAVEGAÇÃO (DESKTOP)\r\n+            const desktopMenu = document.getElementById('desktop-menu-items');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            if (desktopMenu && navLoginLink && !document.getElementById('desktop-logout-btn')) {\r\n+                navLoginLink.textContent = 'Aceder ao Painel';\r\n+                navLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButton = document.createElement('button');\r\n+                logoutButton.id = 'desktop-logout-btn';\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+                logoutButton.textContent = 'Sair';\r\n+                desktopMenu.appendChild(logoutButton);\r\n+                logoutButton.addEventListener('click', () => {\r\n+                    localStorage.removeItem('authToken');\r\n+                    window.location.reload();\r\n+                });\r\n+            }\r\n \r\n-            logoutButton.addEventListener('click', () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n-        }\r\n+            // ATUALIZA A BARRA DE NAVEGAÇÃO (MOBILE)\r\n+            const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n+            const mobileLoginLink = document.getElementById('mobile-nav-login-link');\r\n+            if (mobileMenuItems && mobileLoginLink && !document.getElementById('mobile-logout-btn')) {\r\n+                mobileLoginLink.textContent = 'Aceder ao Painel';\r\n+                mobileLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButtonMobile = document.createElement('a');\r\n+                logoutButtonMobile.id = 'mobile-logout-btn';\r\n+                logoutButtonMobile.href = '#';\r\n+                logoutButtonMobile.className = 'bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium';\r\n+                logoutButtonMobile.textContent = 'Sair';\r\n+                logoutButtonMobile.addEventListener('click', (e) => {\r\n+                    e.preventDefault();\r\n+                    localStorage.removeItem('authToken');\r\n+                    window.location.reload();\r\n+                });\r\n+                mobileMenuItems.appendChild(logoutButtonMobile);\r\n+            }\r\n \r\n-        // 2. ATUALIZA A BARRA DE NAVEGAÇÃO (MOBILE)\r\n-        const mobileMenu = document.getElementById('mobile-menu-items');\r\n-        const mobileLoginLink = document.getElementById('mobile-nav-login-link');\r\n-        \r\n-        if (mobileMenu && mobileLoginLink && !document.getElementById('mobile-logout-btn')) {\r\n-            mobileLoginLink.textContent = 'Aceder ao Painel';\r\n-            mobileLoginLink.href = 'OrgBoletos.html';\r\n+            // ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+                    <div class=\"text-center text-gray-300\">\r\n+                        <p>Você já está autenticado.</p>\r\n+                        <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n+                    </div>\r\n+                `;\r\n+            }\r\n \r\n-            const logoutButtonMobile = document.createElement('a');\r\n-            logoutButtonMobile.id = 'mobile-logout-btn';\r\n-            logoutButtonMobile.href = '#';\r\n-            logoutButtonMobile.className = 'bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium';\r\n-            logoutButtonMobile.textContent = 'Sair';\r\n-            \r\n-            logoutButtonMobile.addEventListener('click', (e) => {\r\n-                e.preventDefault();\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n+            // ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n+            const boletoCardLink = document.getElementById('boleto-card-link');\r\n+            if (boletoCardLink) {\r\n+                const subscription = company.subscription;\r\n+                const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+                \r\n+                boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+                boletoCardLink.href = 'OrgBoletos.html';\r\n \r\n-            mobileMenu.appendChild(logoutButtonMobile);\r\n+                if (user.role === 'Proprietário') {\r\n+                    if (isSubscriptionActive) {\r\n+                        boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-green-500');\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-red-500');\r\n+                    }\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-green-500');\r\n+                }\r\n+            }\r\n         }\r\n-\r\n-        // 3. ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n-        const loginSectionContent = document.getElementById('login-section-content');\r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n-                <div class=\"text-center text-gray-300\">\r\n-                    <p>Você já está autenticado.</p>\r\n-                    <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n-                </div>\r\n-            `;\r\n+        \r\n+        function clearLoginErrors() {\r\n+            const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+            fields.forEach(id => {\r\n+                const el = document.getElementById(id);\r\n+                if (el) el.textContent = '';\r\n+            });\r\n         }\r\n \r\n-        // 4. ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n-        const boletoCardLink = document.getElementById('boleto-card-link');\r\n-        if (boletoCardLink) {\r\n-            const subscription = company.subscription;\r\n-            const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-            \r\n-            boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n-            boletoCardLink.href = 'OrgBoletos.html';\r\n-\r\n-            if (user.role === 'Proprietário') {\r\n-                if (isSubscriptionActive) {\r\n-                    boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.classList.add('text-green-500');\r\n+        // 2. VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n+        const token = localStorage.getItem('authToken');\r\n+        if (token) {\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                if (response.ok) {\r\n+                    const data = await response.json();\r\n+                    updateUIForLoggedInUser(data.user, data.company);\r\n                 } else {\r\n-                    boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.classList.add('text-red-500');\r\n+                    localStorage.removeItem('authToken');\r\n                 }\r\n-            } else {\r\n-                boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                boletoCardLink.classList.add('text-green-500');\r\n-            }\r\n-        }\r\n-    }\r\n-\r\n-    function clearLoginErrors() {\r\n-        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-        fields.forEach(id => {\r\n-            const el = document.getElementById(id);\r\n-            if (el) el.textContent = '';\r\n-        });\r\n-    }\r\n-\r\n-    // =================================================================================\r\n-    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n-    // =================================================================================\r\n-    \r\n-    const token = localStorage.getItem('authToken');\r\n-    if (token) {\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-            if (response.ok) {\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user, data.company);\r\n-                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n-                setupGeneralEventListeners(true); \r\n-                return; \r\n-            } else {\r\n+            } catch (error) {\r\n+                console.error(\"Erro ao verificar sessão:\", error);\r\n                 localStorage.removeItem('authToken');\r\n             }\r\n-        } catch (error) {\r\n-            console.error(\"Erro ao verificar sessão:\", error);\r\n-        }\r\n-    }\r\n+        } else {\r\n+            // 3. LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+            let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n+            \r\n+            // --- Lógica do formulário de Login ---\r\n+            const mainLoginForm = document.getElementById('mainLoginForm');\r\n+            if (mainLoginForm) {\r\n+                const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                const nextStepBtn = document.getElementById('nextStepBtn');\r\n+                const signUpBtn = document.getElementById('signUpBtn');\r\n+                const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n+                \r\n+                cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+                \r\n+                cnpjMask.on('accept', () => {\r\n+                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+                    signUpBtn.classList.add('hidden');\r\n+                });\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n-    // =================================================================================\r\n-    \r\n-    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n-    setupGeneralEventListeners(false);\r\n+                nextStepBtn.addEventListener('click', handleNextStepClick);\r\n+                backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n+                mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n \r\n-    // Variáveis para as instâncias das máscaras\r\n-    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n+                async function handleNextStepClick() {\r\n+                    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+                    const signUpBtn = document.getElementById('signUpBtn');\r\n+                    const nextStepBtn = document.getElementById('nextStepBtn');\r\n+                    const loginStep1 = document.getElementById('login-step-1');\r\n+                    const loginStep2 = document.getElementById('login-step-2');\r\n+                    \r\n+                    mainLoginFormFeedback.textContent = '';\r\n+                    signUpBtn.classList.add('hidden');\r\n+                    \r\n+                    if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n+                        mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n+                        return;\r\n+                    }\r\n \r\n-    // --- Lógica do formulário de Login ---\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    if (mainLoginForm) {\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-        \r\n-        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        \r\n-        cnpjMask.on('accept', () => {\r\n-            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            signUpBtn.classList.add('hidden');\r\n-        });\r\n+                    nextStepBtn.disabled = true;\r\n+                    nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message); }\r\n+                        loginStep1.classList.add('hidden');\r\n+                        loginStep2.classList.remove('hidden');\r\n+                    } catch (error) {\r\n+                        mainLoginFormFeedback.textContent = error.message;\r\n+                        if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                            signUpBtn.classList.remove('hidden');\r\n+                        }\r\n+                    } finally {\r\n+                        nextStepBtn.disabled = false;\r\n+                        nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n+                    }\r\n+                }\r\n+                \r\n+                function handleBackToStep1Click() {\r\n+                    const loginStep1 = document.getElementById('login-step-1');\r\n+                    const loginStep2 = document.getElementById('login-step-2');\r\n+                    loginStep2.classList.add('hidden');\r\n+                    if(cnpjMask) cnpjMask.value = '';\r\n+                    loginStep1.classList.remove('hidden');\r\n+                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+                    mainLoginForm.dataset.isAdmin = \"false\";\r\n+                    document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n+                    clearLoginErrors();\r\n+                }\r\n+                \r\n+                async function handleLoginFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+                    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+                    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+                    mainLoginSubmitBtn.disabled = true;\r\n+                    mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+                    clearLoginErrors();\r\n+                    const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n \r\n-        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n-        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n-        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-    }\r\n-    \r\n-    // --- Lógica do Modal de Cadastro ---\r\n+                    const payload = isAdminLoginMode ? \r\n+                        { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+                        { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+                    try {\r\n+                        const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { \r\n+                            const error = new Error(result.message || 'Erro de validação.');\r\n+                            error.details = result.errors;\r\n+                            throw error;\r\n+                        }\r\n+                        localStorage.setItem('authToken', result.token);\r\n+                        window.location.reload();\r\n+                    } catch (error) {\r\n+                        if (error.details) {\r\n+                            error.details.forEach(err => {\r\n+                                const errorElement = document.getElementById(`${err.path}Error`);\r\n+                                if (errorElement) { errorElement.textContent = err.msg; }\r\n+                            });\r\n+                        } else {\r\n+                            document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n+                        }\r\n+                    } finally {\r\n+                        mainLoginSubmitBtn.disabled = false;\r\n+                        mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+                        e.target.dataset.isAdmin = \"false\";\r\n+                    }\r\n+                }\r\n+            }\r\n+            \r\n+            // --- Lógica do Modal de Cadastro ---\r\n+            const registerModal = document.getElementById('registerModal');\r\n+            if (registerModal) {\r\n+                const signUpBtn = document.getElementById('signUpBtn');\r\n+                const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+                const registerForm = document.getElementById('registerForm');\r\n+                const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n+                const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+                const registerCnpjInput = document.getElementById('registerCnpj');\r\n+                const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n \r\n-    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n-    if (forgotPasswordModal) {\r\n-        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n-        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n-        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n-        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n-        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+                registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+                registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n \r\n-        // Abre o modal ao clicar no botão\r\n-        forgotPasswordBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.remove('hidden');\r\n-            document.getElementById('recoveryEmailInput').focus();\r\n-        });\r\n+                signUpBtn.addEventListener('click', () => {\r\n+                    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                    if (mainCnpjInput && registerCnpjMask) { \r\n+                        registerCnpjMask.value = mainCnpjInput.value; \r\n+                    }\r\n+                    registerModal.classList.remove('hidden');\r\n+                });\r\n+                \r\n+                closeRegisterModalBtn.addEventListener('click', () => {\r\n+                    registerModal.classList.add('hidden');\r\n+                    registerForm.reset();\r\n+                });\r\n \r\n-        // Fecha o modal\r\n-        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.add('hidden');\r\n-        });\r\n-\r\n-        // Lida com o envio do formulário\r\n-        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n-            e.preventDefault();\r\n-            const email = document.getElementById('recoveryEmailInput').value;\r\n-            \r\n-            recoverySubmitBtn.disabled = true;\r\n-            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n-            recoveryFormFeedback.textContent = '';\r\n-\r\n-            try {\r\n-                // Chama a rota do backend que já criámos\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify({ email })\r\n+                goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n+                backToRegisterStep1Btn.addEventListener('click', () => {\r\n+                    document.getElementById('register-step-2').classList.add('hidden');\r\n+                    document.getElementById('register-step-1').classList.remove('hidden');\r\n                 });\r\n+                registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n \r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message); }\r\n+                function handleGoToRegisterStep2() {\r\n+                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+                    registrationFeedback.textContent = '';\r\n+                    const companyName = document.getElementById('registerCompanyName').value;\r\n+                    const companyEmail = document.getElementById('registerEmail').value;\r\n \r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-                recoveryFormFeedback.textContent = result.message;\r\n+                    if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n+                        document.getElementById('register-step-1').classList.add('hidden');\r\n+                        document.getElementById('register-step-2').classList.remove('hidden');\r\n+                    } else {\r\n+                        registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+                    }\r\n+                }\r\n \r\n-                // Fecha o modal após alguns segundos\r\n-                setTimeout(() => {\r\n-                    forgotPasswordModal.classList.add('hidden');\r\n-                }, 4000);\r\n+                async function handleRegisterFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const password = document.getElementById('ownerPassword').value;\r\n+                    const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+                    if (password !== confirmPassword) {\r\n+                        document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n+                        return;\r\n+                    }\r\n+                    document.getElementById('passwordConfirmError').textContent = '';\r\n \r\n-            } catch (error) {\r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-                recoveryFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                recoverySubmitBtn.disabled = false;\r\n-                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n+                    const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+                    submitBtn.disabled = true;\r\n+                    submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n \r\n-    const registerModal = document.getElementById('registerModal');\r\n-    if (registerModal) {\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-        const registerForm = document.getElementById('registerForm');\r\n-        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n-        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n-        const registerCnpjInput = document.getElementById('registerCnpj');\r\n-        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n+                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+                    registrationFeedback.textContent = '';\r\n \r\n-        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+                    const payload = {\r\n+                        cnpj: registerCnpjMask.unmaskedValue,\r\n+                        nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n+                        email: document.getElementById('registerEmail').value,\r\n+                        telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n+                        username: document.getElementById('ownerUsername').value,\r\n+                        ownerEmail: document.getElementById('ownerEmail').value,\r\n+                        password: password,\r\n+                    };\r\n \r\n-        signUpBtn.addEventListener('click', () => {\r\n-            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n-            registerModal.classList.remove('hidden');\r\n-        });\r\n-        \r\n-        closeRegisterModalBtn.addEventListener('click', () => {\r\n-            registerModal.classList.add('hidden');\r\n-            registerForm.reset();\r\n-        });\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n+                            method: 'POST', \r\n+                            headers: { 'Content-Type': 'application/json' }, \r\n+                            body: JSON.stringify(payload) \r\n+                        });\r\n \r\n-        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n \r\n-        backToRegisterStep1Btn.addEventListener('click', () => {\r\n-            document.getElementById('register-step-2').classList.add('hidden');\r\n-            document.getElementById('register-step-1').classList.remove('hidden');\r\n-        });\r\n+                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                        registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n \r\n-        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n-    }\r\n-    \r\n-    // =================================================================================\r\n-    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n-    // =================================================================================\r\n-    \r\n-    function setupGeneralEventListeners(isLoggedIn = false) {\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n-        \r\n-        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n-        if (!isLoggedIn) {\r\n-        const wolfImageElement = document.querySelector('.animated-wolf');\r\n-        if (wolfImageElement) {\r\n-            let clickCount = 0;\r\n-            let clickTimer = null;\r\n-            wolfImageElement.addEventListener('click', (e) => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        e.preventDefault();\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            activateAdminLogin();\r\n-                            clickCount = 0;\r\n-                            clearTimeout(clickTimer);\r\n-                        }\r\n+                        setTimeout(() => {\r\n+                            closeRegisterModalBtn.click();\r\n+                            const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                            if(mainCnpjInput) {\r\n+                                mainCnpjInput.value = payload.cnpj;\r\n+                                mainCnpjInput.focus();\r\n+                            }\r\n+                        }, 3000);\r\n+                    } catch (error) {\r\n+                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                        registrationFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        submitBtn.disabled = false;\r\n+                        submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n                     }\r\n-                });\r\n+                }\r\n             }\r\n-        }\r\n-    }\r\n-    \r\n-    function activateAdminLogin() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n-            mainLoginForm.dataset.isAdmin = \"true\";\r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-        }\r\n-    }\r\n \r\n-    function handleBackToStep1Click() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        loginStep2.classList.add('hidden');\r\n-        if(cnpjMask) cnpjMask.value = '';\r\n-        loginStep1.classList.remove('hidden');\r\n-        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-        mainLoginForm.dataset.isAdmin = \"false\";\r\n-        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n-        clearLoginErrors();\r\n-    }\r\n+            // --- Lógica do \"Esqueci minha senha\" ---\r\n+            const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n+            if (forgotPasswordModal) {\r\n+                const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n+                const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n+                const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n \r\n-    async function handleNextStepClick() {\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        \r\n-        mainLoginFormFeedback.textContent = '';\r\n-        signUpBtn.classList.add('hidden');\r\n-        \r\n-        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n-            return;\r\n-        }\r\n-\r\n-        nextStepBtn.disabled = true;\r\n-        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message); }\r\n-            loginStep1.classList.add('hidden');\r\n-            loginStep2.classList.remove('hidden');\r\n-        } catch (error) {\r\n-            mainLoginFormFeedback.textContent = error.message;\r\n-            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                signUpBtn.classList.remove('hidden');\r\n-            }\r\n-        } finally {\r\n-            nextStepBtn.disabled = false;\r\n-            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-        }\r\n-    }\r\n-    \r\n-    function handleGoToRegisterStep2() {\r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n-        const companyName = document.getElementById('registerCompanyName').value;\r\n-        const companyEmail = document.getElementById('registerEmail').value;\r\n-\r\n-        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n-            document.getElementById('register-step-1').classList.add('hidden');\r\n-            document.getElementById('register-step-2').classList.remove('hidden');\r\n-        } else {\r\n-            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-        }\r\n-    }\r\n-    \r\n-    async function handleLoginFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-        mainLoginSubmitBtn.disabled = true;\r\n-        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        clearLoginErrors();\r\n-        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n-\r\n-        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n-        const payload = isAdminLoginMode ? \r\n-            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-        try {\r\n-            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { \r\n-                const error = new Error(result.message || 'Erro de validação.');\r\n-                error.details = result.errors;\r\n-                throw error;\r\n-            }\r\n-            localStorage.setItem('authToken', result.token);\r\n-            window.location.reload();\r\n-        } catch (error) {\r\n-            if (error.details) {\r\n-                error.details.forEach(err => {\r\n-                    const errorElement = document.getElementById(`${err.path}Error`);\r\n-                    if (errorElement) { errorElement.textContent = err.msg; }\r\n+                forgotPasswordBtn.addEventListener('click', () => {\r\n+                    forgotPasswordModal.classList.remove('hidden');\r\n+                    document.getElementById('recoveryEmailInput').focus();\r\n                 });\r\n-            } else {\r\n-                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n+                closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n+                    forgotPasswordModal.classList.add('hidden');\r\n+                });\r\n+                forgotPasswordForm.addEventListener('submit', handleForgotPasswordSubmit);\r\n+                \r\n+                async function handleForgotPasswordSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n+                    const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+                    const email = document.getElementById('recoveryEmailInput').value;\r\n+                    \r\n+                    recoverySubmitBtn.disabled = true;\r\n+                    recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n+                    recoveryFormFeedback.textContent = '';\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n+                            method: 'POST',\r\n+                            headers: { 'Content-Type': 'application/json' },\r\n+                            body: JSON.stringify({ email })\r\n+                        });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message); }\r\n+                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                        recoveryFormFeedback.textContent = result.message;\r\n+                        setTimeout(() => {\r\n+                            forgotPasswordModal.classList.add('hidden');\r\n+                        }, 4000);\r\n+                    } catch (error) {\r\n+                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                        recoveryFormFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        recoverySubmitBtn.disabled = false;\r\n+                        recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                    }\r\n+                }\r\n             }\r\n-        } finally {\r\n-            mainLoginSubmitBtn.disabled = false;\r\n-            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            e.target.dataset.isAdmin = \"false\";\r\n-        }\r\n-    }\r\n \r\n-    async function handleRegisterFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const password = document.getElementById('ownerPassword').value;\r\n-        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-        if (password !== confirmPassword) {\r\n-            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n-            return;\r\n-        }\r\n-        document.getElementById('passwordConfirmError').textContent = '';\r\n+            // --- Lógica do formulário de Contato ---\r\n+            const contactForm = document.getElementById('contactForm');\r\n+            if (contactForm) {\r\n+                contactForm.addEventListener('submit', handleContactFormSubmit);\r\n \r\n-        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-        submitBtn.disabled = true;\r\n-        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n-\r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n-\r\n-        const payload = {\r\n-            cnpj: registerCnpjMask.unmaskedValue,\r\n-            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n-            email: document.getElementById('registerEmail').value,\r\n-            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n-            username: document.getElementById('ownerUsername').value,\r\n-            ownerEmail: document.getElementById('ownerEmail').value,\r\n-            password: password,\r\n-        };\r\n-\r\n-        try {\r\n-            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n-            // A URL agora aponta para a nova rota pública em auth.js\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n-                method: 'POST', \r\n-                headers: { 'Content-Type': 'application/json' }, \r\n-                body: JSON.stringify(payload) \r\n-            });\r\n-\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n-\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n-\r\n-            setTimeout(() => {\r\n-                document.getElementById('closeRegisterModalBtn').click();\r\n-                if (cnpjMask) {\r\n-                    cnpjMask.value = payload.cnpj;\r\n-                    document.getElementById('mainCnpjInput').focus();\r\n+                async function handleContactFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+                    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+                    contactSubmitBtn.disabled = true;\r\n+                    contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                    contactFormFeedback.textContent = '';\r\n+                    const payload = {\r\n+                        name: document.getElementById('contactName').value,\r\n+                        email: document.getElementById('contactEmail').value,\r\n+                        subject: document.getElementById('contactSubject').value,\r\n+                        message: document.getElementById('contactMessage').value,\r\n+                    };\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                        contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                        contactFormFeedback.textContent = result.message;\r\n+                        contactForm.reset();\r\n+                    } catch (error) {\r\n+                        contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                        contactFormFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        contactSubmitBtn.disabled = false;\r\n+                        contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                    }\r\n                 }\r\n-            }, 3000);\r\n-        } catch (error) {\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-            registrationFeedback.textContent = error.message;\r\n-        } finally {\r\n-            submitBtn.disabled = false;\r\n-            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+            }\r\n         }\r\n-    }\r\n-    \r\n-    async function handleContactFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-        contactSubmitBtn.disabled = true;\r\n-        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-        contactFormFeedback.textContent = '';\r\n-        const payload = {\r\n-            name: document.getElementById('contactName').value,\r\n-            email: document.getElementById('contactEmail').value,\r\n-            subject: document.getElementById('contactSubject').value,\r\n-            message: document.getElementById('contactMessage').value,\r\n-        };\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-            contactFormFeedback.textContent = result.message;\r\n-            document.getElementById('contactForm').reset();\r\n-        } catch (error) {\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-            contactFormFeedback.textContent = error.message;\r\n-        } finally {\r\n-            contactSubmitBtn.disabled = false;\r\n-            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-        }\r\n-    }\r\n+    }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n });\r\n-\r\n-\r\n-\r\n-\r\n </script>\r\n \r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n@@ -975,50 +912,8 @@\n </div>\r\n \r\n \r\n \r\n-<script>\r\n-document.addEventListener(\"DOMContentLoaded\", function() {\r\n-    const headerPlaceholder = document.getElementById(\"header-placeholder\");\r\n-    const footerPlaceholder = document.getElementById(\"footer-placeholder\");\r\n-    const modalsPlaceholder = document.getElementById(\"modals-placeholder\");\r\n \r\n-    const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n \r\n-    const loadComponent = (url, placeholder) => {\r\n-        return fetch(url)\r\n-            .then(res => res.ok ? res.text() : Promise.reject(`Erro ao carregar ${url}`))\r\n-            .then(data => {\r\n-                if (placeholder) placeholder.innerHTML = data;\r\n-            });\r\n-    };\r\n-\r\n-    Promise.all([\r\n-        loadComponent(`${basePath}components/header.html`, headerPlaceholder),\r\n-        loadComponent(`${basePath}components/footer.html`, footerPlaceholder),\r\n-        loadComponent(`${basePath}components/modals.html`, modalsPlaceholder)\r\n-    ]).then(() => {\r\n-        // --- A CORREÇÃO ESTÁ AQUI ---\r\n-\r\n-        // 1. Carregamos o script dos modais (como antes)\r\n-        const modalScript = document.createElement('script');\r\n-        modalScript.src = `${basePath}scripts/modals.js`;\r\n-        document.body.appendChild(modalScript);\r\n-\r\n-        // 2. Em vez de carregar um 'header.js' externo,\r\n-        //    colocamos a lógica do menu mobile DIRETAMENTE aqui.\r\n-        //    Isto garante que ela só é executada depois do header.html ser carregado.\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-\r\n-        if (mobileMenuButton && mobileMenu) {\r\n-            mobileMenuButton.addEventListener('click', () => {\r\n-                mobileMenu.classList.toggle('hidden');\r\n-            });\r\n-        }\r\n-\r\n-    }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n-});\r\n-</script>\r\n-\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754407325810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -479,9 +479,9 @@\n         modalScript.src = `${basePath}scripts/modals.js`;\r\n         document.body.appendChild(modalScript);\r\n \r\n         // =================================================================================\r\n-        // FUNÇÕES E LÓGICA DE LOGIN\r\n+        // FUNÇÕES GERAIS E DE LÓGICA\r\n         // =================================================================================\r\n         \r\n         /**\r\n          * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n@@ -567,12 +567,31 @@\n                 const el = document.getElementById(id);\r\n                 if (el) el.textContent = '';\r\n             });\r\n         }\r\n+        \r\n+        // --- ADICIONADO: FUNÇÃO DO EASTER EGG ---\r\n+        function activateAdminLogin() {\r\n+            const loginStep1 = document.getElementById('login-step-1');\r\n+            const loginStep2 = document.getElementById('login-step-2');\r\n+            const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+            const mainLoginForm = document.getElementById('mainLoginForm');\r\n+            \r\n+            if (loginStep1 && loginStep2 && mainUsernameInput && mainLoginForm) {\r\n+                document.getElementById('mainCnpjInput').removeAttribute('required');\r\n+                mainLoginForm.dataset.isAdmin = \"true\";\r\n+                loginStep1.classList.add('hidden');\r\n+                mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+                loginStep2.classList.remove('hidden');\r\n+                mainUsernameInput.focus();\r\n+            }\r\n+        }\r\n \r\n+\r\n         // 2. VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n         const token = localStorage.getItem('authToken');\r\n         if (token) {\r\n+            // LÓGICA PARA USUÁRIO LOGADO\r\n             try {\r\n                 const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n                 if (response.ok) {\r\n                     const data = await response.json();\r\n@@ -585,8 +604,28 @@\n                 localStorage.removeItem('authToken');\r\n             }\r\n         } else {\r\n             // 3. LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+            \r\n+            // --- ADICIONADO: SETUP DO LISTENER DO EASTER EGG ---\r\n+            const wolfImageElement = document.querySelector('.animated-wolf');\r\n+            if (wolfImageElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                wolfImageElement.addEventListener('click', () => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            activateAdminLogin();\r\n+                            clickCount = 0;\r\n+                            clearTimeout(clickTimer);\r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+\r\n             let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n             \r\n             // --- Lógica do formulário de Login ---\r\n             const mainLoginForm = document.getElementById('mainLoginForm');\r\n@@ -805,16 +844,22 @@\n                 const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n                 const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n                 const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n \r\n-                forgotPasswordBtn.addEventListener('click', () => {\r\n-                    forgotPasswordModal.classList.remove('hidden');\r\n-                    document.getElementById('recoveryEmailInput').focus();\r\n-                });\r\n-                closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n-                    forgotPasswordModal.classList.add('hidden');\r\n-                });\r\n-                forgotPasswordForm.addEventListener('submit', handleForgotPasswordSubmit);\r\n+                if (forgotPasswordBtn) {\r\n+                    forgotPasswordBtn.addEventListener('click', () => {\r\n+                        forgotPasswordModal.classList.remove('hidden');\r\n+                        document.getElementById('recoveryEmailInput').focus();\r\n+                    });\r\n+                }\r\n+                if (closeForgotPasswordModalBtn) {\r\n+                    closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n+                        forgotPasswordModal.classList.add('hidden');\r\n+                    });\r\n+                }\r\n+                if (forgotPasswordForm) {\r\n+                    forgotPasswordForm.addEventListener('submit', handleForgotPasswordSubmit);\r\n+                }\r\n                 \r\n                 async function handleForgotPasswordSubmit(e) {\r\n                     e.preventDefault();\r\n                     const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n"
                },
                {
                    "date": 1754501069696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -471,8 +471,13 @@\n             mobileMenuButton.addEventListener('click', () => {\r\n                 mobileMenu.classList.toggle('hidden');\r\n             });\r\n         }\r\n+        const copyrightTextElement = document.getElementById('copyright-text');\r\n+        if (copyrightTextElement) {\r\n+            const currentYear = new Date().getFullYear();\r\n+            copyrightTextElement.innerHTML = `&copy; ${currentYear} LobosTI. Todos os direitos reservados.`;\r\n+        }\r\n         \r\n         // Carrega o script que controla os modais (Termos de Uso, Privacidade)\r\n         const modalScript = document.createElement('script');\r\n         const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n"
                },
                {
                    "date": 1754520097656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,67 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <style>\r\n-        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n-        \r\n-        body {\r\n-            font-family: 'Poppins', sans-serif;\r\n-            background-color: #0f172a;\r\n-            color: #e2e8f0;\r\n-        }\r\n-        \r\n-        .hero-gradient {\r\n-            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n-        }\r\n-        \r\n-        .service-card:hover {\r\n-            transform: translateY(-5px);\r\n-            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .wolf-logo {\r\n-            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n-        }\r\n-        \r\n-        .login-form {\r\n-            backdrop-filter: blur(10px);\r\n-            background: rgba(15, 23, 42, 0.8);\r\n-            border: 1px solid rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .nav-link {\r\n-            position: relative;\r\n-        }\r\n-        \r\n-        .nav-link::after {\r\n-            content: '';\r\n-            position: absolute;\r\n-            width: 0;\r\n-            height: 2px;\r\n-            bottom: -2px;\r\n-            left: 0;\r\n-            background-color: #6366f1;\r\n-            transition: width 0.3s ease;\r\n-        }\r\n-        \r\n-        .nav-link:hover::after {\r\n-            width: 100%;\r\n-        }\r\n-        \r\n-        .animated-wolf {\r\n-            animation: float 6s ease-in-out infinite;\r\n-        }\r\n-        \r\n-        @keyframes float {\r\n-            0% { transform: translateY(0px); }\r\n-            50% { transform: translateY(-15px); }\r\n-            100% { transform: translateY(0px); }\r\n-        }\r\n-    </style>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n \r\n"
                },
                {
                    "date": 1754522359766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -376,510 +376,10 @@\n         </div>\r\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n-<script type=\"module\">\r\n-import { API_BASE_URL } from './scripts/config.js';\r\n+<script type=\"module\" src=\"scripts/index-logic.js\"></script>\r\n \r\n-document.addEventListener('DOMContentLoaded', () => {\r\n-\r\n-    // FUNÇÃO PARA CARREGAR COMPONENTES (HEADER, FOOTER, MODAIS)\r\n-    const loadComponent = (url, placeholder) => {\r\n-        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n-        return fetch(basePath + url)\r\n-            .then(res => {\r\n-                if (!res.ok) {\r\n-                    throw new Error(`Erro ao carregar ${url}: ${res.statusText}`);\r\n-                }\r\n-                return res.text();\r\n-            })\r\n-            .then(data => {\r\n-                if (placeholder) {\r\n-                    placeholder.innerHTML = data;\r\n-                }\r\n-            });\r\n-    };\r\n-\r\n-    // CARREGA TODOS OS COMPONENTES PRIMEIRO\r\n-    Promise.all([\r\n-        loadComponent('components/header.html', document.getElementById(\"header-placeholder\")),\r\n-        loadComponent('components/footer.html', document.getElementById(\"footer-placeholder\")),\r\n-        loadComponent('components/modals.html', document.getElementById(\"modals-placeholder\"))\r\n-    ]).then(async () => {\r\n-        // --- TODA A LÓGICA AGORA FICA DENTRO DO .then() ---\r\n-\r\n-        // 1. ADICIONA O EVENTO DO MENU MOBILE (AGORA O BOTÃO JÁ EXISTE)\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton && mobileMenu) {\r\n-            mobileMenuButton.addEventListener('click', () => {\r\n-                mobileMenu.classList.toggle('hidden');\r\n-            });\r\n-        }\r\n-        const copyrightTextElement = document.getElementById('copyright-text');\r\n-        if (copyrightTextElement) {\r\n-            const currentYear = new Date().getFullYear();\r\n-            copyrightTextElement.innerHTML = `&copy; ${currentYear} LobosTI. Todos os direitos reservados.`;\r\n-        }\r\n-        \r\n-        // Carrega o script que controla os modais (Termos de Uso, Privacidade)\r\n-        const modalScript = document.createElement('script');\r\n-        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n-        modalScript.src = `${basePath}scripts/modals.js`;\r\n-        document.body.appendChild(modalScript);\r\n-\r\n-        // =================================================================================\r\n-        // FUNÇÕES GERAIS E DE LÓGICA\r\n-        // =================================================================================\r\n-        \r\n-        /**\r\n-         * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n-         * @param {object} user - O objeto do utilizador logado.\r\n-         * @param {object} company - O objeto da empresa do utilizador.\r\n-         */\r\n-        function updateUIForLoggedInUser(user, company) {\r\n-            // ATUALIZA A BARRA DE NAVEGAÇÃO (DESKTOP)\r\n-            const desktopMenu = document.getElementById('desktop-menu-items');\r\n-            const navLoginLink = document.getElementById('nav-login-link');\r\n-            if (desktopMenu && navLoginLink && !document.getElementById('desktop-logout-btn')) {\r\n-                navLoginLink.textContent = 'Aceder ao Painel';\r\n-                navLoginLink.href = 'OrgBoletos.html';\r\n-                const logoutButton = document.createElement('button');\r\n-                logoutButton.id = 'desktop-logout-btn';\r\n-                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-                logoutButton.textContent = 'Sair';\r\n-                desktopMenu.appendChild(logoutButton);\r\n-                logoutButton.addEventListener('click', () => {\r\n-                    localStorage.removeItem('authToken');\r\n-                    window.location.reload();\r\n-                });\r\n-            }\r\n-\r\n-            // ATUALIZA A BARRA DE NAVEGAÇÃO (MOBILE)\r\n-            const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n-            const mobileLoginLink = document.getElementById('mobile-nav-login-link');\r\n-            if (mobileMenuItems && mobileLoginLink && !document.getElementById('mobile-logout-btn')) {\r\n-                mobileLoginLink.textContent = 'Aceder ao Painel';\r\n-                mobileLoginLink.href = 'OrgBoletos.html';\r\n-                const logoutButtonMobile = document.createElement('a');\r\n-                logoutButtonMobile.id = 'mobile-logout-btn';\r\n-                logoutButtonMobile.href = '#';\r\n-                logoutButtonMobile.className = 'bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium';\r\n-                logoutButtonMobile.textContent = 'Sair';\r\n-                logoutButtonMobile.addEventListener('click', (e) => {\r\n-                    e.preventDefault();\r\n-                    localStorage.removeItem('authToken');\r\n-                    window.location.reload();\r\n-                });\r\n-                mobileMenuItems.appendChild(logoutButtonMobile);\r\n-            }\r\n-\r\n-            // ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n-            const loginSectionContent = document.getElementById('login-section-content');\r\n-            if (loginSectionContent) {\r\n-                loginSectionContent.innerHTML = `\r\n-                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n-                    <div class=\"text-center text-gray-300\">\r\n-                        <p>Você já está autenticado.</p>\r\n-                        <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n-                    </div>\r\n-                `;\r\n-            }\r\n-\r\n-            // ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n-            const boletoCardLink = document.getElementById('boleto-card-link');\r\n-            if (boletoCardLink) {\r\n-                const subscription = company.subscription;\r\n-                const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n-                \r\n-                boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n-                boletoCardLink.href = 'OrgBoletos.html';\r\n-\r\n-                if (user.role === 'Proprietário') {\r\n-                    if (isSubscriptionActive) {\r\n-                        boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                        boletoCardLink.classList.add('text-green-500');\r\n-                    } else {\r\n-                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                        boletoCardLink.classList.add('text-red-500');\r\n-                    }\r\n-                } else {\r\n-                    boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n-                    boletoCardLink.classList.add('text-green-500');\r\n-                }\r\n-            }\r\n-        }\r\n-        \r\n-        function clearLoginErrors() {\r\n-            const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-            fields.forEach(id => {\r\n-                const el = document.getElementById(id);\r\n-                if (el) el.textContent = '';\r\n-            });\r\n-        }\r\n-        \r\n-        // --- ADICIONADO: FUNÇÃO DO EASTER EGG ---\r\n-        function activateAdminLogin() {\r\n-            const loginStep1 = document.getElementById('login-step-1');\r\n-            const loginStep2 = document.getElementById('login-step-2');\r\n-            const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-            const mainLoginForm = document.getElementById('mainLoginForm');\r\n-            \r\n-            if (loginStep1 && loginStep2 && mainUsernameInput && mainLoginForm) {\r\n-                document.getElementById('mainCnpjInput').removeAttribute('required');\r\n-                mainLoginForm.dataset.isAdmin = \"true\";\r\n-                loginStep1.classList.add('hidden');\r\n-                mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-                loginStep2.classList.remove('hidden');\r\n-                mainUsernameInput.focus();\r\n-            }\r\n-        }\r\n-\r\n-\r\n-        // 2. VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n-        const token = localStorage.getItem('authToken');\r\n-        if (token) {\r\n-            // LÓGICA PARA USUÁRIO LOGADO\r\n-            try {\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-                if (response.ok) {\r\n-                    const data = await response.json();\r\n-                    updateUIForLoggedInUser(data.user, data.company);\r\n-                } else {\r\n-                    localStorage.removeItem('authToken');\r\n-                }\r\n-            } catch (error) {\r\n-                console.error(\"Erro ao verificar sessão:\", error);\r\n-                localStorage.removeItem('authToken');\r\n-            }\r\n-        } else {\r\n-            // 3. LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n-            \r\n-            // --- ADICIONADO: SETUP DO LISTENER DO EASTER EGG ---\r\n-            const wolfImageElement = document.querySelector('.animated-wolf');\r\n-            if (wolfImageElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                wolfImageElement.addEventListener('click', () => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            activateAdminLogin();\r\n-                            clickCount = 0;\r\n-                            clearTimeout(clickTimer);\r\n-                        }\r\n-                    }\r\n-                });\r\n-            }\r\n-\r\n-            let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n-            \r\n-            // --- Lógica do formulário de Login ---\r\n-            const mainLoginForm = document.getElementById('mainLoginForm');\r\n-            if (mainLoginForm) {\r\n-                const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-                const nextStepBtn = document.getElementById('nextStepBtn');\r\n-                const signUpBtn = document.getElementById('signUpBtn');\r\n-                const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-                \r\n-                cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-                \r\n-                cnpjMask.on('accept', () => {\r\n-                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-                    signUpBtn.classList.add('hidden');\r\n-                });\r\n-\r\n-                nextStepBtn.addEventListener('click', handleNextStepClick);\r\n-                backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n-                mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-\r\n-                async function handleNextStepClick() {\r\n-                    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-                    const signUpBtn = document.getElementById('signUpBtn');\r\n-                    const nextStepBtn = document.getElementById('nextStepBtn');\r\n-                    const loginStep1 = document.getElementById('login-step-1');\r\n-                    const loginStep2 = document.getElementById('login-step-2');\r\n-                    \r\n-                    mainLoginFormFeedback.textContent = '';\r\n-                    signUpBtn.classList.add('hidden');\r\n-                    \r\n-                    if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n-                        mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n-                        return;\r\n-                    }\r\n-\r\n-                    nextStepBtn.disabled = true;\r\n-                    nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-                    try {\r\n-                        const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n-                        const result = await response.json();\r\n-                        if (!response.ok) { throw new Error(result.message); }\r\n-                        loginStep1.classList.add('hidden');\r\n-                        loginStep2.classList.remove('hidden');\r\n-                    } catch (error) {\r\n-                        mainLoginFormFeedback.textContent = error.message;\r\n-                        if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                            signUpBtn.classList.remove('hidden');\r\n-                        }\r\n-                    } finally {\r\n-                        nextStepBtn.disabled = false;\r\n-                        nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-                    }\r\n-                }\r\n-                \r\n-                function handleBackToStep1Click() {\r\n-                    const loginStep1 = document.getElementById('login-step-1');\r\n-                    const loginStep2 = document.getElementById('login-step-2');\r\n-                    loginStep2.classList.add('hidden');\r\n-                    if(cnpjMask) cnpjMask.value = '';\r\n-                    loginStep1.classList.remove('hidden');\r\n-                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-                    mainLoginForm.dataset.isAdmin = \"false\";\r\n-                    document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n-                    clearLoginErrors();\r\n-                }\r\n-                \r\n-                async function handleLoginFormSubmit(e) {\r\n-                    e.preventDefault();\r\n-                    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-                    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-                    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-                    mainLoginSubmitBtn.disabled = true;\r\n-                    mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-                    clearLoginErrors();\r\n-                    const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n-\r\n-                    const payload = isAdminLoginMode ? \r\n-                        { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-                        { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-                    try {\r\n-                        const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n-                        const result = await response.json();\r\n-                        if (!response.ok) { \r\n-                            const error = new Error(result.message || 'Erro de validação.');\r\n-                            error.details = result.errors;\r\n-                            throw error;\r\n-                        }\r\n-                        localStorage.setItem('authToken', result.token);\r\n-                        window.location.reload();\r\n-                    } catch (error) {\r\n-                        if (error.details) {\r\n-                            error.details.forEach(err => {\r\n-                                const errorElement = document.getElementById(`${err.path}Error`);\r\n-                                if (errorElement) { errorElement.textContent = err.msg; }\r\n-                            });\r\n-                        } else {\r\n-                            document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n-                        }\r\n-                    } finally {\r\n-                        mainLoginSubmitBtn.disabled = false;\r\n-                        mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-                        e.target.dataset.isAdmin = \"false\";\r\n-                    }\r\n-                }\r\n-            }\r\n-            \r\n-            // --- Lógica do Modal de Cadastro ---\r\n-            const registerModal = document.getElementById('registerModal');\r\n-            if (registerModal) {\r\n-                const signUpBtn = document.getElementById('signUpBtn');\r\n-                const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-                const registerForm = document.getElementById('registerForm');\r\n-                const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n-                const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n-                const registerCnpjInput = document.getElementById('registerCnpj');\r\n-                const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n-\r\n-                registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-                registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n-\r\n-                signUpBtn.addEventListener('click', () => {\r\n-                    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-                    if (mainCnpjInput && registerCnpjMask) { \r\n-                        registerCnpjMask.value = mainCnpjInput.value; \r\n-                    }\r\n-                    registerModal.classList.remove('hidden');\r\n-                });\r\n-                \r\n-                closeRegisterModalBtn.addEventListener('click', () => {\r\n-                    registerModal.classList.add('hidden');\r\n-                    registerForm.reset();\r\n-                });\r\n-\r\n-                goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n-                backToRegisterStep1Btn.addEventListener('click', () => {\r\n-                    document.getElementById('register-step-2').classList.add('hidden');\r\n-                    document.getElementById('register-step-1').classList.remove('hidden');\r\n-                });\r\n-                registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n-\r\n-                function handleGoToRegisterStep2() {\r\n-                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n-                    registrationFeedback.textContent = '';\r\n-                    const companyName = document.getElementById('registerCompanyName').value;\r\n-                    const companyEmail = document.getElementById('registerEmail').value;\r\n-\r\n-                    if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n-                        document.getElementById('register-step-1').classList.add('hidden');\r\n-                        document.getElementById('register-step-2').classList.remove('hidden');\r\n-                    } else {\r\n-                        registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-                    }\r\n-                }\r\n-\r\n-                async function handleRegisterFormSubmit(e) {\r\n-                    e.preventDefault();\r\n-                    const password = document.getElementById('ownerPassword').value;\r\n-                    const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-                    if (password !== confirmPassword) {\r\n-                        document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n-                        return;\r\n-                    }\r\n-                    document.getElementById('passwordConfirmError').textContent = '';\r\n-\r\n-                    const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-                    submitBtn.disabled = true;\r\n-                    submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n-\r\n-                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n-                    registrationFeedback.textContent = '';\r\n-\r\n-                    const payload = {\r\n-                        cnpj: registerCnpjMask.unmaskedValue,\r\n-                        nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n-                        email: document.getElementById('registerEmail').value,\r\n-                        telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n-                        username: document.getElementById('ownerUsername').value,\r\n-                        ownerEmail: document.getElementById('ownerEmail').value,\r\n-                        password: password,\r\n-                    };\r\n-\r\n-                    try {\r\n-                        const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n-                            method: 'POST', \r\n-                            headers: { 'Content-Type': 'application/json' }, \r\n-                            body: JSON.stringify(payload) \r\n-                        });\r\n-\r\n-                        const result = await response.json();\r\n-                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n-\r\n-                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-                        registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n-\r\n-                        setTimeout(() => {\r\n-                            closeRegisterModalBtn.click();\r\n-                            const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-                            if(mainCnpjInput) {\r\n-                                mainCnpjInput.value = payload.cnpj;\r\n-                                mainCnpjInput.focus();\r\n-                            }\r\n-                        }, 3000);\r\n-                    } catch (error) {\r\n-                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-                        registrationFeedback.textContent = error.message;\r\n-                    } finally {\r\n-                        submitBtn.disabled = false;\r\n-                        submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n-                    }\r\n-                }\r\n-            }\r\n-\r\n-            // --- Lógica do \"Esqueci minha senha\" ---\r\n-            const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n-            if (forgotPasswordModal) {\r\n-                const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n-                const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n-                const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n-\r\n-                if (forgotPasswordBtn) {\r\n-                    forgotPasswordBtn.addEventListener('click', () => {\r\n-                        forgotPasswordModal.classList.remove('hidden');\r\n-                        document.getElementById('recoveryEmailInput').focus();\r\n-                    });\r\n-                }\r\n-                if (closeForgotPasswordModalBtn) {\r\n-                    closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n-                        forgotPasswordModal.classList.add('hidden');\r\n-                    });\r\n-                }\r\n-                if (forgotPasswordForm) {\r\n-                    forgotPasswordForm.addEventListener('submit', handleForgotPasswordSubmit);\r\n-                }\r\n-                \r\n-                async function handleForgotPasswordSubmit(e) {\r\n-                    e.preventDefault();\r\n-                    const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n-                    const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n-                    const email = document.getElementById('recoveryEmailInput').value;\r\n-                    \r\n-                    recoverySubmitBtn.disabled = true;\r\n-                    recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n-                    recoveryFormFeedback.textContent = '';\r\n-                    try {\r\n-                        const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n-                            method: 'POST',\r\n-                            headers: { 'Content-Type': 'application/json' },\r\n-                            body: JSON.stringify({ email })\r\n-                        });\r\n-                        const result = await response.json();\r\n-                        if (!response.ok) { throw new Error(result.message); }\r\n-                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-                        recoveryFormFeedback.textContent = result.message;\r\n-                        setTimeout(() => {\r\n-                            forgotPasswordModal.classList.add('hidden');\r\n-                        }, 4000);\r\n-                    } catch (error) {\r\n-                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-                        recoveryFormFeedback.textContent = error.message;\r\n-                    } finally {\r\n-                        recoverySubmitBtn.disabled = false;\r\n-                        recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-                    }\r\n-                }\r\n-            }\r\n-\r\n-            // --- Lógica do formulário de Contato ---\r\n-            const contactForm = document.getElementById('contactForm');\r\n-            if (contactForm) {\r\n-                contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-\r\n-                async function handleContactFormSubmit(e) {\r\n-                    e.preventDefault();\r\n-                    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-                    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-                    contactSubmitBtn.disabled = true;\r\n-                    contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-                    contactFormFeedback.textContent = '';\r\n-                    const payload = {\r\n-                        name: document.getElementById('contactName').value,\r\n-                        email: document.getElementById('contactEmail').value,\r\n-                        subject: document.getElementById('contactSubject').value,\r\n-                        message: document.getElementById('contactMessage').value,\r\n-                    };\r\n-                    try {\r\n-                        const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n-                        const result = await response.json();\r\n-                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-                        contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-                        contactFormFeedback.textContent = result.message;\r\n-                        contactForm.reset();\r\n-                    } catch (error) {\r\n-                        contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-                        contactFormFeedback.textContent = error.message;\r\n-                    } finally {\r\n-                        contactSubmitBtn.disabled = false;\r\n-                        contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-                    }\r\n-                }\r\n-            }\r\n-        }\r\n-    }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n-});\r\n-</script>\r\n-\r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n         \r\n         <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n"
                },
                {
                    "date": 1754522393395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -403,10 +403,6 @@\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n \r\n-\r\n-\r\n-\r\n-\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754522554609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754531573244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,13 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <link rel=\"stylesheet\" href=\"style.css\">\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+    <style>\r\n+\r\n+    </style>\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n \r\n@@ -375,10 +379,510 @@\n         </div>\r\n     </div>\r\n \r\n <script src=\"https://unpkg.com/imask\"></script>\r\n-<script type=\"module\" src=\"scripts/index-logic.js\"></script>\r\n+<script type=\"module\">\r\n+import { API_BASE_URL } from './scripts/config.js';\r\n \r\n+document.addEventListener('DOMContentLoaded', () => {\r\n+\r\n+    // FUNÇÃO PARA CARREGAR COMPONENTES (HEADER, FOOTER, MODAIS)\r\n+    const loadComponent = (url, placeholder) => {\r\n+        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+        return fetch(basePath + url)\r\n+            .then(res => {\r\n+                if (!res.ok) {\r\n+                    throw new Error(`Erro ao carregar ${url}: ${res.statusText}`);\r\n+                }\r\n+                return res.text();\r\n+            })\r\n+            .then(data => {\r\n+                if (placeholder) {\r\n+                    placeholder.innerHTML = data;\r\n+                }\r\n+            });\r\n+    };\r\n+\r\n+    // CARREGA TODOS OS COMPONENTES PRIMEIRO\r\n+    Promise.all([\r\n+        loadComponent('components/header.html', document.getElementById(\"header-placeholder\")),\r\n+        loadComponent('components/footer.html', document.getElementById(\"footer-placeholder\")),\r\n+        loadComponent('components/modals.html', document.getElementById(\"modals-placeholder\"))\r\n+    ]).then(async () => {\r\n+        // --- TODA A LÓGICA AGORA FICA DENTRO DO .then() ---\r\n+\r\n+        // 1. ADICIONA O EVENTO DO MENU MOBILE (AGORA O BOTÃO JÁ EXISTE)\r\n+        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n+        const mobileMenu = document.getElementById('mobile-menu');\r\n+        if (mobileMenuButton && mobileMenu) {\r\n+            mobileMenuButton.addEventListener('click', () => {\r\n+                mobileMenu.classList.toggle('hidden');\r\n+            });\r\n+        }\r\n+        const copyrightTextElement = document.getElementById('copyright-text');\r\n+        if (copyrightTextElement) {\r\n+            const currentYear = new Date().getFullYear();\r\n+            copyrightTextElement.innerHTML = `&copy; ${currentYear} LobosTI. Todos os direitos reservados.`;\r\n+        }\r\n+        \r\n+        // Carrega o script que controla os modais (Termos de Uso, Privacidade)\r\n+        const modalScript = document.createElement('script');\r\n+        const basePath = window.location.pathname.includes('/pages/') ? '../' : '';\r\n+        modalScript.src = `${basePath}scripts/modals.js`;\r\n+        document.body.appendChild(modalScript);\r\n+\r\n+        // =================================================================================\r\n+        // FUNÇÕES GERAIS E DE LÓGICA\r\n+        // =================================================================================\r\n+        \r\n+        /**\r\n+         * Atualiza toda a interface do Index.html para um utilizador autenticado.\r\n+         * @param {object} user - O objeto do utilizador logado.\r\n+         * @param {object} company - O objeto da empresa do utilizador.\r\n+         */\r\n+        function updateUIForLoggedInUser(user, company) {\r\n+            // ATUALIZA A BARRA DE NAVEGAÇÃO (DESKTOP)\r\n+            const desktopMenu = document.getElementById('desktop-menu-items');\r\n+            const navLoginLink = document.getElementById('nav-login-link');\r\n+            if (desktopMenu && navLoginLink && !document.getElementById('desktop-logout-btn')) {\r\n+                navLoginLink.textContent = 'Aceder ao Painel';\r\n+                navLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButton = document.createElement('button');\r\n+                logoutButton.id = 'desktop-logout-btn';\r\n+                logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n+                logoutButton.textContent = 'Sair';\r\n+                desktopMenu.appendChild(logoutButton);\r\n+                logoutButton.addEventListener('click', () => {\r\n+                    localStorage.removeItem('authToken');\r\n+                    window.location.reload();\r\n+                });\r\n+            }\r\n+\r\n+            // ATUALIZA A BARRA DE NAVEGAÇÃO (MOBILE)\r\n+            const mobileMenuItems = document.getElementById('mobile-menu-items');\r\n+            const mobileLoginLink = document.getElementById('mobile-nav-login-link');\r\n+            if (mobileMenuItems && mobileLoginLink && !document.getElementById('mobile-logout-btn')) {\r\n+                mobileLoginLink.textContent = 'Aceder ao Painel';\r\n+                mobileLoginLink.href = 'OrgBoletos.html';\r\n+                const logoutButtonMobile = document.createElement('a');\r\n+                logoutButtonMobile.id = 'mobile-logout-btn';\r\n+                logoutButtonMobile.href = '#';\r\n+                logoutButtonMobile.className = 'bg-red-600 text-white block px-3 py-2 rounded-md text-base font-medium';\r\n+                logoutButtonMobile.textContent = 'Sair';\r\n+                logoutButtonMobile.addEventListener('click', (e) => {\r\n+                    e.preventDefault();\r\n+                    localStorage.removeItem('authToken');\r\n+                    window.location.reload();\r\n+                });\r\n+                mobileMenuItems.appendChild(logoutButtonMobile);\r\n+            }\r\n+\r\n+            // ATUALIZA A SECÇÃO DE LOGIN PRINCIPAL\r\n+            const loginSectionContent = document.getElementById('login-section-content');\r\n+            if (loginSectionContent) {\r\n+                loginSectionContent.innerHTML = `\r\n+                    <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Sessão Iniciada</h3>\r\n+                    <div class=\"text-center text-gray-300\">\r\n+                        <p>Você já está autenticado.</p>\r\n+                        <p class=\"mt-2 text-sm\">Para aceder ao sistema, utilize o menu no topo da página ou o card de serviços.</p>\r\n+                    </div>\r\n+                `;\r\n+            }\r\n+\r\n+            // ATUALIZA O CARD DE SERVIÇO 'ORGANIZADOR DE BOLETOS'\r\n+            const boletoCardLink = document.getElementById('boleto-card-link');\r\n+            if (boletoCardLink) {\r\n+                const subscription = company.subscription;\r\n+                const isSubscriptionActive = subscription && subscription.status === 'active' && new Date(subscription.endDate) > new Date();\r\n+                \r\n+                boletoCardLink.classList.remove('text-yellow-500', 'text-green-500', 'text-red-500');\r\n+                boletoCardLink.href = 'OrgBoletos.html';\r\n+\r\n+                if (user.role === 'Proprietário') {\r\n+                    if (isSubscriptionActive) {\r\n+                        boletoCardLink.innerHTML = 'Aceder ao Painel <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-green-500');\r\n+                    } else {\r\n+                        boletoCardLink.innerHTML = 'Renovar Assinatura <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                        boletoCardLink.classList.add('text-red-500');\r\n+                    }\r\n+                } else {\r\n+                    boletoCardLink.innerHTML = 'Aceder ao Sistema <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>';\r\n+                    boletoCardLink.classList.add('text-green-500');\r\n+                }\r\n+            }\r\n+        }\r\n+        \r\n+        function clearLoginErrors() {\r\n+            const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n+            fields.forEach(id => {\r\n+                const el = document.getElementById(id);\r\n+                if (el) el.textContent = '';\r\n+            });\r\n+        }\r\n+        \r\n+        // --- ADICIONADO: FUNÇÃO DO EASTER EGG ---\r\n+        function activateAdminLogin() {\r\n+            const loginStep1 = document.getElementById('login-step-1');\r\n+            const loginStep2 = document.getElementById('login-step-2');\r\n+            const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+            const mainLoginForm = document.getElementById('mainLoginForm');\r\n+            \r\n+            if (loginStep1 && loginStep2 && mainUsernameInput && mainLoginForm) {\r\n+                document.getElementById('mainCnpjInput').removeAttribute('required');\r\n+                mainLoginForm.dataset.isAdmin = \"true\";\r\n+                loginStep1.classList.add('hidden');\r\n+                mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n+                loginStep2.classList.remove('hidden');\r\n+                mainUsernameInput.focus();\r\n+            }\r\n+        }\r\n+\r\n+\r\n+        // 2. VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n+        const token = localStorage.getItem('authToken');\r\n+        if (token) {\r\n+            // LÓGICA PARA USUÁRIO LOGADO\r\n+            try {\r\n+                const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n+                if (response.ok) {\r\n+                    const data = await response.json();\r\n+                    updateUIForLoggedInUser(data.user, data.company);\r\n+                } else {\r\n+                    localStorage.removeItem('authToken');\r\n+                }\r\n+            } catch (error) {\r\n+                console.error(\"Erro ao verificar sessão:\", error);\r\n+                localStorage.removeItem('authToken');\r\n+            }\r\n+        } else {\r\n+            // 3. LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n+            \r\n+            // --- ADICIONADO: SETUP DO LISTENER DO EASTER EGG ---\r\n+            const wolfImageElement = document.querySelector('.animated-wolf');\r\n+            if (wolfImageElement) {\r\n+                let clickCount = 0;\r\n+                let clickTimer = null;\r\n+                wolfImageElement.addEventListener('click', () => {\r\n+                    if (document.getElementById('mainLoginForm')) {\r\n+                        clickCount++;\r\n+                        clearTimeout(clickTimer);\r\n+                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n+                        if (clickCount === 7) {\r\n+                            activateAdminLogin();\r\n+                            clickCount = 0;\r\n+                            clearTimeout(clickTimer);\r\n+                        }\r\n+                    }\r\n+                });\r\n+            }\r\n+\r\n+            let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n+            \r\n+            // --- Lógica do formulário de Login ---\r\n+            const mainLoginForm = document.getElementById('mainLoginForm');\r\n+            if (mainLoginForm) {\r\n+                const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                const nextStepBtn = document.getElementById('nextStepBtn');\r\n+                const signUpBtn = document.getElementById('signUpBtn');\r\n+                const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n+                \r\n+                cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n+                \r\n+                cnpjMask.on('accept', () => {\r\n+                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+                    signUpBtn.classList.add('hidden');\r\n+                });\r\n+\r\n+                nextStepBtn.addEventListener('click', handleNextStepClick);\r\n+                backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n+                mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n+\r\n+                async function handleNextStepClick() {\r\n+                    const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n+                    const signUpBtn = document.getElementById('signUpBtn');\r\n+                    const nextStepBtn = document.getElementById('nextStepBtn');\r\n+                    const loginStep1 = document.getElementById('login-step-1');\r\n+                    const loginStep2 = document.getElementById('login-step-2');\r\n+                    \r\n+                    mainLoginFormFeedback.textContent = '';\r\n+                    signUpBtn.classList.add('hidden');\r\n+                    \r\n+                    if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n+                        mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n+                        return;\r\n+                    }\r\n+\r\n+                    nextStepBtn.disabled = true;\r\n+                    nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message); }\r\n+                        loginStep1.classList.add('hidden');\r\n+                        loginStep2.classList.remove('hidden');\r\n+                    } catch (error) {\r\n+                        mainLoginFormFeedback.textContent = error.message;\r\n+                        if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n+                            signUpBtn.classList.remove('hidden');\r\n+                        }\r\n+                    } finally {\r\n+                        nextStepBtn.disabled = false;\r\n+                        nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n+                    }\r\n+                }\r\n+                \r\n+                function handleBackToStep1Click() {\r\n+                    const loginStep1 = document.getElementById('login-step-1');\r\n+                    const loginStep2 = document.getElementById('login-step-2');\r\n+                    loginStep2.classList.add('hidden');\r\n+                    if(cnpjMask) cnpjMask.value = '';\r\n+                    loginStep1.classList.remove('hidden');\r\n+                    document.getElementById('mainLoginFormFeedback').textContent = '';\r\n+                    mainLoginForm.dataset.isAdmin = \"false\";\r\n+                    document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n+                    clearLoginErrors();\r\n+                }\r\n+                \r\n+                async function handleLoginFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n+                    const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n+                    const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n+                    mainLoginSubmitBtn.disabled = true;\r\n+                    mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n+                    clearLoginErrors();\r\n+                    const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n+\r\n+                    const payload = isAdminLoginMode ? \r\n+                        { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n+                        { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n+                    try {\r\n+                        const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { \r\n+                            const error = new Error(result.message || 'Erro de validação.');\r\n+                            error.details = result.errors;\r\n+                            throw error;\r\n+                        }\r\n+                        localStorage.setItem('authToken', result.token);\r\n+                        window.location.reload();\r\n+                    } catch (error) {\r\n+                        if (error.details) {\r\n+                            error.details.forEach(err => {\r\n+                                const errorElement = document.getElementById(`${err.path}Error`);\r\n+                                if (errorElement) { errorElement.textContent = err.msg; }\r\n+                            });\r\n+                        } else {\r\n+                            document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n+                        }\r\n+                    } finally {\r\n+                        mainLoginSubmitBtn.disabled = false;\r\n+                        mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n+                        e.target.dataset.isAdmin = \"false\";\r\n+                    }\r\n+                }\r\n+            }\r\n+            \r\n+            // --- Lógica do Modal de Cadastro ---\r\n+            const registerModal = document.getElementById('registerModal');\r\n+            if (registerModal) {\r\n+                const signUpBtn = document.getElementById('signUpBtn');\r\n+                const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n+                const registerForm = document.getElementById('registerForm');\r\n+                const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n+                const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n+                const registerCnpjInput = document.getElementById('registerCnpj');\r\n+                const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n+\r\n+                registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n+                registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+\r\n+                signUpBtn.addEventListener('click', () => {\r\n+                    const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                    if (mainCnpjInput && registerCnpjMask) { \r\n+                        registerCnpjMask.value = mainCnpjInput.value; \r\n+                    }\r\n+                    registerModal.classList.remove('hidden');\r\n+                });\r\n+                \r\n+                closeRegisterModalBtn.addEventListener('click', () => {\r\n+                    registerModal.classList.add('hidden');\r\n+                    registerForm.reset();\r\n+                });\r\n+\r\n+                goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n+                backToRegisterStep1Btn.addEventListener('click', () => {\r\n+                    document.getElementById('register-step-2').classList.add('hidden');\r\n+                    document.getElementById('register-step-1').classList.remove('hidden');\r\n+                });\r\n+                registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n+\r\n+                function handleGoToRegisterStep2() {\r\n+                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+                    registrationFeedback.textContent = '';\r\n+                    const companyName = document.getElementById('registerCompanyName').value;\r\n+                    const companyEmail = document.getElementById('registerEmail').value;\r\n+\r\n+                    if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n+                        document.getElementById('register-step-1').classList.add('hidden');\r\n+                        document.getElementById('register-step-2').classList.remove('hidden');\r\n+                    } else {\r\n+                        registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n+                    }\r\n+                }\r\n+\r\n+                async function handleRegisterFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const password = document.getElementById('ownerPassword').value;\r\n+                    const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n+                    if (password !== confirmPassword) {\r\n+                        document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n+                        return;\r\n+                    }\r\n+                    document.getElementById('passwordConfirmError').textContent = '';\r\n+\r\n+                    const submitBtn = document.getElementById('submitRegistrationBtn');\r\n+                    submitBtn.disabled = true;\r\n+                    submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+\r\n+                    const registrationFeedback = document.getElementById('registrationFeedback');\r\n+                    registrationFeedback.textContent = '';\r\n+\r\n+                    const payload = {\r\n+                        cnpj: registerCnpjMask.unmaskedValue,\r\n+                        nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n+                        email: document.getElementById('registerEmail').value,\r\n+                        telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n+                        username: document.getElementById('ownerUsername').value,\r\n+                        ownerEmail: document.getElementById('ownerEmail').value,\r\n+                        password: password,\r\n+                    };\r\n+\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n+                            method: 'POST', \r\n+                            headers: { 'Content-Type': 'application/json' }, \r\n+                            body: JSON.stringify(payload) \r\n+                        });\r\n+\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+\r\n+                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                        registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n+\r\n+                        setTimeout(() => {\r\n+                            closeRegisterModalBtn.click();\r\n+                            const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n+                            if(mainCnpjInput) {\r\n+                                mainCnpjInput.value = payload.cnpj;\r\n+                                mainCnpjInput.focus();\r\n+                            }\r\n+                        }, 3000);\r\n+                    } catch (error) {\r\n+                        registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                        registrationFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        submitBtn.disabled = false;\r\n+                        submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n+                    }\r\n+                }\r\n+            }\r\n+\r\n+            // --- Lógica do \"Esqueci minha senha\" ---\r\n+            const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n+            if (forgotPasswordModal) {\r\n+                const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n+                const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n+                const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n+\r\n+                if (forgotPasswordBtn) {\r\n+                    forgotPasswordBtn.addEventListener('click', () => {\r\n+                        forgotPasswordModal.classList.remove('hidden');\r\n+                        document.getElementById('recoveryEmailInput').focus();\r\n+                    });\r\n+                }\r\n+                if (closeForgotPasswordModalBtn) {\r\n+                    closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n+                        forgotPasswordModal.classList.add('hidden');\r\n+                    });\r\n+                }\r\n+                if (forgotPasswordForm) {\r\n+                    forgotPasswordForm.addEventListener('submit', handleForgotPasswordSubmit);\r\n+                }\r\n+                \r\n+                async function handleForgotPasswordSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n+                    const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+                    const email = document.getElementById('recoveryEmailInput').value;\r\n+                    \r\n+                    recoverySubmitBtn.disabled = true;\r\n+                    recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n+                    recoveryFormFeedback.textContent = '';\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n+                            method: 'POST',\r\n+                            headers: { 'Content-Type': 'application/json' },\r\n+                            body: JSON.stringify({ email })\r\n+                        });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message); }\r\n+                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n+                        recoveryFormFeedback.textContent = result.message;\r\n+                        setTimeout(() => {\r\n+                            forgotPasswordModal.classList.add('hidden');\r\n+                        }, 4000);\r\n+                    } catch (error) {\r\n+                        recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n+                        recoveryFormFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        recoverySubmitBtn.disabled = false;\r\n+                        recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                    }\r\n+                }\r\n+            }\r\n+\r\n+            // --- Lógica do formulário de Contato ---\r\n+            const contactForm = document.getElementById('contactForm');\r\n+            if (contactForm) {\r\n+                contactForm.addEventListener('submit', handleContactFormSubmit);\r\n+\r\n+                async function handleContactFormSubmit(e) {\r\n+                    e.preventDefault();\r\n+                    const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n+                    const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n+                    contactSubmitBtn.disabled = true;\r\n+                    contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n+                    contactFormFeedback.textContent = '';\r\n+                    const payload = {\r\n+                        name: document.getElementById('contactName').value,\r\n+                        email: document.getElementById('contactEmail').value,\r\n+                        subject: document.getElementById('contactSubject').value,\r\n+                        message: document.getElementById('contactMessage').value,\r\n+                    };\r\n+                    try {\r\n+                        const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n+                        const result = await response.json();\r\n+                        if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n+                        contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n+                        contactFormFeedback.textContent = result.message;\r\n+                        contactForm.reset();\r\n+                    } catch (error) {\r\n+                        contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n+                        contactFormFeedback.textContent = error.message;\r\n+                    } finally {\r\n+                        contactSubmitBtn.disabled = false;\r\n+                        contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n+                    }\r\n+                }\r\n+            }\r\n+        }\r\n+    }).catch(error => console.error(\"Erro crítico ao carregar componentes:\", error));\r\n+});\r\n+</script>\r\n+\r\n <div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n     <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n         \r\n         <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n@@ -402,6 +906,10 @@\n         <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n     </div>\r\n </div>\r\n \r\n+\r\n+\r\n+\r\n+\r\n </body>\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1754532022266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,13 +3,11 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <style>\r\n-\r\n-    </style>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n \r\n"
                },
                {
                    "date": 1754532617759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754532643410,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,11 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <link rel=\"stylesheet\" href=\"style.css\">\r\n+\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n \r\n"
                },
                {
                    "date": 1754532811511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,11 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n \r\n"
                },
                {
                    "date": 1754533557673,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754533656771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754533909421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754578923943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754578933354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754578943331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754578953535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754578961022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n \r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754579089239,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754579101222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754579113973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754579124622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754579130589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+   \r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754580340434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n-   \r\n+    \r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754580413664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    \r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754580652704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    \r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754580757528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    \r\n+\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n"
                },
                {
                    "date": 1754580768217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n \r\n-    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754581889414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,10 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-\r\n-\r\n+    \r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n     <header id=\"header-placeholder\"></header>\r\n"
                },
                {
                    "date": 1754582284861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>LobosTI - Soluções em Tecnologia</title>\r\n-    \r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n     <link rel=\"stylesheet\" href=\"style.css\">\r\n </head>\r\n <body>\r\n@@ -51,71 +50,67 @@\n                     Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n                 </p>\r\n             </div>\r\n             \r\n-            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n-                <!-- Serviço 1: Organizador de Boletos -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n-                    </p>\r\n-                    <div class=\"mt-4 flex flex-col items-start space-y-2\">\r\n-                        <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n-                            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                        </a>\r\n-                        <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                            Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                        </a>\r\n-                    </div>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 2 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n-                    </p>\r\n-                    <a href=\"/pages/Desenvolvimento.html\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 3 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n-                    </p>\r\n-                    <a href=\"/pages/infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-                \r\n-                <!-- Serviço 4 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n-                    </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n-                    </p>\r\n-                    <a href=\"/pages/suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n-                </div>\r\n-            </div>\r\n+<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n+    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+        <div class=\"w-14 h-14 bg-yellow-500 rounded-lg flex items-center justify-center mb-6\">\r\n+            <i class=\"fas fa-file-invoice-dollar text-yellow-100 text-2xl\"></i>\r\n         </div>\r\n+        <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n+        <p class=\"text-gray-400 mb-4\">\r\n+            Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n+        </p>\r\n+        <div class=\"mt-4 flex flex-col items-start space-y-2\">\r\n+            <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n+                Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+            </a>\r\n+            <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+            </a>\r\n+        </div>\r\n+    </div>\r\n+    \r\n+    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+        <div class=\"w-14 h-14 bg-blue-500 rounded-lg flex items-center justify-center mb-6\">\r\n+            <i class=\"fas fa-code text-blue-100 text-2xl\"></i>\r\n+        </div>\r\n+        <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n+        <p class=\"text-gray-400 mb-4\">\r\n+            Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n+        </p>\r\n+        <a href=\"/pages/Desenvolvimento.html\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n+            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+        </a>\r\n+    </div>\r\n+    \r\n+    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+        <div class=\"w-14 h-14 bg-green-500 rounded-lg flex items-center justify-center mb-6\">\r\n+            <i class=\"fas fa-network-wired text-green-100 text-2xl\"></i>\r\n+        </div>\r\n+        <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n+        <p class=\"text-gray-400 mb-4\">\r\n+            Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n+        </p>\r\n+        <a href=\"/pages/infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+        </a>\r\n+    </div>\r\n+    \r\n+    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+        <div class=\"w-14 h-14 bg-red-500 rounded-lg flex items-center justify-center mb-6\">\r\n+            <i class=\"fas fa-headset text-red-100 text-2xl\"></i>\r\n+        </div>\r\n+        <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n+        <p class=\"text-gray-400 mb-4\">\r\n+            Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n+        </p>\r\n+        <a href=\"/pages/suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+        </a>\r\n+    </div>\r\n+</div>\r\n+        </div>\r\n     </section>\r\n \r\n     <!-- Login Section -->\r\n     <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n"
                },
                {
                    "date": 1754582294819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,67 +50,67 @@\n                     Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n                 </p>\r\n             </div>\r\n             \r\n-<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n-    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-        <div class=\"w-14 h-14 bg-yellow-500 rounded-lg flex items-center justify-center mb-6\">\r\n-            <i class=\"fas fa-file-invoice-dollar text-yellow-100 text-2xl\"></i>\r\n+            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-yellow-500 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-file-invoice-dollar text-yellow-100 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n+                    </p>\r\n+                    <div class=\"mt-4 flex flex-col items-start space-y-2\">\r\n+                        <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n+                            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        </a>\r\n+                        <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n+                            Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                        </a>\r\n+                    </div>\r\n+                </div>\r\n+                \r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-blue-500 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-code text-blue-100 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n+                    </p>\r\n+                    <a href=\"/pages/Desenvolvimento.html\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-green-500 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-network-wired text-green-100 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n+                    </p>\r\n+                    <a href=\"/pages/infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+                \r\n+                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n+                    <div class=\"w-14 h-14 bg-red-500 rounded-lg flex items-center justify-center mb-6\">\r\n+                        <i class=\"fas fa-headset text-red-100 text-2xl\"></i>\r\n+                    </div>\r\n+                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n+                    <p class=\"text-gray-400 mb-4\">\r\n+                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n+                    </p>\r\n+                    <a href=\"/pages/suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n+                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n+                    </a>\r\n+                </div>\r\n+            </div>\r\n         </div>\r\n-        <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n-        <p class=\"text-gray-400 mb-4\">\r\n-            Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n-        </p>\r\n-        <div class=\"mt-4 flex flex-col items-start space-y-2\">\r\n-            <a href=\"pages/organizador-boletos.html\" class=\"text-indigo-400 font-medium inline-flex items-center hover:text-indigo-300\">\r\n-                Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-            </a>\r\n-            <a href=\"/index.html#login\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-            </a>\r\n-        </div>\r\n-    </div>\r\n-    \r\n-    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-        <div class=\"w-14 h-14 bg-blue-500 rounded-lg flex items-center justify-center mb-6\">\r\n-            <i class=\"fas fa-code text-blue-100 text-2xl\"></i>\r\n-        </div>\r\n-        <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n-        <p class=\"text-gray-400 mb-4\">\r\n-            Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n-        </p>\r\n-        <a href=\"/pages/Desenvolvimento.html\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n-            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-        </a>\r\n-    </div>\r\n-    \r\n-    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-        <div class=\"w-14 h-14 bg-green-500 rounded-lg flex items-center justify-center mb-6\">\r\n-            <i class=\"fas fa-network-wired text-green-100 text-2xl\"></i>\r\n-        </div>\r\n-        <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n-        <p class=\"text-gray-400 mb-4\">\r\n-            Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n-        </p>\r\n-        <a href=\"/pages/infraestrutura.html\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n-            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-        </a>\r\n-    </div>\r\n-    \r\n-    <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-        <div class=\"w-14 h-14 bg-red-500 rounded-lg flex items-center justify-center mb-6\">\r\n-            <i class=\"fas fa-headset text-red-100 text-2xl\"></i>\r\n-        </div>\r\n-        <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n-        <p class=\"text-gray-400 mb-4\">\r\n-            Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n-        </p>\r\n-        <a href=\"/pages/suporte.html\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n-            Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-        </a>\r\n-    </div>\r\n-</div>\r\n-        </div>\r\n     </section>\r\n \r\n     <!-- Login Section -->\r\n     <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n"
                },
                {
                    "date": 1754582466668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -204,10 +204,10 @@\n                         \r\n                         <div class=\"space-y-6\">\r\n                             <div class=\"flex items-start\">\r\n                                 <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n+                                    <div class=\"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-map-marker-alt text-indigo-100\"></i>\r\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">Endereço</h4>\r\n@@ -216,11 +216,10 @@\n                             </div>\r\n                             \r\n                             <div class=\"flex items-start\">\r\n                                 <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n-                                    </div>\r\n+                                    <div class=\"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-phone-alt text-purple-100\"></i> </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">Telefone</h4>\r\n                                     <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n@@ -228,10 +227,10 @@\n                             </div>\r\n                             \r\n                             <div class=\"flex items-start\">\r\n                                 <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n+                                    <div class=\"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center\">\r\n+                                        <i class=\"fas fa-envelope text-blue-300\"></i>\r\n                                     </div>\r\n                                 </div>\r\n                                 <div class=\"ml-4\">\r\n                                     <h4 class=\"text-white font-medium\">E-mail</h4>\r\n@@ -242,18 +241,18 @@\n                         \r\n                         <div class=\"mt-8\">\r\n                             <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n                             <div class=\"flex space-x-4\">\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-600 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                     <i class=\"fab fa-facebook-f text-white\"></i>\r\n                                 </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-600 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n                                     <i class=\"fab fa-twitter text-white\"></i>\r\n                                 </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-600 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                     <i class=\"fab fa-instagram text-white\"></i>\r\n                                 </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n+                                <a href=\"#\" class=\"w-10 h-10 bg-gray-600 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                     <i class=\"fab fa-linkedin-in text-white\"></i>\r\n                                 </a>\r\n                             </div>\r\n                         </div>\r\n"
                }
            ],
            "date": 1752239206846,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"pt-BR\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Organizador de Boletos</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n    <link rel=\"stylesheet\" href=\"style.css\">\r\n</head>\r\n\r\n<body class=\"bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center\">\r\n\r\n    <div id=\"toastMessage\"\r\n        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n    </div>\r\n\r\n    <div id=\"initialLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 text-center\">\r\n        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Bem-vindo!</h2>\r\n        <p class=\"text-gray-300 mb-6\">Escolha como deseja fazer o login:</p>\r\n        <button id=\"showCnpjLoginBtn\"\r\n            class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 mb-4\">\r\n            Login de Empresa\r\n        </button>\r\n        <button id=\"showAdminLoginBtn\"\r\n            class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n            Login de Administrador\r\n        </button>\r\n    </div>\r\n\r\n    <div id=\"cnpjLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\">Login da Empresa</h2>\r\n        <form id=\"cnpjLoginForm\" class=\"space-y-4\">\r\n            <div>\r\n                <label for=\"cnpjInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n                <input type=\"text\" id=\"cnpjInput\" placeholder=\"XX.XXX.XXX/YYYY-ZZ\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n            </div>\r\n            <div>\r\n                <label for=\"cnpjPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n                    Empresa</label>\r\n                <input type=\"password\" id=\"cnpjPasswordInput\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n            </div>\r\n            <button type=\"submit\"\r\n                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n                Entrar na Empresa\r\n            </button>\r\n            <button type=\"button\" id=\"backToInitialLoginBtnCnpj\"\r\n                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n                Voltar\r\n            </button>\r\n        </form>\r\n    </div>\r\n\r\n    <div id=\"adminLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n        <h2 class=\"text-2xl font-bold text-center text-red-400 mb-6\">Login de Administrador</h2>\r\n        <form id=\"adminLoginForm\" class=\"space-y-4\">\r\n            <div>\r\n                <label for=\"adminUsernameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Usuário</label>\r\n                <input type=\"text\" id=\"adminUsernameInput\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n            </div>\r\n            <div>\r\n                <label for=\"adminPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n                <input type=\"password\" id=\"adminPasswordInput\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-red-300 focus:border-red-400\">\r\n            </div>\r\n            <button type=\"submit\"\r\n                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200\">\r\n                Entrar como Admin\r\n            </button>\r\n            <button type=\"button\" id=\"backToInitialLoginBtnAdmin\"\r\n                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 mt-4\">\r\n                Voltar\r\n            </button>\r\n        </form>\r\n    </div>\r\n\r\n    <div id=\"userLoginScreen\" class=\"w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8 hidden\">\r\n        <h2 class=\"text-2xl font-bold text-center text-indigo-400 mb-6\" id=\"welcomeUserText\"></h2>\r\n        <h3 class=\"text-xl font-semibold text-center text-gray-300 mb-6\">Login de Usuário</h3>\r\n        <form id=\"userLoginForm\" class=\"space-y-4\">\r\n            <div>\r\n                <label for=\"userInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de Usuário</label>\r\n                <input type=\"text\" id=\"userInput\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n            </div>\r\n            <div>\r\n                <label for=\"userPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha do\r\n                    Usuário</label>\r\n                <input type=\"password\" id=\"userPasswordInput\" required\r\n                    class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n            </div>\r\n            <button type=\"submit\"\r\n                class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200\">\r\n                Entrar como Usuário\r\n            </button>\r\n            <button type=\"button\" id=\"registerUserBtn\"\r\n                class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200\">\r\n                Registrar Novo Usuário\r\n            </button>\r\n            <button type=\"button\" id=\"backToCnpjLoginBtn\"\r\n                class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 mt-4\">\r\n                Voltar para Login de Empresa\r\n            </button>\r\n        </form>\r\n    </div>\r\n\r\n    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n        <button id=\"adminLogoutBtn\"\r\n            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n\r\n        <div class=\"mb-6 flex justify-center space-x-4\">\r\n            <button id=\"createCompanyBtn\"\r\n                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n                <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n            </button>\r\n        </div>\r\n\r\n        <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n                Nenhuma empresa cadastrada ainda.\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"mainAppContent\" class=\"container mx-auto px-4 py-8 max-w-6xl hidden\">\r\n        <header class=\"mb-10 text-center relative\">\r\n            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n            </h1>\r\n            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n            <div class=\"absolute top-0 right-0 flex items-center space-x-2\">\r\n\r\n                <button id=\"backToAdminBtn\"\r\n                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n                    Admin</button>\r\n\r\n                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n                        <i class=\"fas fa-cog text-lg\"></i>\r\n                    </button>\r\n                    <div id=\"settingsDropdown\"\r\n                        class=\"absolute right-0 mt-2 w-56 bg-gray-700 rounded-md shadow-lg py-1 z-20 hidden\">\r\n                        <a href=\"#\" id=\"menuEmpresa\"\r\n                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Detalhes da Empresa</a>\r\n                        <a href=\"#\" id=\"menuUsuarios\"\r\n                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Usuários</a>\r\n                        <a href=\"#\" id=\"menuPermissoes\"\r\n                            class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\">Gerenciar Permissões</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n            </div>\r\n        </header>\r\n\r\n        <div>\r\n            <div id=\"billsOrganizer\" class=\"w-full mb-8 lg:block hidden\">\r\n                <div class=\"flex justify-between items-center mb-4\">\r\n                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n                        <i class=\"fas fa-calendar-alt mr-2 text-indigo-400\"></i> Calendário de Boletos\r\n                    </h2>\r\n                    <div class=\"text-sm text-gray-400\">\r\n                        <span id=\"totalBills\">0</span> parcelas registradas\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"monthlySummary\"\r\n                    class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n                        <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n                        <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n                    </div>\r\n                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n                        <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n                    </div>\r\n                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n                        <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n                        <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n                    </div>\r\n                    <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n                        <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n                        <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n\r\n                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n                        <div class=\"flex justify-between items-center mb-4\">\r\n                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n                                <i class=\"fas fa-chevron-left\"></i>\r\n                            </button>\r\n                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n                                <i class=\"fas fa-chevron-right\"></i>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n                        </div>\r\n\r\n                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n                    <div class=\"flex justify-between items-center mb-4\">\r\n                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n                            <i class=\"fas fa-chevron-left\"></i>\r\n                        </button>\r\n                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n                            <i class=\"fas fa-chevron-right\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n                            dia.</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n                </div>\r\n\r\n                <div id=\"addBillModal\"\r\n                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n\r\n                            <button id=\"closeAddBillModalBtn\"\r\n                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n                                <i class=\"fas fa-times text-xl\"></i>\r\n                            </button>\r\n\r\n                            <div id=\"installmentsPreview\"\r\n                                class=\"hidden mb-8 bg-gray-900 rounded-lg shadow-md p-6 fade-in\">\r\n                                <div class=\"flex justify-between items-center mb-4\">\r\n                                    <h2 class=\"text-xl font-semibold text-gray-200\">\r\n                                        <i class=\"fas fa-list-check mr-2 text-indigo-400\"></i> Pré-visualização das\r\n                                        Parcelas\r\n                                    </h2>\r\n                                    <div class=\"flex items-center space-x-4\">\r\n                                        <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n                                        <button id=\"addToOrganizer\"\r\n                                            class=\"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n                                            <i class=\"fas fa-save mr-1\"></i> Adicionar ao Organizador\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"installmentsList\" class=\"space-y-3 max-h-64 overflow-y-auto pr-2\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n                            </h2>\r\n\r\n                            <form id=\"billForm\" class=\"space-y-4\">\r\n                                <div>\r\n                                    <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n                                    </label>\r\n                                    <input type=\"text\" id=\"billName\" required\r\n                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n                                    </label>\r\n                                    <input type=\"date\" id=\"dueDate\" required\r\n                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n                                    </label>\r\n                                    <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" required\r\n                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n                                </div>\r\n                                <div class=\"mb-4\">\r\n                                    <label for=\"installments\" class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n                                            class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n                                    <input type=\"number\" id=\"installments\" placeholder=\"Digite a quantidade de parcelas\"\r\n                                        min=\"1\"\r\n                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre boletos\r\n                                        (dias)\r\n                                    </label>\r\n                                    <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n                                        class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"barcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"fas fa-barcode mr-1 text-gray-400\"></i> Código de Barras (opcional)\r\n                                    </label>\r\n                                    <input type=\"text\" id=\"barcode\"\r\n                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"\r\n                                        placeholder=\"Ex: 0009999991234567890123456789012345678901234\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                                        <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n                                    </label>\r\n                                    <textarea id=\"description\" rows=\"3\"\r\n                                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n                                </div>\r\n                                <button type=\"submit\"\r\n                                    class=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center justify-center\">\r\n                                    <i class=\"fas fa-calculator mr-2\"></i> Calcular Parcelas\r\n                                </button>\r\n                                <button type=\"button\" id=\"clearFormBtn\"\r\n                                    class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 flex items-center justify-center mt-2\">\r\n                                    <i class=\"fas fa-times-circle mr-2\"></i> Limpar Formulário\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    </div>\r\n\r\n    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalBillName\"></h3>\r\n                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n                    <i class=\"fas fa-times\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"space-y-4\">\r\n                <div>\r\n                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n                </div>\r\n                <div>\r\n                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n                    <input type=\"date\" id=\"modalBillDate\"\r\n                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n                </div>\r\n                <div>\r\n                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n                </div>\r\n\r\n                <div>\r\n                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n                        Barras</label>\r\n                    <input type=\"text\" id=\"modalBillBarcode\"\r\n                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n                        placeholder=\"Código de Barras\">\r\n                </div>\r\n\r\n                <div class=\"mt-2\">\r\n                    <button id=\"showFullScreenBarcodeBtn\"\r\n                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"flex items-center mt-4\">\r\n                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n                </div>\r\n\r\n                <div class=\"flex justify-between pt-4\">\r\n                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n                        Salvar\r\n                    </button>\r\n                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n                        Excluir Parcela\r\n                    </button>\r\n                </div>\r\n                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n                    <button id=\"deleteEntireBillBtn\"\r\n                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n                        Excluir Boleto Completo\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"companyDetailsModal\"\r\n        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n                <h3 class=\"text-xl font-semibold text-gray-100\" id=\"modalCompanyName\"></h3>\r\n                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n                    <i class=\"fas fa-times\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"space-y-4\">\r\n                <p class=\"text-gray-300\">\r\n                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n                </p>\r\n                <div>\r\n                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n                        Empresa</label>\r\n                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n                </div>\r\n                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n                </div>\r\n                <div class=\"mt-4 flex justify-end space-x-2\">\r\n                    <button id=\"saveCompanyDetailsBtn\"\r\n                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n                    </button>\r\n                    <button id=\"addUserBtn\"\r\n                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n                    </button>\r\n                </div>\r\n                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n                    <button id=\"deleteCompanyBtn\"\r\n                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"barcodeFullScreenModal\"\r\n        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg\">\r\n            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n        </div>\r\n        <button id=\"closeFullScreenBarcodeBtn\"\r\n            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n            Fechar\r\n        </button>\r\n    </div>\r\n\r\n    <div id=\"quickUserAddModal\"\r\n        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n            <div class=\"flex justify-between items-center mb-6\">\r\n                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n                    <i class=\"fas fa-times\"></i>\r\n                </button>\r\n            </div>\r\n            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n                <div>\r\n                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n                        Usuário</label>\r\n                    <input type=\"text\" id=\"quickAddUsername\" required\r\n                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n                </div>\r\n                <div>\r\n                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n                    <input type=\"password\" id=\"quickAddPassword\" required\r\n                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n                </div>\r\n                <div class=\"pt-4 flex justify-end space-x-3\">\r\n                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n                    <button type=\"submit\"\r\n                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n                        Usuário</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"manageUsersModal\"\r\n        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n            <div class=\"flex justify-between items-center mb-4\">\r\n                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Usuários da Empresa</h3>\r\n                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n                    <i class=\"fas fa-times\"></i>\r\n                </button>\r\n            </div>\r\n\r\n            <div id=\"companyUsersList\" class=\"space-y-3 mb-4\">\r\n            </div>\r\n\r\n            <div class=\"mt-4 flex justify-end\">\r\n                <button id=\"addCompanyUserBtn\"\r\n                    class=\"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200\">\r\n                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Usuário\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button id=\"openAddBillModalBtn\"\r\n        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30\">\r\n        <i class=\"fas fa-plus\"></i>\r\n    </button>\r\n\r\n    <script src=\"script.js\"></script>\r\n\r\n</body>\r\n\r\n</html>"
        }
    ]
}