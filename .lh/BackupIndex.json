{
    "sourceFile": "BackupIndex",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1753826730476,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753828129655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,985 +1,1360 @@\n <!DOCTYPE html>\r\n <html lang=\"pt-BR\">\r\n+\r\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n-    <title>LobosTI - Soluções em Tecnologia</title>\r\n+    <title>Organizador de Boletos</title>\r\n     <script src=\"https://cdn.tailwindcss.com\"></script>\r\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n-    <style>\r\n-        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n-        \r\n-        body {\r\n-            font-family: 'Poppins', sans-serif;\r\n-            background-color: #0f172a;\r\n-            color: #e2e8f0;\r\n-        }\r\n-        \r\n-        .hero-gradient {\r\n-            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n-        }\r\n-        \r\n-        .service-card:hover {\r\n-            transform: translateY(-5px);\r\n-            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .wolf-logo {\r\n-            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n-        }\r\n-        \r\n-        .login-form {\r\n-            backdrop-filter: blur(10px);\r\n-            background: rgba(15, 23, 42, 0.8);\r\n-            border: 1px solid rgba(99, 102, 241, 0.3);\r\n-        }\r\n-        \r\n-        .nav-link {\r\n-            position: relative;\r\n-        }\r\n-        \r\n-        .nav-link::after {\r\n-            content: '';\r\n-            position: absolute;\r\n-            width: 0;\r\n-            height: 2px;\r\n-            bottom: -2px;\r\n-            left: 0;\r\n-            background-color: #6366f1;\r\n-            transition: width 0.3s ease;\r\n-        }\r\n-        \r\n-        .nav-link:hover::after {\r\n-            width: 100%;\r\n-        }\r\n-        \r\n-        .animated-wolf {\r\n-            animation: float 6s ease-in-out infinite;\r\n-        }\r\n-        \r\n-        @keyframes float {\r\n-            0% { transform: translateY(0px); }\r\n-            50% { transform: translateY(-15px); }\r\n-            100% { transform: translateY(0px); }\r\n-        }\r\n-    </style>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js\"></script>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js\"></script>\r\n </head>\r\n-<body>\r\n-    <!-- Navbar -->\r\n-    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n-        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n-            <div class=\"flex items-center justify-between h-20\">\r\n-                <div class=\"flex items-center\">\r\n-                <div class=\"flex-shrink-0\">\r\n-                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n-                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n-                    </a>\r\n-                </div>\r\n-                </div>\r\n-                <div class=\"hidden md:block\">\r\n-                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n-                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n-                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n-                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n-                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n-                    </div>\r\n-                </div>\r\n-                <div class=\"-mr-2 flex md:hidden\">\r\n-                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n-                        <span class=\"sr-only\">Abrir menu</span>\r\n-                        <i class=\"fas fa-bars\"></i>\r\n-                    </button>\r\n-                </div>\r\n+\r\n+<body class=\"bg-gray-900 text-gray-100 min-h-screen\">\r\n+\r\n+    <div id=\"globalAnnouncementBanner\" class=\"hidden bg-indigo-600 text-white text-center p-3 absolute top-0 w-full z-40\">\r\n+        <div id=\"announcementBannerMessage\" class=\"font-semibold\"></div>\r\n+        <button id=\"closeAnnouncementBtn\" class=\"absolute top-1/2 right-4 -translate-y-1/2 text-white hover:bg-indigo-700 p-2 rounded-full\">\r\n+            <i class=\"fas fa-times\"></i>\r\n+        </button>\r\n+    </div>\r\n+\r\n+    <div id=\"generalLoader\" class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden\">\r\n+        <i class=\"fas fa-spinner fa-spin text-white text-4xl\"></i>\r\n+    </div>\r\n+\r\n+    <!-- NOVO MODAL DE ASSINATURA -->\r\n+    <div id=\"subscriptionModal\" class=\"fixed inset-0 bg-gray-900 flex justify-center items-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md text-center\">\r\n+            <div class=\"w-16 h-16 mx-auto bg-red-500/20 rounded-full flex items-center justify-center mb-4\">\r\n+                <i id=\"subscriptionIcon\" class=\"fas fa-exclamation-triangle text-red-400 text-3xl\"></i>\r\n             </div>\r\n+            <h3 id=\"subscriptionTitle\" class=\"text-2xl font-bold text-white mb-2\">Assinatura Expirada</h3>\r\n+            <p id=\"subscriptionMessage\" class=\"text-gray-400 mb-6\">\r\n+                Sua assinatura do Organizador de Boletos expirou. Por favor, renove para continuar usando todas as\r\n+                funcionalidades.\r\n+            </p>\r\n+            <button id=\"subscriptionActionBtn\"\r\n+                class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Renovar Assinatura\r\n+            </button>\r\n+            <button id=\"subscriptionLogoutBtn\" class=\"mt-4 text-sm text-gray-500 hover:text-gray-300\">\r\n+                Sair\r\n+            </button>\r\n         </div>\r\n-        \r\n-        <!-- Mobile menu -->\r\n-        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n-            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n-                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n-                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n-                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n-                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n+    </div>\r\n+\r\n+    <!-- ACESSO BLOQUEADO PARA FUNCIONÁRIOS -->\r\n+    <div id=\"accessBlockedModal\" class=\"fixed inset-0 bg-gray-900 flex justify-center items-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md text-center\">\r\n+            <div class=\"w-16 h-16 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center mb-4\">\r\n+                <i class=\"fas fa-lock text-yellow-400 text-3xl\"></i>\r\n             </div>\r\n+            <h3 class=\"text-2xl font-bold text-white mb-2\">Acesso Temporariamente Indisponível</h3>\r\n+            <p class=\"text-gray-400 mb-6\">\r\n+                O acesso ao sistema está indisponível no momento. Por favor, entre em contato com o proprietário da sua\r\n+                empresa para mais informações sobre a assinatura.\r\n+            </p>\r\n+            <button id=\"blockedAccessLogoutBtn\"\r\n+                class=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300\">\r\n+                Sair\r\n+            </button>\r\n         </div>\r\n-    </nav>\r\n+    </div>\r\n \r\n-    <!-- Hero Section -->\r\n-    <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"lg:grid lg:grid-cols-2 lg:gap-12 items-center\">\r\n-                <div class=\"mb-12 lg:mb-0\">\r\n-                    <h1 class=\"text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n-                        Soluções em TI com a <span class=\"text-indigo-500\">força</span> de uma alcateia\r\n-                    </h1>\r\n-                    <p class=\"text-lg text-gray-300 mb-8\">\r\n-                        Nós da LobosTI oferecemos serviços especializados em tecnologia da informação para impulsionar seu negócio ao próximo nível.\r\n-                    </p>\r\n-                    <div class=\"flex flex-wrap gap-4\">\r\n-                        <a href=\"#servicos\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n-                            Nossos Serviços <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                        </a>\r\n-                        <a href=\"#contato\" class=\"border border-indigo-500 text-indigo-400 hover:bg-indigo-900 hover:bg-opacity-30 font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n-                            Fale Conosco\r\n-                        </a>\r\n-                    </div>\r\n+    <div id=\"loadingScreen\" class=\"fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50\">\r\n+        <i class=\"fas fa-spinner fa-spin text-indigo-400 text-5xl\"></i>\r\n+        <p class=\"mt-4 text-gray-300\">Carregando sua sessão...</p>\r\n+    </div>\r\n+\r\n+    <div id=\"toastMessage\"\r\n+        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n+    </div>\r\n+\r\n+    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n+        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n+        <button id=\"adminLogoutBtn\"\r\n+            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n+\r\n+        <div class=\"flex justify-between items-center mb-4 border-b border-gray-700\">\r\n+            <div class=\"flex space-x-2\">\r\n+                <button id=\"viewCompaniesTab\" class=\"admin-tab-btn px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg\">\r\n+                    <i class=\"fas fa-building mr-2\"></i>Empresas\r\n+                </button>\r\n+                <button id=\"viewAnnouncementsTab\" class=\"admin-tab-btn px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                    <i class=\"fas fa-bullhorn mr-2\"></i>Anúncios\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+\r\n+        <div>\r\n+            <div id=\"companiesView\">\r\n+                <div class=\"mb-6 flex justify-center space-x-4\">\r\n+                    <button id=\"createCompanyBtn\"\r\n+                        class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                        <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n+                    </button>\r\n                 </div>\r\n-                <div class=\"relative\">\r\n-                    <div class=\"animated-wolf\">\r\n-                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n+                <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                     </div>\r\n-                    <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n-                    <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n+                <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n+                    Nenhuma empresa cadastrada ainda.\r\n                 </div>\r\n             </div>\r\n-        </div>\r\n-    </section>\r\n \r\n-    <!-- Serviços Section -->\r\n-    <section id=\"servicos\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"text-center mb-16\">\r\n-                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Nossos <span class=\"text-indigo-500\">Serviços</span></h2>\r\n-                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n-                    Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n-                </p>\r\n+            <div id=\"announcementsView\" class=\"hidden\">\r\n+                <div class=\"flex justify-between items-center mb-6\">\r\n+                    <h2 class=\"text-2xl font-semibold text-white\">Gestão de Anúncios</h2>\r\n+                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition\">\r\n+                        <i class=\"fas fa-plus mr-2\"></i>Criar Novo Anúncio\r\n+                    </button>\r\n+                </div>\r\n+                <div id=\"announcementsList\" class=\"space-y-3\">\r\n+                    </div>\r\n             </div>\r\n-            \r\n-            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n-                <!-- Serviço 1: Organizador de Boletos -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n+    </div>\r\n+\r\n+    <div id=\"mainAppContent\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n+        <header class=\"mb-10 text-center relative\">\r\n+            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n+                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n+            </h1>\r\n+            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n+\r\n+            <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n+\r\n+                <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n+\r\n+                <button id=\"backToAdminBtn\"\r\n+                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n+                    Admin</button>\r\n+                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n+                    <button id=\"openProfileModalBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-user text-lg\"></i>\r\n+                    </button>\r\n+                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-cog text-lg\"></i>\r\n+                    </button>\r\n+                    <div id=\"settingsDropdown\"\r\n+                        class=\"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden z-20\"\r\n+                        role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"menu-button\" tabindex=\"-1\">\r\n+                        <div class=\"py-1\" role=\"none\">\r\n+                            <a href=\"#\" id=\"menuEmpresa\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Detalhes da Empresa</a>\r\n+                            <a href=\"#\" id=\"menuUsuarios\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Usuários</a>\r\n+                            <a href=\"#\" id=\"menuPermissoes\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Permissões</a>\r\n+\r\n+                            <a href=\"#\" id=\"menuNotificacoes\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Notificações</a>\r\n+                            <a href=\"#\" id=\"menuCategorias\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Categorias</a>\r\n+                        </div>\r\n                     </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n-                    </p>\r\n-                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n-                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n                 </div>\r\n-                \r\n-                <!-- Serviço 2 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n+                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n+            </div>\r\n+        </header>\r\n+\r\n+        <div>\r\n+            <div id=\"billsOrganizer\" class=\"w-full mb-8\">\r\n+\r\n+                <div class=\"flex justify-between items-center mb-4 border-b border-gray-700\">\r\n+                    <div class=\"flex space-x-2\">\r\n+                        <button id=\"viewCalendarBtn\"\r\n+                            class=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg\">\r\n+                            <i class=\"fas fa-calendar-alt mr-2\"></i>Calendário\r\n+                        </button>\r\n+                        <button id=\"viewDashboardBtn\"\r\n+                            class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                            <i class=\"fas fa-chart-line mr-2\"></i>Dashboard\r\n+                        </button>\r\n                     </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n+                    <div class=\"text-sm text-gray-400\">\r\n+                        <span id=\"totalBills\">0</span> parcelas registradas\r\n+                    </div>\r\n                 </div>\r\n-                \r\n-                <!-- Serviço 3 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n+\r\n+                <div id=\"calendarView\">\r\n+\r\n+                    <div id=\"filter-container\" class=\"bg-gray-800/50 p-4 rounded-lg mb-6 border border-gray-700\">\r\n+                        <div class=\"flex flex-col md:flex-row md:items-end gap-6\">\r\n+\r\n+                            <div class=\"flex-grow\">\r\n+                                <label for=\"searchInput\" class=\"block text-sm font-medium text-gray-400 mb-1\">Pesquisar\r\n+                                    por nome ou Cód. NF</label>\r\n+                                <div class=\"relative\">\r\n+                                    <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n+                                        <i class=\"fas fa-search text-gray-500\"></i>\r\n+                                    </div>\r\n+                                    <input type=\"text\" id=\"searchInput\" placeholder=\"Digite para pesquisar...\"\r\n+                                        class=\"w-full pl-10 pr-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                                </div>\r\n+                            </div>\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label for=\"categoryFilterSelect\"\r\n+                                    class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar por categoria</label>\r\n+                                <select id=\"categoryFilterSelect\"\r\n+                                    class=\"w-full md:w-48 px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+                            </div>\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar por status</label>\r\n+                                <div\r\n+                                    class=\"flex items-center space-x-1 bg-gray-900/50 p-1 rounded-md border border-gray-700\">\r\n+                                    <button\r\n+                                        class=\"filter-btn active flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"all\">Todos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"paid\">Pagos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"unpaid\">Não Pagos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"overdue\">Vencidos</button>\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div id=\"massActionsContainer\"\r\n+                                class=\"flex-shrink-0 self-end flex items-center space-x-2 hidden\">\r\n+                                <button id=\"changeCategoryBtn\"\r\n+                                    class=\"bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700 transition duration-200 flex items-center text-sm\">\r\n+                                    <i class=\"fas fa-tag mr-2\"></i> Alterar Categoria\r\n+                                </button>\r\n+                                <button id=\"selectAllVisibleBtn\"\r\n+                                    class=\"bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 transition duration-200 text-sm\"\r\n+                                    title=\"Marcar Todos Visíveis no Mês\">\r\n+                                    <i class=\"fas fa-check-square\"></i>\r\n+                                </button>\r\n+                                <button id=\"deselectAllVisibleBtn\"\r\n+                                    class=\"bg-gray-600 text-white py-2 px-3 rounded-md hover:bg-gray-700 transition duration-200 text-sm\"\r\n+                                    title=\"Desmarcar Todos\">\r\n+                                    <i class=\"far fa-square\"></i>\r\n+                                </button>\r\n+                                <button id=\"markSelectedAsPaidBtn\"\r\n+                                    class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                                    <i class=\"fas fa-check-double mr-2\"></i>\r\n+                                    Pagar Selecionados (<span id=\"selectedCount\">0</span>)\r\n+                                </button>\r\n+                            </div>\r\n+\r\n+                        </div>\r\n                     </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n+\r\n+                    <div id=\"monthlySummary\"\r\n+                        class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n+                            <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n+                            <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n+                            <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n+                            <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n+                        <div class=\"flex justify-between items-center mb-4\">\r\n+                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\"><i\r\n+                                    class=\"fas fa-chevron-left\"></i></button>\r\n+                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\"><i\r\n+                                    class=\"fas fa-chevron-right\"></i></button>\r\n+                        </div>\r\n+                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n+                        </div>\r\n+                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n+                    </div>\r\n+\r\n                 </div>\r\n-                \r\n-                <!-- Serviço 4 -->\r\n-                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n-                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n-                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n+\r\n+                <div id=\"dashboardView\" class=\"hidden\">\r\n+\r\n+                    <div id=\"dashboard-date-filter-container\"\r\n+                        class=\"bg-gray-800/50 p-4 rounded-lg mb-6 border border-gray-700\">\r\n+                        <div class=\"flex flex-col md:flex-row md:items-end gap-6\">\r\n+\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar Gráficos por\r\n+                                    Status</label>\r\n+                                <div\r\n+                                    class=\"flex items-center space-x-1 bg-gray-900/50 p-1 rounded-md border border-gray-700\">\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn active flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"all\">Todos</button>\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"paid\">Pagos</button>\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"unpaid\">Não Pagos</button>\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-grow\">\r\n+                                <label for=\"date-range-preset-select\"\r\n+                                    class=\"block text-sm font-medium text-gray-400 mb-1\">Ver Período</label>\r\n+                                <select id=\"date-range-preset-select\"\r\n+                                    class=\"w-full md:w-64 px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                                    <option value=\"thisMonth\" selected>Este Mês</option>\r\n+                                    <option value=\"lastMonth\">Mês Anterior</option>\r\n+                                    <option value=\"thisQuarter\">Este Trimestre</option>\r\n+                                    <option value=\"thisYear\">Este Ano</option>\r\n+                                    <option value=\"custom\">Personalizado...</option>\r\n+                                </select>\r\n+                            </div>\r\n+                            <div id=\"custom-date-range-inputs\" class=\"hidden flex-grow md:flex md:items-end md:gap-4\">\r\n+                                <div>\r\n+                                    <label for=\"start-date-input\"\r\n+                                        class=\"block text-sm font-medium text-gray-400 mb-1\">De</label>\r\n+                                    <input type=\"date\" id=\"start-date-input\"\r\n+                                        class=\"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"end-date-input\"\r\n+                                        class=\"block text-sm font-medium text-gray-400 mb-1\">Até</label>\r\n+                                    <input type=\"date\" id=\"end-date-input\"\r\n+                                        class=\"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-shrink-0 flex items-end space-x-2\">\r\n+                                <button id=\"export-csv-btn\"\r\n+                                    class=\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 flex items-center\">\r\n+                                    <i class=\"fas fa-file-csv mr-2\"></i>Exportar CSV\r\n+                                </button>\r\n+                                <button id=\"export-pdf-btn\"\r\n+                                    class=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 flex items-center\">\r\n+                                    <i class=\"fas fa-file-pdf mr-2\"></i>Exportar PDF\r\n+                                </button>\r\n+                            </div>\r\n+\r\n+                        </div>\r\n                     </div>\r\n-                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n-                    <p class=\"text-gray-400 mb-4\">\r\n-                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n-                    </p>\r\n-                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n-                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n-                    </a>\r\n+\r\n+                    <div id=\"dashboard-kpi-grid\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n+                        <div data-id=\"kpi-overdue\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Contas Vencidas</h3>\r\n+                            <p id=\"kpiContasVencidas\" class=\"mt-2 text-3xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-total\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Total a Pagar\r\n+                                (Período)</h3>\r\n+                            <p id=\"kpiTotalMes\" class=\"mt-2 text-3xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-paid\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Total Pago (Período)\r\n+                            </h3>\r\n+                            <p id=\"kpiPagoMes\" class=\"mt-2 text-3xl font-bold text-green-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-pending\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Pendente (Período)\r\n+                            </h3>\r\n+                            <p id=\"kpiPendenteMes\" class=\"mt-2 text-3xl font-bold text-yellow-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div id=\"dashboard-main-grid\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n+\r\n+                        <div data-id=\"main-upcoming\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Próximos Vencimentos</h2>\r\n+                            <div id=\"upcoming-payments-list\" class=\"space-y-3\">\r\n+                                <p id=\"no-upcoming-payments-message\" class=\"text-gray-400\">Nenhuma conta a vencer nos\r\n+                                    próximos dias.</p>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-pie-chart\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Despesas por Categoria</h2>\r\n+\r\n+                            <div id=\"chartContainerPie\" style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"expensesByCategoryChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-top-expenses\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Maiores Despesas por Categoria</h2>\r\n+                            <div style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"topExpensesChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-bar-chart\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Resumo dos Últimos 6 Meses</h2>\r\n+\r\n+                            <div id=\"chartContainerBar\" style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"monthlyExpensesChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                    </div>\r\n                 </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n \r\n-    <!-- Login Section -->\r\n-    <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"flex flex-col lg:flex-row items-center justify-between\">\r\n-                <div class=\"lg:w-1/2 mb-12 lg:mb-0\">\r\n-                    <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-6\">\r\n-                        Acesse sua <span class=\"text-indigo-500\">conta</span>\r\n-                    </h2>\r\n-                    <p class=\"text-lg text-gray-400 mb-8 max-w-lg\">\r\n-                        Faça login para acessar nossos serviços exclusivos e gerenciar sua infraestrutura de TI de forma centralizada.\r\n-                    </p>\r\n-                    <div class=\"flex items-center space-x-4\">\r\n-                        <div class=\"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center\">\r\n-                            <i class=\"fas fa-lock text-indigo-500 text-xl\"></i>\r\n+                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n+                    <div class=\"flex justify-between items-center mb-4\">\r\n+                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-left\"></i>\r\n+                        </button>\r\n+                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-right\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n+                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n+                            dia.</div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n+                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n+                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n+                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n+                </div>\r\n+\r\n+                <div id=\"categoriesModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+                    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+                        <div class=\"flex justify-between items-center mb-6\">\r\n+                            <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                                <i class=\"fas fa-tags mr-3 text-indigo-400\"></i>\r\n+                                Gerenciar Categorias\r\n+                            </h3>\r\n+                            <button id=\"closeCategoriesModal\" class=\"text-gray-400 hover:text-white\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n                         </div>\r\n-                        <div>\r\n-                            <h4 class=\"text-white font-medium\">Segurança garantida</h4>\r\n-                            <p class=\"text-gray-400 text-sm\">Autenticação de dois fatores disponível</p>\r\n+\r\n+                        <form id=\"addCategoryForm\" class=\"flex items-center space-x-2 mb-4\">\r\n+                            <input type=\"text\" id=\"newCategoryName\" placeholder=\"Nome da nova categoria\" required\r\n+                                class=\"flex-grow px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                            <button type=\"submit\"\r\n+                                class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Adicionar</button>\r\n+                        </form>\r\n+\r\n+                        <div id=\"categoryList\"\r\n+                            class=\"space-y-2 max-h-60 overflow-y-auto pr-2 border-t border-gray-700 pt-4\">\r\n                         </div>\r\n                     </div>\r\n                 </div>\r\n-                \r\n-                <div class=\"lg:w-1/2 max-w-md w-full\">\r\n-                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n-                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n-                            <form id=\"mainLoginForm\">\r\n-                                <div id=\"login-step-1\">\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n-                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n-                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+\r\n+                <div id=\"addBillModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n+                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n+                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n+\r\n+                            <button id=\"closeAddBillModalBtn\"\r\n+                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+\r\n+                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n+                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n+                            </h2>\r\n+\r\n+                            <form id=\"billForm\">\r\n+                                <div class=\"flex border-b border-gray-700 mb-6\">\r\n+                                    <button type=\"button\" id=\"manual-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg -mb-px border border-gray-700 border-b-0\">\r\n+                                        <i class=\"fas fa-pencil-alt mr-2\"></i>Adicionar Manual\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"xml-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-file-invoice mr-2\"></i>Importar XML\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"recurrent-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-sync-alt mr-2\"></i>Pagamento Recorrente\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"csv-import-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-file-csv mr-2\"></i>Importar Planilha\r\n+                                    </button>\r\n+                                </div>\r\n+\r\n+                                <div id=\"manual-add-form\" class=\"space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n+                                        </label>\r\n+                                        <input type=\"text\" id=\"billName\"\r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n                                     </div>\r\n-                                    <div class=\"space-y-4\">\r\n-                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                                        </button>\r\n-                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n-                                            Cadastre-se\r\n-                                        </button>\r\n+                                    <div>\r\n+                                        <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n+                                        </label>\r\n+                                        <input type=\"date\" id=\"dueDate\" \r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n                                     </div>\r\n+                                    <div>\r\n+                                        <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n+                                        </label>\r\n+                                        <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" \r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"installments\"\r\n+                                            class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n+                                                class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n+                                        <input type=\"number\" id=\"installments\"\r\n+                                            placeholder=\"Digite a quantidade de parcelas\" min=\"1\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre\r\n+                                            boletos (dias)\r\n+                                        </label>\r\n+                                        <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n+                                        </label>\r\n+                                        <textarea id=\"description\" rows=\"3\"\r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n+                                    </div>\r\n                                 </div>\r\n \r\n-                                <div id=\"login-step-2\" class=\"hidden\">\r\n-                                    <div class=\"mb-4\">\r\n-                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n-                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n-                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n+                                <div id=\"xml-add-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"nfeXmlInput\"\r\n+                                            class=\"block text-sm font-medium text-gray-300 mb-1\">Selecione o ficheiro\r\n+                                            XML da NFe</label>\r\n+                                        <input type=\"file\" id=\"nfeXmlInput\" accept=\".xml, text/xml\"\r\n+                                            class=\"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-500 file:text-white hover:file:bg-indigo-600 cursor-pointer\" />\r\n+                                        <p class=\"text-xs text-gray-400 mt-2\">O sistema irá ler o XML e preencherá a\r\n+                                            pré-visualização das parcelas automaticamente.</p>\r\n                                     </div>\r\n-                                    <div class=\"mb-6\">\r\n-                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n-                                        <div class=\"relative\">\r\n-                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n-                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n-                                                <i class=\"fas fa-eye\"></i>\r\n+                                </div>\r\n+\r\n+                                <div id=\"csv-import-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"csv-file-input\"\r\n+                                            class=\"block text-sm font-medium text-gray-300 mb-1\">Selecione o ficheiro\r\n+                                            CSV</label>\r\n+                                        <input type=\"file\" id=\"csv-file-input\" accept=\".csv\"\r\n+                                            class=\"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-500 file:text-white hover:file:bg-indigo-600 cursor-pointer\" />\r\n+                                        <p class=\"text-xs text-gray-400 mt-2\">Colunas obrigatórias: Data, Nome, Parcela,\r\n+                                            Valor. Opcionais: Categoria, Pago (use \"sim\"), CodNFE, Tipo.</p>\r\n+                                    </div>\r\n+\r\n+                                    <div id=\"csv-preview-area\" class=\"hidden mt-4\">\r\n+                                        <h3 class=\"text-md font-semibold text-gray-200 mb-2\">Pré-visualização dos\r\n+                                            Boletos a Importar:</h3>\r\n+                                        <div class=\"max-h-60 overflow-y-auto border border-gray-700 rounded-lg p-2\">\r\n+                                            <table class=\"w-full text-sm text-left\">\r\n+                                                <thead class=\"text-xs text-gray-400 uppercase bg-gray-700\">\r\n+                                                    <tr>\r\n+                                                        <th class=\"px-4 py-2\">Data</th>\r\n+                                                        <th class=\"px-4 py-2\">Nome</th>\r\n+                                                        <th class=\"px-4 py-2\">Parcela</th>\r\n+                                                        <th class=\"px-4 py-2 text-right\">Valor</th>\r\n+                                                    </tr>\r\n+                                                </thead>\r\n+                                                <tbody id=\"csv-preview-table-body\">\r\n+                                                </tbody>\r\n+                                            </table>\r\n+                                        </div>\r\n+                                        <div id=\"csv-import-summary\" class=\"text-sm text-gray-300 mt-2\"></div>\r\n+                                        <div class=\"mt-4 flex justify-end\">\r\n+                                            <button id=\"import-csv-btn\"\r\n+                                                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition\">\r\n+                                                <i class=\"fas fa-check mr-2\"></i>Confirmar e Importar\r\n                                             </button>\r\n                                         </div>\r\n                                     </div>\r\n-                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n-                                    </button>\r\n-                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n-                                    <div class=\"text-center mt-4\">\r\n-                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n-                                    </div>    \r\n                                 </div>\r\n-                            </form>\r\n-                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n-                    </div>\r\n-                </div>\r\n-            </div>\r\n-        </div>\r\n-    </section>\r\n \r\n-    <!-- Contato Section -->\r\n-    <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"text-center mb-16\">\r\n-                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Entre em <span class=\"text-indigo-500\">Contato</span></h2>\r\n-                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n-                    Pronto para transformar sua infraestrutura de TI? Nossa equipe está aqui para ajudar.\r\n-                </p>\r\n-            </div>\r\n-            \r\n-            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n-                <div>\r\n-                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n-                        <h3 class=\"text-xl font-semibold text-white mb-6\">Informações de Contato</h3>\r\n-                        \r\n-                        <div class=\"space-y-6\">\r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n+                                <div id=\"recurrent-add-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"recurrentBillName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Despesa</label>\r\n+                                        <input type=\"text\" id=\"recurrentBillName\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\" placeholder=\"Ex: Aluguer do Escritório\">\r\n                                     </div>\r\n-                                </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">Endereço</h4>\r\n-                                    <p class=\"text-gray-400\">Loja Online</p>\r\n-                                </div>\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">Valor Mensal (R$)</label>\r\n+                                        <input type=\"number\" id=\"recurrentAmount\" step=\"0.01\" min=\"0\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n                                     </div>\r\n-                                </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">Telefone</h4>\r\n-                                    <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n-                                </div>\r\n-                            </div>\r\n-                            \r\n-                            <div class=\"flex items-start\">\r\n-                                <div class=\"flex-shrink-0\">\r\n-                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n-                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentStartDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">Data do Primeiro Vencimento</label>\r\n+                                        <input type=\"date\" id=\"recurrentStartDate\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n                                     </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentInstallments\" class=\"block text-sm font-medium text-gray-300 mb-1\">Quantidade de Meses</label>\r\n+                                        <input type=\"number\" id=\"recurrentInstallments\" min=\"1\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\" placeholder=\"Ex: 12 (para um ano)\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentDescription\" class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n+                                        <textarea id=\"recurrentDescription\" rows=\"3\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\"></textarea>\r\n+                                    </div>\r\n                                 </div>\r\n-                                <div class=\"ml-4\">\r\n-                                    <h4 class=\"text-white font-medium\">E-mail</h4>\r\n-                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n+\r\n+                                <div class=\"mt-6 pt-6 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                                    <button type=\"button\" id=\"clearFormBtn\"\r\n+                                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition\">Limpar\r\n+                                        Formulário</button>\r\n+                                    <button type=\"submit\"\r\n+                                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Calcular\r\n+                                        Parcelas</button>\r\n                                 </div>\r\n-                            </div>\r\n+                            </form>\r\n                         </div>\r\n-                        \r\n-                        <div class=\"mt-8\">\r\n-                            <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n-                            <div class=\"flex space-x-4\">\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-facebook-f text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-twitter text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-instagram text-white\"></i>\r\n-                                </a>\r\n-                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n-                                    <i class=\"fab fa-linkedin-in text-white\"></i>\r\n-                                </a>\r\n-                            </div>\r\n-                        </div>\r\n                     </div>\r\n                 </div>\r\n-                \r\n-                <div>\r\n-                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n-                        <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n-                        \r\n-                        <form id=\"contactForm\">\r\n-                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n-                                <div>\r\n-                                    <label for=\"contactName\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n-                                    <input type=\"text\" id=\"contactName\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n+\r\n+                <div id=\"installmentsPreviewModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n+                    <div class=\"max-w-6xl mx-auto w-full p-4\">\r\n+                        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 relative\">\r\n+                            <button id=\"closePreviewModalBtn\"\r\n+                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white z-10\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+\r\n+                            <div class=\"flex justify-between items-start mb-6 pr-10\">\r\n+                                <div class=\"flex-grow mr-6 space-y-2\">\r\n+                                    <div>\r\n+                                        <label for=\"previewBillNameInput\"\r\n+                                            class=\"block text-xs font-medium text-gray-400 mb-1\">Nome do Boleto (para o\r\n+                                            calendário)</label>\r\n+                                        <input type=\"text\" id=\"previewBillNameInput\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-lg font-semibold focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"previewBillCategorySelect\"\r\n+                                            class=\"block text-xs font-medium text-gray-400 mb-1\">Categoria</label>\r\n+                                        <select id=\"previewBillCategorySelect\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-indigo-500\"></select>\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label class=\"block text-xs font-medium text-gray-400 mb-1\">Número da\r\n+                                            NFe</label>\r\n+                                        <p id=\"previewNfeNumber\" class=\"text-white font-semibold text-lg\"></p>\r\n+                                    </div>\r\n                                 </div>\r\n-                                <div>\r\n-                                    <label for=\"contactEmail\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n-                                    <input type=\"email\" id=\"contactEmail\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n+                                <div class=\"flex items-center space-x-4 flex-shrink-0 mt-6\">\r\n+                                    <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n+                                    <button id=\"addToOrganizer\"\r\n+                                        class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n+                                        <i class=\"fas fa-save mr-2\"></i> Adicionar ao Organizador\r\n+                                    </button>\r\n                                 </div>\r\n                             </div>\r\n-                            \r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"contactSubject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n-                                <input type=\"text\" id=\"contactSubject\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n+\r\n+                            <div class=\"grid grid-cols-12 gap-4 px-3 pb-2 border-b border-gray-700\">\r\n                             </div>\r\n-                            \r\n-                            <div class=\"mb-6\">\r\n-                                <label for=\"contactMessage\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n-                                <textarea id=\"contactMessage\" rows=\"4\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n+                            <div id=\"installmentsList\" class=\"space-y-2 mt-2 max-h-[60vh] overflow-y-auto pr-2\">\r\n                             </div>\r\n-                            \r\n-                            <button type=\"submit\" id=\"contactSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                                Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n-                            </button>\r\n-                        </form>\r\n-                        <div id=\"contactFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n+                        </div>\r\n                     </div>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n-    </section>\r\n \r\n-    <!-- Footer -->\r\n-    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n-        <div class=\"max-w-7xl mx-auto\">\r\n-            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n+    </div>\r\n+    </div>\r\n+\r\n+    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-xl\">\r\n+\r\n+            <div class=\"flex justify-between items-center mb-4 pr-8 relative\">\r\n+\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 truncate\" id=\"modalBillName\" title=\"\"></h3>\r\n+\r\n+                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200 absolute top-0 right-0\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div id=\"modalNfeNumberContainer\" class=\"mb-4 hidden\">\r\n+                <label class=\"block text-sm font-medium text-gray-400\">Número da NFe</label>\r\n+                <p id=\"modalNfeNumber\" class=\"mt-1 text-gray-200 font-mono\"></p>\r\n+            </div>\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"modalBillCategorySelect\"\r\n+                    class=\"block text-sm font-medium text-gray-300 mb-1\">Categoria</label>\r\n+                <select id=\"modalBillCategorySelect\"\r\n+                    class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+            </div>\r\n+            <div class=\"space-y-4\">\r\n                 <div>\r\n-                    <div class=\"flex items-center logo mb-4\">\r\n-                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n-                    </div>\r\n-                    <p class=\"text-gray-400 text-sm\">\r\n-                        Soluções em tecnologia da informação com excelência e inovação.\r\n-                    </p>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n+                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n                 </div>\r\n-                \r\n                 <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n-                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n-                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n-                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n-                    </ul>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n+                    <input type=\"date\" id=\"modalBillDate\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n                 </div>\r\n-                \r\n                 <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n-                    <ul class=\"space-y-2\">\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n-                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n-                    </ul>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n+                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n                 </div>\r\n-                \r\n                 <div>\r\n-                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n-                    <p class=\"text-gray-400 text-sm mb-4\">\r\n-                        Assine nossa newsletter para receber atualizações e novidades.\r\n-                    </p>\r\n-                    <form class=\"flex\">\r\n-                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n-                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n-                            <i class=\"fas fa-paper-plane\"></i>\r\n-                        </button>\r\n-                    </form>\r\n+                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n+                        Barras</label>\r\n+                    <input type=\"text\" id=\"modalBillBarcode\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n+                        placeholder=\"Código de Barras\">\r\n                 </div>\r\n-            </div>\r\n-            \r\n-            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n-                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n-                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n-                </p>\r\n-                <div class=\"flex space-x-6\">\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n-                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n+                <div class=\"mt-2\">\r\n+                    <button id=\"showFullScreenBarcodeBtn\"\r\n+                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n+                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n+                    </button>\r\n                 </div>\r\n+                <div class=\"flex items-center mt-4\">\r\n+                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n+                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n+                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n+                </div>\r\n+\r\n+                <div class=\"border-t border-gray-700 pt-4 mt-2\">\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-2\">Comprovativo de Pagamento</label>\r\n+                    <div id=\"attachment-container\" class=\"space-y-2\">\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div class=\"flex justify-between pt-4\">\r\n+                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n+                        Salvar\r\n+                    </button>\r\n+                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n+                        Excluir Parcela\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n+                    <button id=\"deleteEntireBillBtn\"\r\n+                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n+                        Excluir Boleto Completo\r\n+                    </button>\r\n+                </div>\r\n             </div>\r\n         </div>\r\n-    </footer>\r\n+    </div>\r\n \r\n-    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n-            \r\n-            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-                <i class=\"fas fa-times fa-lg\"></i>\r\n-            </button>\r\n+    <div id=\"companyDetailsModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-4\">\r\n+                <div>\r\n+                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da\r\n+                        Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyNameInput\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n \r\n-            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n-\r\n-            <form id=\"registerForm\">\r\n-                <div id=\"register-step-1\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                        <div>\r\n-                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n-                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n-                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n-                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                        <div>\r\n-                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n-                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n-                        </div>\r\n-                    </div>\r\n-                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n+            <div class=\"space-y-4\">\r\n+                <p class=\"text-gray-300\">\r\n+                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n+                </p>\r\n+                <div>\r\n+                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n+                        Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n+                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n+                </div>\r\n+                <div class=\"mt-4 flex justify-end space-x-2\">\r\n+                    <button id=\"saveCompanyDetailsBtn\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n                     </button>\r\n+                    <button id=\"addUserBtn\"\r\n+                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n+                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n+                    </button>\r\n                 </div>\r\n+                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n+                    <button id=\"deleteCompanyBtn\"\r\n+                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n+                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n+                    </button>\r\n+                </div>\r\n \r\n-                <div id=\"register-step-2\" class=\"hidden\">\r\n-                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n-                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                <fieldset id=\"adminSubscriptionManagement\" class=\"mt-4 pt-4 border-t border-gray-700\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-200\">Gerenciar Assinatura</legend>\r\n+                    <div class=\"p-2 space-y-3\">\r\n                         <div>\r\n-                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n-                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                            <span class=\"text-sm font-medium text-gray-400\">Status Atual:</span>\r\n+                            <span id=\"subscriptionStatus\" class=\"ml-2 font-bold text-white\"></span>\r\n                         </div>\r\n                         <div>\r\n-                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n-                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                            <span class=\"text-sm font-medium text-gray-400\">Expira em:</span>\r\n+                            <span id=\"subscriptionEndDate\" class=\"ml-2 font-bold text-white\"></span>\r\n                         </div>\r\n-                        <div>\r\n-                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n-                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n+                        <div class=\"flex items-center space-x-3 mt-2\">\r\n+                            <input type=\"number\" id=\"daysToAddInput\"\r\n+                                class=\"w-24 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n+                                placeholder=\"Dias\" min=\"1\">\r\n+                            <button id=\"addSubscriptionBtn\"\r\n+                                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                                <i class=\"fas fa-plus mr-2\"></i> Adicionar Tempo\r\n+                            </button>\r\n+                            <button id=\"removeSubscriptionBtn\"\r\n+                                class=\"bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center\">\r\n+                                <i class=\"fas fa-ban mr-2\"></i> Remover Assinatura\r\n+                            </button>\r\n                         </div>\r\n-                        <div>\r\n-                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n-                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n-                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n-                        </div>\r\n                     </div>\r\n-                    <div class=\"flex items-center gap-4 mt-6\">\r\n-                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n-                        </button>\r\n-                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n-                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n-                        </button>\r\n-                    </div>\r\n-                </div>\r\n-                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n-            </form>\r\n+                </fieldset>\r\n+\r\n+            </div>\r\n         </div>\r\n     </div>\r\n \r\n-<script src=\"https://unpkg.com/imask\"></script>\r\n-<script>\r\n-document.addEventListener('DOMContentLoaded', async () => {\r\n+    <div id=\"barcodeFullScreenModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n \r\n-    const API_BASE_URL = 'http://localhost:5000';\r\n+        <div class=\"bg-white p-6 rounded-lg shadow-xl inline-block\">\r\n+            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n+        </div>\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n-    // =================================================================================\r\n+        <button id=\"closeFullScreenBarcodeBtn\"\r\n+            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n+            Fechar\r\n+        </button>\r\n+    </div>\r\n \r\n-    function updateUIForLoggedInUser(user) {\r\n-        const desktopMenu = document.getElementById('desktop-menu-items');\r\n-        const navLoginLink = document.getElementById('nav-login-link');\r\n-        const loginSectionContent = document.getElementById('login-section-content');\r\n-        \r\n-        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n-            navLoginLink.textContent = 'Acessar Painel';\r\n-            navLoginLink.href = 'OrgBoletos.html';\r\n-            const logoutButton = document.createElement('button');\r\n-            logoutButton.id = 'nav-logout-btn';\r\n-            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n-            logoutButton.textContent = 'Sair';\r\n-            desktopMenu.appendChild(logoutButton);\r\n-        }\r\n+    <div id=\"quickUserAddModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n+                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n+                        Usuário</label>\r\n+                    <input type=\"text\" id=\"quickAddUsername\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                    <input type=\"password\" id=\"quickAddPassword\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div class=\"pt-4 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n+                        Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-        if (loginSectionContent) {\r\n-            loginSectionContent.innerHTML = `\r\n-                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n-                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n-                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n-                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n-                </a>`;\r\n-        }\r\n-        \r\n-        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n-            btn.addEventListener('click', () => {\r\n-                localStorage.removeItem('authToken');\r\n-                window.location.reload();\r\n-            });\r\n-        });\r\n-    }\r\n+    <div id=\"companyInfoModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-start mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Detalhes da Empresa\r\n+                </h3>\r\n \r\n-    function clearLoginErrors() {\r\n-        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n-        fields.forEach(id => {\r\n-            const el = document.getElementById(id);\r\n-            if (el) el.textContent = '';\r\n-        });\r\n-    }\r\n+                <div class=\"flex items-start space-x-4\">\r\n+                    <div id=\"headerSubscriptionInfo\" class=\"text-right hidden\">\r\n+                        <label class=\"block text-xs font-medium text-gray-400 tracking-wider\">ASSINATURA ATIVA\r\n+                            ATÉ</label>\r\n+                        <p id=\"headerSubscriptionEndDate\" class=\"text-base font-semibold text-green-400\"></p>\r\n+                    </div>\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n-    // =================================================================================\r\n-    \r\n-    const token = localStorage.getItem('authToken');\r\n-    if (token) {\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n-            if (response.ok) {\r\n-                const data = await response.json();\r\n-                updateUIForLoggedInUser(data.user);\r\n-                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n-                setupGeneralEventListeners(true); \r\n-                return; \r\n-            } else {\r\n-                localStorage.removeItem('authToken');\r\n-            }\r\n-        } catch (error) {\r\n-            console.error(\"Erro ao verificar sessão:\", error);\r\n-        }\r\n-    }\r\n+                    <button id=\"closeCompanyInfoModal\" class=\"text-gray-400 hover:text-white\">\r\n+                        <i class=\"fas fa-times text-xl\"></i>\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n \r\n-    // =================================================================================\r\n-    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n-    // =================================================================================\r\n-    \r\n-    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n-    setupGeneralEventListeners(false);\r\n+            <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n+                    <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n+                </div>\r\n \r\n-    // Variáveis para as instâncias das máscaras\r\n-    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n+                <div>\r\n+                    <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n+                    <input type=\"text\" id=\"companyInfoName\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n \r\n-    // --- Lógica do formulário de Login ---\r\n-    const mainLoginForm = document.getElementById('mainLoginForm');\r\n-    if (mainLoginForm) {\r\n-        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n-        \r\n-        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        \r\n-        cnpjMask.on('accept', () => {\r\n-            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-            signUpBtn.classList.add('hidden');\r\n-        });\r\n+                <div>\r\n+                    <label for=\"companyInfoEmail\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n+                    <input type=\"email\" id=\"companyInfoEmail\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n \r\n-        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n-        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n-        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n-    }\r\n-    \r\n-    // --- Lógica do Modal de Cadastro ---\r\n+                <div id=\"verificationNotice\"\r\n+                    class=\"hidden mt-4 p-4 bg-yellow-900/50 border border-yellow-700 rounded-lg text-center\">\r\n+                    <p class=\"text-yellow-300 text-sm mb-3\">\r\n+                        <i class=\"fas fa-exclamation-triangle mr-2\"></i>O e-mail desta empresa ainda não foi verificado.\r\n+                    </p>\r\n+                    <button type=\"button\" id=\"resendVerificationBtn\"\r\n+                        class=\"bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition duration-300\">\r\n+                        Reenviar E-mail de Verificação\r\n+                    </button>\r\n+                </div>\r\n \r\n-    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n-    if (forgotPasswordModal) {\r\n-        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n-        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n-        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n-        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n-        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n+                <div>\r\n+                    <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone\r\n+                        Fixo</label>\r\n+                    <input type=\"text\" id=\"companyInfoTelefone\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n \r\n-        // Abre o modal ao clicar no botão\r\n-        forgotPasswordBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.remove('hidden');\r\n-            document.getElementById('recoveryEmailInput').focus();\r\n-        });\r\n+                <div>\r\n+                    <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone\r\n+                        WhatsApp</label>\r\n+                    <input type=\"text\" id=\"companyInfoWhatsapp\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+            </form>\r\n \r\n-        // Fecha o modal\r\n-        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n-            forgotPasswordModal.classList.add('hidden');\r\n-        });\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"saveCompanyInfoBtn\"\r\n+                    class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n+                </button>\r\n+            </div>\r\n \r\n-        // Lida com o envio do formulário\r\n-        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n-            e.preventDefault();\r\n-            const email = document.getElementById('recoveryEmailInput').value;\r\n-            \r\n-            recoverySubmitBtn.disabled = true;\r\n-            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n-            recoveryFormFeedback.textContent = '';\r\n+        </div>\r\n+    </div>\r\n \r\n-            try {\r\n-                // Chama a rota do backend que já criámos\r\n-                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n-                    method: 'POST',\r\n-                    headers: { 'Content-Type': 'application/json' },\r\n-                    body: JSON.stringify({ email })\r\n-                });\r\n+    <div id=\"permissionsModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i\r\n+                        class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i\r\n+                        class=\"fas fa-times text-xl\"></i></button>\r\n+            </div>\r\n \r\n-                const result = await response.json();\r\n-                if (!response.ok) { throw new Error(result.message); }\r\n+            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n \r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-                recoveryFormFeedback.textContent = result.message;\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div\r\n+                                    class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\">\r\n+                                </div>\r\n+                            </label>\r\n+                        </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                    </div>\r\n+                </div>\r\n \r\n-                // Fecha o modal após alguns segundos\r\n-                setTimeout(() => {\r\n-                    forgotPasswordModal.classList.add('hidden');\r\n-                }, 4000);\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div\r\n+                                    class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\">\r\n+                                </div>\r\n+                            </label>\r\n+                        </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n \r\n-            } catch (error) {\r\n-                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-                recoveryFormFeedback.textContent = error.message;\r\n-            } finally {\r\n-                recoverySubmitBtn.disabled = false;\r\n-                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-            }\r\n-        });\r\n-    }\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"savePermissionsBtn\"\r\n+                    class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i\r\n+                        class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n \r\n-    const registerModal = document.getElementById('registerModal');\r\n-    if (registerModal) {\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n-        const registerForm = document.getElementById('registerForm');\r\n-        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n-        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n-        const registerCnpjInput = document.getElementById('registerCnpj');\r\n-        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n+    <div id=\"addUserModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-user-plus mr-3 text-indigo-400\"></i>\r\n+                    Adicionar Novo Usuário\r\n+                </h3>\r\n+                <button id=\"closeAddUserModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n \r\n-        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n-        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n+            <form id=\"addUserForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"addUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de\r\n+                        Usuário</label>\r\n+                    <input type=\"text\" id=\"addUsernameInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserEmailInput\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n+                    <input type=\"email\" id=\"addUserEmailInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha</label>\r\n+                    <input type=\"password\" id=\"addUserPasswordInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserRoleSelect\" class=\"block text-sm font-medium text-gray-300\">Cargo</label>\r\n+                    <select id=\"addUserRoleSelect\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </select>\r\n+                </div>\r\n \r\n-        signUpBtn.addEventListener('click', () => {\r\n-            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n-            registerModal.classList.remove('hidden');\r\n-        });\r\n-        \r\n-        closeRegisterModalBtn.addEventListener('click', () => {\r\n-            registerModal.classList.add('hidden');\r\n-            registerForm.reset();\r\n-        });\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddUserBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar\r\n+                        Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n+    <div id=\"addCompanyModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Criar Nova Empresa\r\n+                </h3>\r\n+                <button id=\"closeAddCompanyModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n \r\n-        backToRegisterStep1Btn.addEventListener('click', () => {\r\n-            document.getElementById('register-step-2').classList.add('hidden');\r\n-            document.getElementById('register-step-1').classList.remove('hidden');\r\n-        });\r\n+            <form id=\"addCompanyForm\" class=\"space-y-4\">\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Dados da Empresa</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addCompanyNameInput\" class=\"block text-sm font-medium text-gray-300\">Nome da\r\n+                                Empresa</label>\r\n+                            <input type=\"text\" id=\"addCompanyNameInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyCnpjInput\"\r\n+                                class=\"block text-sm font-medium text-gray-300\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"addCompanyCnpjInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyEmailInput\" class=\"block text-sm font-medium text-gray-300\">E-mail da Empresa</label>\r\n+                            <input type=\"email\" id=\"addCompanyEmailInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>                        \r\n+                        <div>\r\n+                            <label for=\"addCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha\r\n+                                da Empresa</label>\r\n+                            <input type=\"password\" id=\"addCompanyPasswordInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n \r\n-        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n-    }\r\n-    \r\n-    // =================================================================================\r\n-    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n-    // =================================================================================\r\n-    \r\n-    function setupGeneralEventListeners(isLoggedIn = false) {\r\n-        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n-        const mobileMenu = document.getElementById('mobile-menu');\r\n-        if (mobileMenuButton) {\r\n-            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n-        }\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Usuário Proprietário</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addOwnerUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de\r\n+                                Usuário do Proprietário</label>\r\n+                            <input type=\"text\" id=\"addOwnerUsernameInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addOwnerPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha do\r\n+                                Proprietário</label>\r\n+                            <input type=\"password\" id=\"addOwnerPasswordInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n \r\n-        const contactForm = document.getElementById('contactForm');\r\n-        if (contactForm) {\r\n-            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n-        }\r\n-        \r\n-        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n-        if (!isLoggedIn) {\r\n-            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n-            if (logoElement) {\r\n-                let clickCount = 0;\r\n-                let clickTimer = null;\r\n-                logoElement.addEventListener('click', (e) => {\r\n-                    if (document.getElementById('mainLoginForm')) {\r\n-                        e.preventDefault();\r\n-                        clickCount++;\r\n-                        clearTimeout(clickTimer);\r\n-                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n-                        if (clickCount === 7) {\r\n-                            activateAdminLogin();\r\n-                            clickCount = 0;\r\n-                            clearTimeout(clickTimer);\r\n-                        }\r\n-                    }\r\n-                });\r\n-            }\r\n-        }\r\n-    }\r\n-    \r\n-    function activateAdminLogin() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n-            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n-            mainLoginForm.dataset.isAdmin = \"true\";\r\n-            loginStep1.classList.add('hidden');\r\n-            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n-            loginStep2.classList.remove('hidden');\r\n-            mainUsernameInput.focus();\r\n-        }\r\n-    }\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddCompanyBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar\r\n+                        Empresa</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-    function handleBackToStep1Click() {\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        loginStep2.classList.add('hidden');\r\n-        if(cnpjMask) cnpjMask.value = '';\r\n-        loginStep1.classList.remove('hidden');\r\n-        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n-        mainLoginForm.dataset.isAdmin = \"false\";\r\n-        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n-        clearLoginErrors();\r\n-    }\r\n+    <div id=\"manageUsersModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Utilizadores da Empresa</h3>\r\n+                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n \r\n-    async function handleNextStepClick() {\r\n-        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n-        const signUpBtn = document.getElementById('signUpBtn');\r\n-        const nextStepBtn = document.getElementById('nextStepBtn');\r\n-        const loginStep1 = document.getElementById('login-step-1');\r\n-        const loginStep2 = document.getElementById('login-step-2');\r\n-        \r\n-        mainLoginFormFeedback.textContent = '';\r\n-        signUpBtn.classList.add('hidden');\r\n-        \r\n-        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n-            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n-            return;\r\n-        }\r\n+            <div id=\"companyUsersList\" class=\"space-y-2 mb-6 max-h-60 overflow-y-auto pr-2\">\r\n+            </div>\r\n \r\n-        nextStepBtn.disabled = true;\r\n-        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message); }\r\n-            loginStep1.classList.add('hidden');\r\n-            loginStep2.classList.remove('hidden');\r\n-        } catch (error) {\r\n-            mainLoginFormFeedback.textContent = error.message;\r\n-            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n-                signUpBtn.classList.remove('hidden');\r\n-            }\r\n-        } finally {\r\n-            nextStepBtn.disabled = false;\r\n-            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n-        }\r\n-    }\r\n-    \r\n-    function handleGoToRegisterStep2() {\r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n-        const companyName = document.getElementById('registerCompanyName').value;\r\n-        const companyEmail = document.getElementById('registerEmail').value;\r\n+            <div class=\"mt-4 flex justify-end\">\r\n+                <button id=\"addCompanyUserBtn\"\r\n+                    class=\"bg-blue-600 text-white py-2 px-5 rounded-md hover:bg-blue-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Utilizador\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+    <button id=\"openAddBillModalBtn\"\r\n+        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n+        <i class=\"fas fa-plus\"></i>\r\n+    </button>\r\n \r\n-        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n-            document.getElementById('register-step-1').classList.add('hidden');\r\n-            document.getElementById('register-step-2').classList.remove('hidden');\r\n-        } else {\r\n-            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n-        }\r\n-    }\r\n-    \r\n-    async function handleLoginFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n-        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n-        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n-        mainLoginSubmitBtn.disabled = true;\r\n-        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n-        clearLoginErrors();\r\n-        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n+    <div id=\"categoryBatchModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm\">\r\n+            <h3 class=\"text-xl font-semibold text-gray-100 mb-4\">Alterar Categoria dos Itens Selecionados</h3>\r\n \r\n-        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n-        const payload = isAdminLoginMode ? \r\n-            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n-            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n-        try {\r\n-            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { \r\n-                const error = new Error(result.message || 'Erro de validação.');\r\n-                error.details = result.errors;\r\n-                throw error;\r\n-            }\r\n-            localStorage.setItem('authToken', result.token);\r\n-            window.location.href = 'OrgBoletos.html';\r\n-        } catch (error) {\r\n-            if (error.details) {\r\n-                error.details.forEach(err => {\r\n-                    const errorElement = document.getElementById(`${err.path}Error`);\r\n-                    if (errorElement) { errorElement.textContent = err.msg; }\r\n-                });\r\n-            } else {\r\n-                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n-            }\r\n-        } finally {\r\n-            mainLoginSubmitBtn.disabled = false;\r\n-            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n-            e.target.dataset.isAdmin = \"false\";\r\n-        }\r\n-    }\r\n+            <div class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"batchCategorySelect\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nova\r\n+                        Categoria</label>\r\n+                    <select id=\"batchCategorySelect\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+                </div>\r\n \r\n-    async function handleRegisterFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const password = document.getElementById('ownerPassword').value;\r\n-        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n-        if (password !== confirmPassword) {\r\n-            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n-            return;\r\n-        }\r\n-        document.getElementById('passwordConfirmError').textContent = '';\r\n+                <div class=\"flex justify-end space-x-3 pt-4\">\r\n+                    <button id=\"cancelCategoryBatchBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition\">Cancelar</button>\r\n+                    <button id=\"confirmCategoryBatchBtn\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Confirmar</button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n \r\n-        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n-        submitBtn.disabled = true;\r\n-        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n+    <div id=\"profileModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all\">\r\n \r\n-        const registrationFeedback = document.getElementById('registrationFeedback');\r\n-        registrationFeedback.textContent = '';\r\n+            <button id=\"closeProfileModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+                <i class=\"fas fa-times fa-lg\"></i>\r\n+            </button>\r\n \r\n-        const payload = {\r\n-            cnpj: registerCnpjMask.unmaskedValue,\r\n-            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n-            email: document.getElementById('registerEmail').value,\r\n-            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n-            username: document.getElementById('ownerUsername').value,\r\n-            ownerEmail: document.getElementById('ownerEmail').value,\r\n-            password: password,\r\n-        };\r\n+            <h2 class=\"text-2xl font-bold mb-4 text-center text-indigo-400\">Meu Perfil</h2>\r\n \r\n-        try {\r\n-            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n-            // A URL agora aponta para a nova rota pública em auth.js\r\n-            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n-                method: 'POST', \r\n-                headers: { 'Content-Type': 'application/json' }, \r\n-                body: JSON.stringify(payload) \r\n-            });\r\n+            <div class=\"space-y-2 text-base border-b border-gray-700 pb-4 mb-4\">\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Utilizador:</strong> <span\r\n+                        id=\"profileUsername\"></span></p>\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Cargo:</strong> <span id=\"profileRole\"></span></p>\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Empresa:</strong> <span id=\"profileCompany\"></span>\r\n+                </p>\r\n+            </div>\r\n \r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n+            <h3 class=\"text-lg font-semibold text-gray-200 mb-3\">Alterar Senha</h3>\r\n+            <form id=\"changePasswordForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"currentPassword\" class=\"block text-sm font-medium text-gray-300\">Senha Atual</label>\r\n+                    <input type=\"password\" id=\"currentPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"newPassword\" class=\"block text-sm font-medium text-gray-300\">Nova Senha</label>\r\n+                    <input type=\"password\" id=\"newPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-300\">Confirmar Nova\r\n+                        Senha</label>\r\n+                    <input type=\"password\" id=\"confirmPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <button type=\"submit\"\r\n+                    class=\"w-full mt-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300\">\r\n+                    Salvar Nova Senha\r\n+                </button>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n \r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n-            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n+    <div id=\"recurrentEditModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-lg text-white relative\">\r\n \r\n-            setTimeout(() => {\r\n-                document.getElementById('closeRegisterModalBtn').click();\r\n-                if (cnpjMask) {\r\n-                    cnpjMask.value = payload.cnpj;\r\n-                    document.getElementById('mainCnpjInput').focus();\r\n-                }\r\n-            }, 3000);\r\n-        } catch (error) {\r\n-            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n-            registrationFeedback.textContent = error.message;\r\n-        } finally {\r\n-            submitBtn.disabled = false;\r\n-            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n-        }\r\n-    }\r\n-    \r\n-    async function handleContactFormSubmit(e) {\r\n-        e.preventDefault();\r\n-        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n-        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n-        contactSubmitBtn.disabled = true;\r\n-        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n-        contactFormFeedback.textContent = '';\r\n-        const payload = {\r\n-            name: document.getElementById('contactName').value,\r\n-            email: document.getElementById('contactEmail').value,\r\n-            subject: document.getElementById('contactSubject').value,\r\n-            message: document.getElementById('contactMessage').value,\r\n-        };\r\n-        try {\r\n-            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n-            const result = await response.json();\r\n-            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n-            contactFormFeedback.textContent = result.message;\r\n-            document.getElementById('contactForm').reset();\r\n-        } catch (error) {\r\n-            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n-            contactFormFeedback.textContent = error.message;\r\n-        } finally {\r\n-            contactSubmitBtn.disabled = false;\r\n-            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n-        }\r\n-    }\r\n-});\r\n-</script>\r\n+            <h2 class=\"text-2xl font-bold mb-4 text-center text-indigo-400\">Editar Parcela Recorrente</h2>\r\n+            <p class=\"text-center text-gray-400 mb-6\">\r\n+                Esta parcela faz parte de uma série recorrente. Como deseja aplicar as alterações?\r\n+            </p>\r\n \r\n-<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n-    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n-        \r\n-        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n-            <i class=\"fas fa-times fa-lg\"></i>\r\n-        </button>\r\n+            <div class=\"space-y-4\">\r\n+                <button data-scope=\"single\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Somente Esta Parcela</strong>\r\n+                    <span class=\"text-sm text-gray-400\">Apenas a parcela de <span class=\"font-bold\" id=\"single-parcel-date\"></span> será modificada.</span>\r\n+                </button>\r\n+                <button data-scope=\"future\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Esta e as Próximas</strong>\r\n+                    <span class=\"text-sm text-gray-400\">O dia do vencimento, valor, descrição e cód. de barras serão aplicados nesta e em todas as parcelas futuras.</span>\r\n+                </button>\r\n+                <button data-scope=\"all\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Todas as Parcelas</strong>\r\n+                    <span class=\"text-sm text-gray-400\">O dia do vencimento, valor, descrição e cód. de barras serão aplicados a todas as parcelas desta série.</span>\r\n+                </button>\r\n+            </div>\r\n \r\n-        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n-        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n-            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n-        </p>\r\n-\r\n-        <form id=\"forgotPasswordForm\">\r\n-            <div class=\"mb-4\">\r\n-                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n-                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n+            <div class=\"text-center mt-6\">\r\n+                <button id=\"cancelRecurrentEditBtn\" class=\"text-gray-400 hover:text-white\">Cancelar</button>\r\n             </div>\r\n-            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n-                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n-            </button>\r\n-        </form>\r\n-        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n+        </div>\r\n     </div>\r\n-</div>\r\n \r\n+    <div id=\"announcementModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <h3 id=\"announcementModalTitle\" class=\"text-xl font-semibold text-gray-100 mb-4\">Novo Anúncio</h3>\r\n+            <form id=\"announcementForm\">\r\n+                <input type=\"hidden\" id=\"announcementId\">\r\n+                <div class=\"space-y-4\">\r\n+                    <div>\r\n+                        <label for=\"announcementMessage\" class=\"block text-sm font-medium text-gray-300\">Mensagem</label>\r\n+                        \r\n+                        <textarea id=\"announcementMessage\" required rows=\"3\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n+                    </div>\r\n+                    <div>\r\n+                        <label for=\"announcementLink\" class=\"block text-sm font-medium text-gray-300\">Link (Opcional)</label>\r\n+                        <input type=\"url\" id=\"announcementLink\" placeholder=\"https://exemplo.com\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                    </div>\r\n+                    <div class=\"flex items-center\">\r\n+                        <input type=\"checkbox\" id=\"announcementIsActive\" class=\"h-4 w-4 text-indigo-600 border-gray-600 rounded\">\r\n+                        <label for=\"announcementIsActive\" class=\"ml-2 text-sm text-gray-300\">Marcar como anúncio ativo?</label>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"mt-6 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAnnouncementBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n+                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <script src=\"https://unpkg.com/imask\"></script>\r\n+    <script type=\"module\" src=\"scripts/main.js\"></script>\r\n+\r\n </body>\r\n+\r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1753828460384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,16 +108,28 @@\n                 </div>\r\n             </div>\r\n \r\n             <div id=\"announcementsView\" class=\"hidden\">\r\n-                <div class=\"flex justify-between items-center mb-6\">\r\n+\r\n+                <div class=\"flex justify-between items-center mb-6 border-b border-gray-700 pb-4\">\r\n                     <h2 class=\"text-2xl font-semibold text-white\">Gestão de Anúncios</h2>\r\n-                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition\">\r\n+                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition flex items-center\">\r\n                         <i class=\"fas fa-plus mr-2\"></i>Criar Novo Anúncio\r\n                     </button>\r\n                 </div>\r\n-                <div id=\"announcementsList\" class=\"space-y-3\">\r\n+\r\n+                <div id=\"announcementsListContainer\">\r\n+                    <div id=\"announcementsListLoader\" class=\"text-center py-8\">\r\n+                        <i class=\"fas fa-spinner fa-spin text-2xl text-gray-400\"></i>\r\n+                        <p class=\"text-gray-400 mt-2\">A carregar anúncios...</p>\r\n                     </div>\r\n+                    <div id=\"announcementsList\" class=\"hidden space-y-3\">\r\n+                        </div>\r\n+                    <div id=\"noAnnouncementsMessage\" class=\"hidden text-center py-8 bg-gray-800 rounded-lg\">\r\n+                        <p class=\"text-gray-500\">Nenhum anúncio encontrado. Clique em \"Criar Novo Anúncio\" para começar.</p>\r\n+                    </div>\r\n+                </div>\r\n+\r\n             </div>\r\n     </div>\r\n \r\n     <div id=\"mainAppContent\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n"
                },
                {
                    "date": 1753828534540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,28 +108,16 @@\n                 </div>\r\n             </div>\r\n \r\n             <div id=\"announcementsView\" class=\"hidden\">\r\n-\r\n-                <div class=\"flex justify-between items-center mb-6 border-b border-gray-700 pb-4\">\r\n+                <div class=\"flex justify-between items-center mb-6\">\r\n                     <h2 class=\"text-2xl font-semibold text-white\">Gestão de Anúncios</h2>\r\n-                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition flex items-center\">\r\n+                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition\">\r\n                         <i class=\"fas fa-plus mr-2\"></i>Criar Novo Anúncio\r\n                     </button>\r\n                 </div>\r\n-\r\n-                <div id=\"announcementsListContainer\">\r\n-                    <div id=\"announcementsListLoader\" class=\"text-center py-8\">\r\n-                        <i class=\"fas fa-spinner fa-spin text-2xl text-gray-400\"></i>\r\n-                        <p class=\"text-gray-400 mt-2\">A carregar anúncios...</p>\r\n+                <div id=\"announcementsList\" class=\"space-y-3\">\r\n                     </div>\r\n-                    <div id=\"announcementsList\" class=\"hidden space-y-3\">\r\n-                        </div>\r\n-                    <div id=\"noAnnouncementsMessage\" class=\"hidden text-center py-8 bg-gray-800 rounded-lg\">\r\n-                        <p class=\"text-gray-500\">Nenhum anúncio encontrado. Clique em \"Criar Novo Anúncio\" para começar.</p>\r\n-                    </div>\r\n-                </div>\r\n-\r\n             </div>\r\n     </div>\r\n \r\n     <div id=\"mainAppContent\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n"
                },
                {
                    "date": 1753882438016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,1372 @@\n+<!DOCTYPE html>\r\n+<html lang=\"pt-BR\">\r\n+\r\n+<head>\r\n+    <meta charset=\"UTF-8\">\r\n+    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n+    <title>Organizador de Boletos</title>\r\n+    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n+    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js\"></script>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js\"></script>\r\n+    <link rel=\"stylesheet\" href=\"style.css\">\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js\"></script>\r\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js\"></script>\r\n+</head>\r\n+\r\n+<body class=\"bg-gray-900 text-gray-100 min-h-screen\">\r\n+\r\n+    <div id=\"globalAnnouncementBanner\" class=\"hidden bg-indigo-600 text-white text-center p-3 absolute top-0 w-full z-40\">\r\n+        <div id=\"announcementBannerMessage\" class=\"font-semibold\"></div>\r\n+        <button id=\"closeAnnouncementBtn\" class=\"absolute top-1/2 right-4 -translate-y-1/2 text-white hover:bg-indigo-700 p-2 rounded-full\">\r\n+            <i class=\"fas fa-times\"></i>\r\n+        </button>\r\n+    </div>\r\n+\r\n+    <div id=\"generalLoader\" class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden\">\r\n+        <i class=\"fas fa-spinner fa-spin text-white text-4xl\"></i>\r\n+    </div>\r\n+\r\n+    <!-- NOVO MODAL DE ASSINATURA -->\r\n+    <div id=\"subscriptionModal\" class=\"fixed inset-0 bg-gray-900 flex justify-center items-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md text-center\">\r\n+            <div class=\"w-16 h-16 mx-auto bg-red-500/20 rounded-full flex items-center justify-center mb-4\">\r\n+                <i id=\"subscriptionIcon\" class=\"fas fa-exclamation-triangle text-red-400 text-3xl\"></i>\r\n+            </div>\r\n+            <h3 id=\"subscriptionTitle\" class=\"text-2xl font-bold text-white mb-2\">Assinatura Expirada</h3>\r\n+            <p id=\"subscriptionMessage\" class=\"text-gray-400 mb-6\">\r\n+                Sua assinatura do Organizador de Boletos expirou. Por favor, renove para continuar usando todas as\r\n+                funcionalidades.\r\n+            </p>\r\n+            <button id=\"subscriptionActionBtn\"\r\n+                class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n+                Renovar Assinatura\r\n+            </button>\r\n+            <button id=\"subscriptionLogoutBtn\" class=\"mt-4 text-sm text-gray-500 hover:text-gray-300\">\r\n+                Sair\r\n+            </button>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- ACESSO BLOQUEADO PARA FUNCIONÁRIOS -->\r\n+    <div id=\"accessBlockedModal\" class=\"fixed inset-0 bg-gray-900 flex justify-center items-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md text-center\">\r\n+            <div class=\"w-16 h-16 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center mb-4\">\r\n+                <i class=\"fas fa-lock text-yellow-400 text-3xl\"></i>\r\n+            </div>\r\n+            <h3 class=\"text-2xl font-bold text-white mb-2\">Acesso Temporariamente Indisponível</h3>\r\n+            <p class=\"text-gray-400 mb-6\">\r\n+                O acesso ao sistema está indisponível no momento. Por favor, entre em contato com o proprietário da sua\r\n+                empresa para mais informações sobre a assinatura.\r\n+            </p>\r\n+            <button id=\"blockedAccessLogoutBtn\"\r\n+                class=\"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300\">\r\n+                Sair\r\n+            </button>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"loadingScreen\" class=\"fixed inset-0 bg-gray-900 flex flex-col justify-center items-center z-50\">\r\n+        <i class=\"fas fa-spinner fa-spin text-indigo-400 text-5xl\"></i>\r\n+        <p class=\"mt-4 text-gray-300\">Carregando sua sessão...</p>\r\n+    </div>\r\n+\r\n+    <div id=\"toastMessage\"\r\n+        class=\"fixed top-4 right-4 text-white px-4 py-2 rounded-md shadow-lg flex items-center fade-in hidden z-50\">\r\n+    </div>\r\n+\r\n+    <div id=\"adminDashboardScreen\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n+        <h1 class=\"text-3xl font-bold text-red-400 mb-6 text-center\">Painel de Administrador</h1>\r\n+        <button id=\"adminLogoutBtn\"\r\n+            class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600 absolute top-4 right-4\">Sair</button>\r\n+\r\n+        <div class=\"flex justify-between items-center mb-4 border-b border-gray-700\">\r\n+            <div class=\"flex space-x-2\">\r\n+                <button id=\"viewCompaniesTab\" class=\"admin-tab-btn px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg\">\r\n+                    <i class=\"fas fa-building mr-2\"></i>Empresas\r\n+                </button>\r\n+                <button id=\"viewAnnouncementsTab\" class=\"admin-tab-btn px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                    <i class=\"fas fa-bullhorn mr-2\"></i>Anúncios\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+\r\n+        <div>\r\n+            <div id=\"companiesView\">\r\n+                <div class=\"mb-6 flex justify-center space-x-4\">\r\n+                    <button id=\"createCompanyBtn\"\r\n+                        class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                        <i class=\"fas fa-plus-circle mr-2\"></i> Criar Nova Empresa\r\n+                    </button>\r\n+                </div>\r\n+                <div id=\"companyList\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n+                    </div>\r\n+                <div id=\"noCompaniesMessage\" class=\"col-span-full text-center text-gray-400 py-8 hidden\">\r\n+                    Nenhuma empresa cadastrada ainda.\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div id=\"announcementsView\" class=\"hidden\">\r\n+\r\n+                <div class=\"flex justify-between items-center mb-6 border-b border-gray-700 pb-4\">\r\n+                    <h2 class=\"text-2xl font-semibold text-white\">Gestão de Anúncios</h2>\r\n+                    <button id=\"openAnnouncementModalBtn\" class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition flex items-center\">\r\n+                        <i class=\"fas fa-plus mr-2\"></i>Criar Novo Anúncio\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div id=\"announcementsListContainer\">\r\n+                    <div id=\"announcementsListLoader\" class=\"text-center py-8\">\r\n+                        <i class=\"fas fa-spinner fa-spin text-2xl text-gray-400\"></i>\r\n+                        <p class=\"text-gray-400 mt-2\">A carregar anúncios...</p>\r\n+                    </div>\r\n+                    <div id=\"announcementsList\" class=\"hidden space-y-3\">\r\n+                        </div>\r\n+                    <div id=\"noAnnouncementsMessage\" class=\"hidden text-center py-8 bg-gray-800 rounded-lg\">\r\n+                        <p class=\"text-gray-500\">Nenhum anúncio encontrado. Clique em \"Criar Novo Anúncio\" para começar.</p>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+            </div>\r\n+    </div>\r\n+\r\n+    <div id=\"mainAppContent\" class=\"container mx-auto px-8 py-8 max-w-[80vw] hidden\">\r\n+        <header class=\"mb-10 text-center relative\">\r\n+            <h1 class=\"text-4xl font-bold text-indigo-400 mb-2\">\r\n+                <i class=\"fas fa-file-invoice-dollar mr-2\"></i> Organizador de Boletos\r\n+            </h1>\r\n+            <p class=\"text-gray-400\">Gerencie e organize seus boletos de forma simples e eficiente</p>\r\n+\r\n+            <div class=\"absolute top-0 right-0 flex items-center space-x-4\">\r\n+\r\n+                <span id=\"loggedInUserDisplay\" class=\"text-sm text-gray-400 font-medium\"></span>\r\n+\r\n+                <button id=\"backToAdminBtn\"\r\n+                    class=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 hidden\">Voltar ao\r\n+                    Admin</button>\r\n+                <div id=\"settingsMenuContainer\" class=\"relative hidden\">\r\n+                    <button id=\"openProfileModalBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-user text-lg\"></i>\r\n+                    </button>\r\n+                    <button id=\"settingsBtn\" class=\"text-white px-3 py-1 rounded-md hover:bg-gray-700\">\r\n+                        <i class=\"fas fa-cog text-lg\"></i>\r\n+                    </button>\r\n+                    <div id=\"settingsDropdown\"\r\n+                        class=\"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden z-20\"\r\n+                        role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"menu-button\" tabindex=\"-1\">\r\n+                        <div class=\"py-1\" role=\"none\">\r\n+                            <a href=\"#\" id=\"menuEmpresa\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Detalhes da Empresa</a>\r\n+                            <a href=\"#\" id=\"menuUsuarios\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Usuários</a>\r\n+                            <a href=\"#\" id=\"menuPermissoes\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Permissões</a>\r\n+\r\n+                            <a href=\"#\" id=\"menuNotificacoes\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Notificações</a>\r\n+                            <a href=\"#\" id=\"menuCategorias\"\r\n+                                class=\"block px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600\" role=\"menuitem\"\r\n+                                tabindex=\"-1\">Gerenciar Categorias</a>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+                <button id=\"logoutBtn\" class=\"bg-red-500 text-white px-3 py-1 rounded-md hover:bg-red-600\">Sair</button>\r\n+            </div>\r\n+        </header>\r\n+\r\n+        <div>\r\n+            <div id=\"billsOrganizer\" class=\"w-full mb-8\">\r\n+\r\n+                <div class=\"flex justify-between items-center mb-4 border-b border-gray-700\">\r\n+                    <div class=\"flex space-x-2\">\r\n+                        <button id=\"viewCalendarBtn\"\r\n+                            class=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg\">\r\n+                            <i class=\"fas fa-calendar-alt mr-2\"></i>Calendário\r\n+                        </button>\r\n+                        <button id=\"viewDashboardBtn\"\r\n+                            class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                            <i class=\"fas fa-chart-line mr-2\"></i>Dashboard\r\n+                        </button>\r\n+                    </div>\r\n+                    <div class=\"text-sm text-gray-400\">\r\n+                        <span id=\"totalBills\">0</span> parcelas registradas\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"calendarView\">\r\n+\r\n+                    <div id=\"filter-container\" class=\"bg-gray-800/50 p-4 rounded-lg mb-6 border border-gray-700\">\r\n+                        <div class=\"flex flex-col md:flex-row md:items-end gap-6\">\r\n+\r\n+                            <div class=\"flex-grow\">\r\n+                                <label for=\"searchInput\" class=\"block text-sm font-medium text-gray-400 mb-1\">Pesquisar\r\n+                                    por nome ou Cód. NF</label>\r\n+                                <div class=\"relative\">\r\n+                                    <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n+                                        <i class=\"fas fa-search text-gray-500\"></i>\r\n+                                    </div>\r\n+                                    <input type=\"text\" id=\"searchInput\" placeholder=\"Digite para pesquisar...\"\r\n+                                        class=\"w-full pl-10 pr-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                                </div>\r\n+                            </div>\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label for=\"categoryFilterSelect\"\r\n+                                    class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar por categoria</label>\r\n+                                <select id=\"categoryFilterSelect\"\r\n+                                    class=\"w-full md:w-48 px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+                            </div>\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar por status</label>\r\n+                                <div\r\n+                                    class=\"flex items-center space-x-1 bg-gray-900/50 p-1 rounded-md border border-gray-700\">\r\n+                                    <button\r\n+                                        class=\"filter-btn active flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"all\">Todos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"paid\">Pagos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"unpaid\">Não Pagos</button>\r\n+                                    <button class=\"filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"overdue\">Vencidos</button>\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div id=\"massActionsContainer\"\r\n+                                class=\"flex-shrink-0 self-end flex items-center space-x-2 hidden\">\r\n+                                <button id=\"changeCategoryBtn\"\r\n+                                    class=\"bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700 transition duration-200 flex items-center text-sm\">\r\n+                                    <i class=\"fas fa-tag mr-2\"></i> Alterar Categoria\r\n+                                </button>\r\n+                                <button id=\"selectAllVisibleBtn\"\r\n+                                    class=\"bg-blue-600 text-white py-2 px-3 rounded-md hover:bg-blue-700 transition duration-200 text-sm\"\r\n+                                    title=\"Marcar Todos Visíveis no Mês\">\r\n+                                    <i class=\"fas fa-check-square\"></i>\r\n+                                </button>\r\n+                                <button id=\"deselectAllVisibleBtn\"\r\n+                                    class=\"bg-gray-600 text-white py-2 px-3 rounded-md hover:bg-gray-700 transition duration-200 text-sm\"\r\n+                                    title=\"Desmarcar Todos\">\r\n+                                    <i class=\"far fa-square\"></i>\r\n+                                </button>\r\n+                                <button id=\"markSelectedAsPaidBtn\"\r\n+                                    class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                                    <i class=\"fas fa-check-double mr-2\"></i>\r\n+                                    Pagar Selecionados (<span id=\"selectedCount\">0</span>)\r\n+                                </button>\r\n+                            </div>\r\n+\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div id=\"monthlySummary\"\r\n+                        class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 bg-gray-800 p-4 rounded-lg shadow-md\">\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">CONTAS VENCIDAS</h4>\r\n+                            <p id=\"summaryOverdue\" class=\"text-2xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">TOTAL NO MÊS</h4>\r\n+                            <p id=\"summaryTotal\" class=\"text-2xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">TOTAL PAGO</h4>\r\n+                            <p id=\"summaryPaid\" class=\"text-2xl font-bold text-green-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                        <div class=\"bg-gray-700 p-4 rounded-lg text-center\">\r\n+                            <h4 class=\"text-sm font-medium text-gray-400\">NÃO PAGO</h4>\r\n+                            <p id=\"summaryUnpaid\" class=\"text-2xl font-bold text-red-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div class=\"bg-gray-800 rounded-lg shadow-md p-4 mb-4\">\r\n+                        <div class=\"flex justify-between items-center mb-4\">\r\n+                            <button id=\"prevMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\"><i\r\n+                                    class=\"fas fa-chevron-left\"></i></button>\r\n+                            <h3 id=\"currentMonthYear\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                            <button id=\"nextMonth\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\"><i\r\n+                                    class=\"fas fa-chevron-right\"></i></button>\r\n+                        </div>\r\n+                        <div class=\"grid grid-cols-7 gap-1 mb-2\">\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Dom</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Seg</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Ter</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qua</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Qui</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sex</div>\r\n+                            <div class=\"text-center font-medium text-sm text-gray-400\">Sáb</div>\r\n+                        </div>\r\n+                        <div id=\"calendarDays\" class=\"grid grid-cols-7 gap-1\"></div>\r\n+                    </div>\r\n+\r\n+                </div>\r\n+\r\n+                <div id=\"dashboardView\" class=\"hidden\">\r\n+\r\n+                    <div id=\"dashboard-date-filter-container\"\r\n+                        class=\"bg-gray-800/50 p-4 rounded-lg mb-6 border border-gray-700\">\r\n+                        <div class=\"flex flex-col md:flex-row md:items-end gap-6\">\r\n+\r\n+                            <div class=\"flex-shrink-0\">\r\n+                                <label class=\"block text-sm font-medium text-gray-400 mb-1\">Filtrar Gráficos por\r\n+                                    Status</label>\r\n+                                <div\r\n+                                    class=\"flex items-center space-x-1 bg-gray-900/50 p-1 rounded-md border border-gray-700\">\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn active flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"all\">Todos</button>\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"paid\">Pagos</button>\r\n+                                    <button\r\n+                                        class=\"dashboard-filter-btn flex-1 py-1 px-3 text-sm rounded-md transition-colors\"\r\n+                                        data-filter=\"unpaid\">Não Pagos</button>\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-grow\">\r\n+                                <label for=\"date-range-preset-select\"\r\n+                                    class=\"block text-sm font-medium text-gray-400 mb-1\">Ver Período</label>\r\n+                                <select id=\"date-range-preset-select\"\r\n+                                    class=\"w-full md:w-64 px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                                    <option value=\"thisMonth\" selected>Este Mês</option>\r\n+                                    <option value=\"lastMonth\">Mês Anterior</option>\r\n+                                    <option value=\"thisQuarter\">Este Trimestre</option>\r\n+                                    <option value=\"thisYear\">Este Ano</option>\r\n+                                    <option value=\"custom\">Personalizado...</option>\r\n+                                </select>\r\n+                            </div>\r\n+                            <div id=\"custom-date-range-inputs\" class=\"hidden flex-grow md:flex md:items-end md:gap-4\">\r\n+                                <div>\r\n+                                    <label for=\"start-date-input\"\r\n+                                        class=\"block text-sm font-medium text-gray-400 mb-1\">De</label>\r\n+                                    <input type=\"date\" id=\"start-date-input\"\r\n+                                        class=\"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                </div>\r\n+                                <div>\r\n+                                    <label for=\"end-date-input\"\r\n+                                        class=\"block text-sm font-medium text-gray-400 mb-1\">Até</label>\r\n+                                    <input type=\"date\" id=\"end-date-input\"\r\n+                                        class=\"w-full px-3 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-shrink-0 flex items-end space-x-2\">\r\n+                                <button id=\"export-csv-btn\"\r\n+                                    class=\"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 flex items-center\">\r\n+                                    <i class=\"fas fa-file-csv mr-2\"></i>Exportar CSV\r\n+                                </button>\r\n+                                <button id=\"export-pdf-btn\"\r\n+                                    class=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 flex items-center\">\r\n+                                    <i class=\"fas fa-file-pdf mr-2\"></i>Exportar PDF\r\n+                                </button>\r\n+                            </div>\r\n+\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div id=\"dashboard-kpi-grid\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n+                        <div data-id=\"kpi-overdue\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Contas Vencidas</h3>\r\n+                            <p id=\"kpiContasVencidas\" class=\"mt-2 text-3xl font-bold text-orange-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-total\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Total a Pagar\r\n+                                (Período)</h3>\r\n+                            <p id=\"kpiTotalMes\" class=\"mt-2 text-3xl font-bold text-blue-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-paid\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Total Pago (Período)\r\n+                            </h3>\r\n+                            <p id=\"kpiPagoMes\" class=\"mt-2 text-3xl font-bold text-green-400\">R$ 0,00</p>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"kpi-pending\" class=\"bg-gray-800 p-6 rounded-lg shadow-lg\">\r\n+                            <h3 class=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Pendente (Período)\r\n+                            </h3>\r\n+                            <p id=\"kpiPendenteMes\" class=\"mt-2 text-3xl font-bold text-yellow-400\">R$ 0,00</p>\r\n+                        </div>\r\n+                    </div>\r\n+\r\n+                    <div id=\"dashboard-main-grid\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n+\r\n+                        <div data-id=\"main-upcoming\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Próximos Vencimentos</h2>\r\n+                            <div id=\"upcoming-payments-list\" class=\"space-y-3\">\r\n+                                <p id=\"no-upcoming-payments-message\" class=\"text-gray-400\">Nenhuma conta a vencer nos\r\n+                                    próximos dias.</p>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-pie-chart\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Despesas por Categoria</h2>\r\n+\r\n+                            <div id=\"chartContainerPie\" style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"expensesByCategoryChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-top-expenses\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Maiores Despesas por Categoria</h2>\r\n+                            <div style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"topExpensesChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                        <div data-id=\"main-bar-chart\" class=\"bg-gray-800 rounded-lg p-6\">\r\n+                            <h2 class=\"text-xl font-semibold text-white mb-4\">Resumo dos Últimos 6 Meses</h2>\r\n+\r\n+                            <div id=\"chartContainerBar\" style=\"position: relative; height: 300px; margin: auto;\">\r\n+                                <canvas id=\"monthlyExpensesChart\"></canvas>\r\n+                            </div>\r\n+                        </div>\r\n+\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"dailyBillsViewer\" class=\"w-full bg-gray-800 rounded-lg shadow-md p-4 lg:hidden block\">\r\n+                    <div class=\"flex justify-between items-center mb-4\">\r\n+                        <button id=\"prevDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-left\"></i>\r\n+                        </button>\r\n+                        <h3 id=\"currentDailyDate\" class=\"font-semibold text-lg text-gray-100\"></h3>\r\n+                        <button id=\"nextDay\" class=\"p-2 rounded-full hover:bg-gray-700 text-gray-300\">\r\n+                            <i class=\"fas fa-chevron-right\"></i>\r\n+                        </button>\r\n+                    </div>\r\n+                    <div id=\"dailyBillsList\" class=\"space-y-3\">\r\n+                        <div id=\"noDailyBills\" class=\"text-center text-gray-400 py-4 hidden\">Nenhum boleto para este\r\n+                            dia.</div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"emptyState\" class=\"bg-gray-800 rounded-lg shadow-md p-8 text-center hidden mx-auto max-w-xl\">\r\n+                    <i class=\"fas fa-file-invoice text-4xl text-gray-600 mb-4\"></i>\r\n+                    <h3 class=\"text-lg font-medium text-gray-300 mb-2\">Nenhuma parcela adicionada</h3>\r\n+                    <p class=\"text-gray-400\">Adicione seu primeiro boleto usando o formulário abaixo</p>\r\n+                </div>\r\n+\r\n+                <div id=\"categoriesModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+                    <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+                        <div class=\"flex justify-between items-center mb-6\">\r\n+                            <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                                <i class=\"fas fa-tags mr-3 text-indigo-400\"></i>\r\n+                                Gerenciar Categorias\r\n+                            </h3>\r\n+                            <button id=\"closeCategoriesModal\" class=\"text-gray-400 hover:text-white\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+                        </div>\r\n+\r\n+                        <form id=\"addCategoryForm\" class=\"flex items-center space-x-2 mb-4\">\r\n+                            <input type=\"text\" id=\"newCategoryName\" placeholder=\"Nome da nova categoria\" required\r\n+                                class=\"flex-grow px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                            <button type=\"submit\"\r\n+                                class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Adicionar</button>\r\n+                        </form>\r\n+\r\n+                        <div id=\"categoryList\"\r\n+                            class=\"space-y-2 max-h-60 overflow-y-auto pr-2 border-t border-gray-700 pt-4\">\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"addBillModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n+                    <div class=\"max-w-xl mx-auto w-full p-4\">\r\n+                        <div class=\"bg-gray-800 rounded-lg shadow-md p-6 relative\">\r\n+\r\n+                            <button id=\"closeAddBillModalBtn\"\r\n+                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+\r\n+                            <h2 class=\"text-xl font-semibold text-gray-200 mb-4\">\r\n+                                <i class=\"fas fa-plus-circle mr-2 text-indigo-400\"></i> Adicionar Novo Boleto\r\n+                            </h2>\r\n+\r\n+                            <form id=\"billForm\">\r\n+                                <div class=\"flex border-b border-gray-700 mb-6\">\r\n+                                    <button type=\"button\" id=\"manual-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-t-lg -mb-px border border-gray-700 border-b-0\">\r\n+                                        <i class=\"fas fa-pencil-alt mr-2\"></i>Adicionar Manual\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"xml-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-file-invoice mr-2\"></i>Importar XML\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"recurrent-add-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-sync-alt mr-2\"></i>Pagamento Recorrente\r\n+                                    </button>\r\n+                                    <button type=\"button\" id=\"csv-import-btn\"\r\n+                                        class=\"px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 rounded-t-lg\">\r\n+                                        <i class=\"fas fa-file-csv mr-2\"></i>Importar Planilha\r\n+                                    </button>\r\n+                                </div>\r\n+\r\n+                                <div id=\"manual-add-form\" class=\"space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"billName\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-signature mr-1 text-gray-400\"></i> Nome\r\n+                                        </label>\r\n+                                        <input type=\"text\" id=\"billName\"\r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"dueDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"far fa-calendar-alt mr-1 text-gray-400\"></i> Data de Vencimento\r\n+                                        </label>\r\n+                                        <input type=\"date\" id=\"dueDate\" \r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"totalAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-money-bill-wave mr-1 text-gray-400\"></i> Valor Total (R$)\r\n+                                        </label>\r\n+                                        <input type=\"number\" id=\"totalAmount\" step=\"0.01\" min=\"0\" \r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"installments\"\r\n+                                            class=\"block text-gray-300 text-sm font-medium mb-1\"><i\r\n+                                                class=\"fas fa-stream mr-2\"></i>Parcelas</label>\r\n+                                        <input type=\"number\" id=\"installments\"\r\n+                                            placeholder=\"Digite a quantidade de parcelas\" min=\"1\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"spacingDays\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-calendar-day mr-1 text-gray-400\"></i> Espaçamento entre\r\n+                                            boletos (dias)\r\n+                                        </label>\r\n+                                        <input type=\"number\" id=\"spacingDays\" placeholder=\"Ex: 30\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"description\" class=\"block text-sm font-medium text-gray-300 mb-1\">\r\n+                                            <i class=\"fas fa-align-left mr-1 text-gray-400\"></i> Descrição\r\n+                                        </label>\r\n+                                        <textarea id=\"description\" rows=\"3\"\r\n+                                            class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300 focus:border-indigo-400\"></textarea>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n+                                <div id=\"xml-add-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"nfeXmlInput\"\r\n+                                            class=\"block text-sm font-medium text-gray-300 mb-1\">Selecione o ficheiro\r\n+                                            XML da NFe</label>\r\n+                                        <input type=\"file\" id=\"nfeXmlInput\" accept=\".xml, text/xml\"\r\n+                                            class=\"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-500 file:text-white hover:file:bg-indigo-600 cursor-pointer\" />\r\n+                                        <p class=\"text-xs text-gray-400 mt-2\">O sistema irá ler o XML e preencherá a\r\n+                                            pré-visualização das parcelas automaticamente.</p>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n+                                <div id=\"csv-import-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"csv-file-input\"\r\n+                                            class=\"block text-sm font-medium text-gray-300 mb-1\">Selecione o ficheiro\r\n+                                            CSV</label>\r\n+                                        <input type=\"file\" id=\"csv-file-input\" accept=\".csv\"\r\n+                                            class=\"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-500 file:text-white hover:file:bg-indigo-600 cursor-pointer\" />\r\n+                                        <p class=\"text-xs text-gray-400 mt-2\">Colunas obrigatórias: Data, Nome, Parcela,\r\n+                                            Valor. Opcionais: Categoria, Pago (use \"sim\"), CodNFE, Tipo.</p>\r\n+                                    </div>\r\n+\r\n+                                    <div id=\"csv-preview-area\" class=\"hidden mt-4\">\r\n+                                        <h3 class=\"text-md font-semibold text-gray-200 mb-2\">Pré-visualização dos\r\n+                                            Boletos a Importar:</h3>\r\n+                                        <div class=\"max-h-60 overflow-y-auto border border-gray-700 rounded-lg p-2\">\r\n+                                            <table class=\"w-full text-sm text-left\">\r\n+                                                <thead class=\"text-xs text-gray-400 uppercase bg-gray-700\">\r\n+                                                    <tr>\r\n+                                                        <th class=\"px-4 py-2\">Data</th>\r\n+                                                        <th class=\"px-4 py-2\">Nome</th>\r\n+                                                        <th class=\"px-4 py-2\">Parcela</th>\r\n+                                                        <th class=\"px-4 py-2 text-right\">Valor</th>\r\n+                                                    </tr>\r\n+                                                </thead>\r\n+                                                <tbody id=\"csv-preview-table-body\">\r\n+                                                </tbody>\r\n+                                            </table>\r\n+                                        </div>\r\n+                                        <div id=\"csv-import-summary\" class=\"text-sm text-gray-300 mt-2\"></div>\r\n+                                        <div class=\"mt-4 flex justify-end\">\r\n+                                            <button id=\"import-csv-btn\"\r\n+                                                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition\">\r\n+                                                <i class=\"fas fa-check mr-2\"></i>Confirmar e Importar\r\n+                                            </button>\r\n+                                        </div>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n+                                <div id=\"recurrent-add-form\" class=\"hidden space-y-4\">\r\n+                                    <div>\r\n+                                        <label for=\"recurrentBillName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Despesa</label>\r\n+                                        <input type=\"text\" id=\"recurrentBillName\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\" placeholder=\"Ex: Aluguer do Escritório\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentAmount\" class=\"block text-sm font-medium text-gray-300 mb-1\">Valor Mensal (R$)</label>\r\n+                                        <input type=\"number\" id=\"recurrentAmount\" step=\"0.01\" min=\"0\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentStartDate\" class=\"block text-sm font-medium text-gray-300 mb-1\">Data do Primeiro Vencimento</label>\r\n+                                        <input type=\"date\" id=\"recurrentStartDate\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentInstallments\" class=\"block text-sm font-medium text-gray-300 mb-1\">Quantidade de Meses</label>\r\n+                                        <input type=\"number\" id=\"recurrentInstallments\" min=\"1\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\" placeholder=\"Ex: 12 (para um ano)\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"recurrentDescription\" class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n+                                        <textarea id=\"recurrentDescription\" rows=\"3\" class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white\"></textarea>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n+                                <div class=\"mt-6 pt-6 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                                    <button type=\"button\" id=\"clearFormBtn\"\r\n+                                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition\">Limpar\r\n+                                        Formulário</button>\r\n+                                    <button type=\"submit\"\r\n+                                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Calcular\r\n+                                        Parcelas</button>\r\n+                                </div>\r\n+                            </form>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div id=\"installmentsPreviewModal\"\r\n+                    class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-40 hidden\">\r\n+                    <div class=\"max-w-6xl mx-auto w-full p-4\">\r\n+                        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 relative\">\r\n+                            <button id=\"closePreviewModalBtn\"\r\n+                                class=\"absolute top-4 right-4 text-gray-400 hover:text-white z-10\">\r\n+                                <i class=\"fas fa-times text-xl\"></i>\r\n+                            </button>\r\n+\r\n+                            <div class=\"flex justify-between items-start mb-6 pr-10\">\r\n+                                <div class=\"flex-grow mr-6 space-y-2\">\r\n+                                    <div>\r\n+                                        <label for=\"previewBillNameInput\"\r\n+                                            class=\"block text-xs font-medium text-gray-400 mb-1\">Nome do Boleto (para o\r\n+                                            calendário)</label>\r\n+                                        <input type=\"text\" id=\"previewBillNameInput\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-lg font-semibold focus:ring-2 focus:ring-indigo-500\">\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label for=\"previewBillCategorySelect\"\r\n+                                            class=\"block text-xs font-medium text-gray-400 mb-1\">Categoria</label>\r\n+                                        <select id=\"previewBillCategorySelect\"\r\n+                                            class=\"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-indigo-500\"></select>\r\n+                                    </div>\r\n+                                    <div>\r\n+                                        <label class=\"block text-xs font-medium text-gray-400 mb-1\">Número da\r\n+                                            NFe</label>\r\n+                                        <p id=\"previewNfeNumber\" class=\"text-white font-semibold text-lg\"></p>\r\n+                                    </div>\r\n+                                </div>\r\n+                                <div class=\"flex items-center space-x-4 flex-shrink-0 mt-6\">\r\n+                                    <span id=\"parcelPreviewTotal\" class=\"text-lg font-bold text-green-400\"></span>\r\n+                                    <button id=\"addToOrganizer\"\r\n+                                        class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 text-sm flex items-center\">\r\n+                                        <i class=\"fas fa-save mr-2\"></i> Adicionar ao Organizador\r\n+                                    </button>\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"grid grid-cols-12 gap-4 px-3 pb-2 border-b border-gray-700\">\r\n+                            </div>\r\n+                            <div id=\"installmentsList\" class=\"space-y-2 mt-2 max-h-[60vh] overflow-y-auto pr-2\">\r\n+                            </div>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+\r\n+    </div>\r\n+    </div>\r\n+\r\n+    <div id=\"billModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-xl\">\r\n+\r\n+            <div class=\"flex justify-between items-center mb-4 pr-8 relative\">\r\n+\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 truncate\" id=\"modalBillName\" title=\"\"></h3>\r\n+\r\n+                <button id=\"closeModal\" class=\"text-gray-400 hover:text-gray-200 absolute top-0 right-0\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div id=\"modalNfeNumberContainer\" class=\"mb-4 hidden\">\r\n+                <label class=\"block text-sm font-medium text-gray-400\">Número da NFe</label>\r\n+                <p id=\"modalNfeNumber\" class=\"mt-1 text-gray-200 font-mono\"></p>\r\n+            </div>\r\n+            <div class=\"mb-4\">\r\n+                <label for=\"modalBillCategorySelect\"\r\n+                    class=\"block text-sm font-medium text-gray-300 mb-1\">Categoria</label>\r\n+                <select id=\"modalBillCategorySelect\"\r\n+                    class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+            </div>\r\n+            <div class=\"space-y-4\">\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Valor</label>\r\n+                    <input type=\"number\" id=\"modalBillAmount\" step=\"0.01\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Data de Vencimento</label>\r\n+                    <input type=\"date\" id=\"modalBillDate\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-1\">Descrição</label>\r\n+                    <textarea id=\"modalBillDescription\" rows=\"3\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"modalBillBarcode\" class=\"block text-sm font-medium text-gray-300 mb-1\">Código de\r\n+                        Barras</label>\r\n+                    <input type=\"text\" id=\"modalBillBarcode\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n+                        placeholder=\"Código de Barras\">\r\n+                </div>\r\n+                <div class=\"mt-2\">\r\n+                    <button id=\"showFullScreenBarcodeBtn\"\r\n+                        class=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-200 hidden\">\r\n+                        <i class=\"fas fa-barcode mr-2\"></i> Mostrar Código de Barras\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"flex items-center mt-4\">\r\n+                    <input type=\"checkbox\" id=\"modalBillPaid\"\r\n+                        class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded\">\r\n+                    <label for=\"modalBillPaid\" class=\"ml-2 block text-sm text-gray-300\">Marcar como pago</label>\r\n+                </div>\r\n+\r\n+                <div class=\"border-t border-gray-700 pt-4 mt-2\">\r\n+                    <label class=\"block text-sm font-medium text-gray-300 mb-2\">Comprovativo de Pagamento</label>\r\n+                    <div id=\"attachment-container\" class=\"space-y-2\">\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div class=\"flex justify-between pt-4\">\r\n+                    <button id=\"saveBill\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\r\n+                        Salvar\r\n+                    </button>\r\n+                    <button id=\"deleteBill\" class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\">\r\n+                        Excluir Parcela\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"border-t border-gray-700 pt-4 mt-4\">\r\n+                    <button id=\"deleteEntireBillBtn\"\r\n+                        class=\"w-full bg-red-800 text-white px-4 py-2 rounded-md hover:bg-red-900 transition-colors duration-200\">\r\n+                        Excluir Boleto Completo\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"companyDetailsModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-4\">\r\n+                <div>\r\n+                    <label for=\"modalCompanyNameInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da\r\n+                        Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyNameInput\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <button id=\"closeCompanyModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div class=\"space-y-4\">\r\n+                <p class=\"text-gray-300\">\r\n+                    <span class=\"font-medium\">CNPJ:</span> <span id=\"modalCompanyCnpj\"></span>\r\n+                </p>\r\n+                <div>\r\n+                    <label for=\"modalCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha da\r\n+                        Empresa</label>\r\n+                    <input type=\"text\" id=\"modalCompanyPasswordInput\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                </div>\r\n+                <h4 class=\"text-lg font-semibold text-gray-200 mt-4 mb-2\">Usuários:</h4>\r\n+                <div id=\"modalCompanyUsers\" class=\"space-y-2\">\r\n+                </div>\r\n+                <div class=\"mt-4 flex justify-end space-x-2\">\r\n+                    <button id=\"saveCompanyDetailsBtn\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                        <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n+                    </button>\r\n+                    <button id=\"addUserBtn\"\r\n+                        class=\"bg-blue-600 text-white py-1 px-3 rounded-md hover:bg-blue-700 flex items-center\">\r\n+                        <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Usuário\r\n+                    </button>\r\n+                </div>\r\n+                <div class=\"pt-4 border-t border-gray-700 mt-4\">\r\n+                    <button id=\"deleteCompanyBtn\"\r\n+                        class=\"w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center justify-center\">\r\n+                        <i class=\"fas fa-trash-alt mr-2\"></i> Excluir Esta Empresa\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <fieldset id=\"adminSubscriptionManagement\" class=\"mt-4 pt-4 border-t border-gray-700\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-200\">Gerenciar Assinatura</legend>\r\n+                    <div class=\"p-2 space-y-3\">\r\n+                        <div>\r\n+                            <span class=\"text-sm font-medium text-gray-400\">Status Atual:</span>\r\n+                            <span id=\"subscriptionStatus\" class=\"ml-2 font-bold text-white\"></span>\r\n+                        </div>\r\n+                        <div>\r\n+                            <span class=\"text-sm font-medium text-gray-400\">Expira em:</span>\r\n+                            <span id=\"subscriptionEndDate\" class=\"ml-2 font-bold text-white\"></span>\r\n+                        </div>\r\n+                        <div class=\"flex items-center space-x-3 mt-2\">\r\n+                            <input type=\"number\" id=\"daysToAddInput\"\r\n+                                class=\"w-24 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"\r\n+                                placeholder=\"Dias\" min=\"1\">\r\n+                            <button id=\"addSubscriptionBtn\"\r\n+                                class=\"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-200 flex items-center\">\r\n+                                <i class=\"fas fa-plus mr-2\"></i> Adicionar Tempo\r\n+                            </button>\r\n+                            <button id=\"removeSubscriptionBtn\"\r\n+                                class=\"bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition duration-200 flex items-center\">\r\n+                                <i class=\"fas fa-ban mr-2\"></i> Remover Assinatura\r\n+                            </button>\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n+\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"barcodeFullScreenModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 hidden\">\r\n+\r\n+        <div class=\"bg-white p-6 rounded-lg shadow-xl inline-block\">\r\n+            <svg id=\"fullScreenBarcodeImage\"></svg>\r\n+        </div>\r\n+\r\n+        <button id=\"closeFullScreenBarcodeBtn\"\r\n+            class=\"mt-6 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 text-lg\">\r\n+            Fechar\r\n+        </button>\r\n+    </div>\r\n+\r\n+    <div id=\"quickUserAddModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Cadastrar Novo Usuário</h3>\r\n+                <button id=\"closeQuickUserAddModal\" class=\"text-gray-400 hover:text-gray-200\">\r\n+                    <i class=\"fas fa-times\"></i>\r\n+                </button>\r\n+            </div>\r\n+            <form id=\"quickUserAddForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"quickAddUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome de\r\n+                        Usuário</label>\r\n+                    <input type=\"text\" id=\"quickAddUsername\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"quickAddPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n+                    <input type=\"password\" id=\"quickAddPassword\" required\r\n+                        class=\"w-full px-4 py-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div class=\"pt-4 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelQuickUserAdd\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar\r\n+                        Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"companyInfoModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-start mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Detalhes da Empresa\r\n+                </h3>\r\n+\r\n+                <div class=\"flex items-start space-x-4\">\r\n+                    <div id=\"headerSubscriptionInfo\" class=\"text-right hidden\">\r\n+                        <label class=\"block text-xs font-medium text-gray-400 tracking-wider\">ASSINATURA ATIVA\r\n+                            ATÉ</label>\r\n+                        <p id=\"headerSubscriptionEndDate\" class=\"text-base font-semibold text-green-400\"></p>\r\n+                    </div>\r\n+\r\n+                    <button id=\"closeCompanyInfoModal\" class=\"text-gray-400 hover:text-white\">\r\n+                        <i class=\"fas fa-times text-xl\"></i>\r\n+                    </button>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <form id=\"companyInfoForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label class=\"block text-sm font-medium text-gray-400\">CNPJ</label>\r\n+                    <p id=\"companyInfoCnpj\" class=\"mt-1 text-gray-200\"></p>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                    <label for=\"companyInfoName\" class=\"block text-sm font-medium text-gray-300\">Nome da Empresa</label>\r\n+                    <input type=\"text\" id=\"companyInfoName\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+\r\n+                <div>\r\n+                    <label for=\"companyInfoEmail\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n+                    <input type=\"email\" id=\"companyInfoEmail\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+\r\n+                <div id=\"verificationNotice\"\r\n+                    class=\"hidden mt-4 p-4 bg-yellow-900/50 border border-yellow-700 rounded-lg text-center\">\r\n+                    <p class=\"text-yellow-300 text-sm mb-3\">\r\n+                        <i class=\"fas fa-exclamation-triangle mr-2\"></i>O e-mail desta empresa ainda não foi verificado.\r\n+                    </p>\r\n+                    <button type=\"button\" id=\"resendVerificationBtn\"\r\n+                        class=\"bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition duration-300\">\r\n+                        Reenviar E-mail de Verificação\r\n+                    </button>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                    <label for=\"companyInfoTelefone\" class=\"block text-sm font-medium text-gray-300\">Telefone\r\n+                        Fixo</label>\r\n+                    <input type=\"text\" id=\"companyInfoTelefone\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+\r\n+                <div>\r\n+                    <label for=\"companyInfoWhatsapp\" class=\"block text-sm font-medium text-gray-300\">Telefone\r\n+                        WhatsApp</label>\r\n+                    <input type=\"text\" id=\"companyInfoWhatsapp\"\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+            </form>\r\n+\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"saveCompanyInfoBtn\"\r\n+                    class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-save mr-2\"></i> Salvar Alterações\r\n+                </button>\r\n+            </div>\r\n+\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"permissionsModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\"><i\r\n+                        class=\"fas fa-shield-alt mr-3 text-indigo-400\"></i>Gerenciar Permissões dos Papéis</h3>\r\n+                <button id=\"closePermissionsModal\" class=\"text-gray-400 hover:text-white\"><i\r\n+                        class=\"fas fa-times text-xl\"></i></button>\r\n+            </div>\r\n+\r\n+            <div id=\"permissionsContainer\" class=\"space-y-6\">\r\n+\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Gerente</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"gerente-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div\r\n+                                    class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\">\r\n+                                </div>\r\n+                            </label>\r\n+                        </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canUpdate\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"gerente-canDelete\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                <div class=\"bg-gray-900/50 rounded-lg p-5 border border-gray-700\">\r\n+                    <h4 class=\"text-lg font-bold text-indigo-400 mb-4\">Funcionário</h4>\r\n+                    <div class=\"space-y-4\">\r\n+                        <div class=\"flex items-center justify-between\">\r\n+                            <span class=\"text-sm font-medium text-gray-300\">Pode criar boletos</span>\r\n+                            <label class=\"inline-flex items-center cursor-pointer\">\r\n+                                <input type=\"checkbox\" id=\"funcionario-canCreate-boleto\" class=\"sr-only peer\">\r\n+                                <div\r\n+                                    class=\"relative w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-5 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all\">\r\n+                                </div>\r\n+                            </label>\r\n+                        </div>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Editar Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canUpdate\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                        <fieldset>\r\n+                            <legend class=\"text-sm font-medium text-gray-300 mb-2\">Permissão para Excluir Boletos:\r\n+                            </legend>\r\n+                            <div class=\"flex items-center space-x-6\">\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"none\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Nenhuma</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"own\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span class=\"ms-2 text-sm text-gray-400\">Apenas\r\n+                                        Próprios</span></label>\r\n+                                <label class=\"flex items-center cursor-pointer\"><input type=\"radio\"\r\n+                                        name=\"funcionario-canDelete\" value=\"all\" class=\"sr-only\"><span\r\n+                                        class=\"radio-custom\"></span><span\r\n+                                        class=\"ms-2 text-sm text-gray-400\">Todos</span></label>\r\n+                            </div>\r\n+                        </fieldset>\r\n+                    </div>\r\n+                </div>\r\n+            </div>\r\n+\r\n+            <div class=\"mt-8 pt-4 border-t border-gray-700 flex justify-end\">\r\n+                <button id=\"savePermissionsBtn\"\r\n+                    class=\"bg-indigo-600 text-white py-2 px-5 rounded-md hover:bg-indigo-700 transition duration-200 flex items-center\"><i\r\n+                        class=\"fas fa-save mr-2\"></i>Salvar Alterações</button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"addUserModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-user-plus mr-3 text-indigo-400\"></i>\r\n+                    Adicionar Novo Usuário\r\n+                </h3>\r\n+                <button id=\"closeAddUserModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <form id=\"addUserForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"addUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de\r\n+                        Usuário</label>\r\n+                    <input type=\"text\" id=\"addUsernameInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserEmailInput\" class=\"block text-sm font-medium text-gray-300\">E-mail</label>\r\n+                    <input type=\"email\" id=\"addUserEmailInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha</label>\r\n+                    <input type=\"password\" id=\"addUserPasswordInput\" required\r\n+                        class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"addUserRoleSelect\" class=\"block text-sm font-medium text-gray-300\">Cargo</label>\r\n+                    <select id=\"addUserRoleSelect\" required class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </select>\r\n+                </div>\r\n+\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddUserBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar\r\n+                        Usuário</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"addCompanyModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100 flex items-center\">\r\n+                    <i class=\"fas fa-building mr-3 text-indigo-400\"></i>\r\n+                    Criar Nova Empresa\r\n+                </h3>\r\n+                <button id=\"closeAddCompanyModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <form id=\"addCompanyForm\" class=\"space-y-4\">\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Dados da Empresa</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addCompanyNameInput\" class=\"block text-sm font-medium text-gray-300\">Nome da\r\n+                                Empresa</label>\r\n+                            <input type=\"text\" id=\"addCompanyNameInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyCnpjInput\"\r\n+                                class=\"block text-sm font-medium text-gray-300\">CNPJ</label>\r\n+                            <input type=\"text\" id=\"addCompanyCnpjInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addCompanyEmailInput\" class=\"block text-sm font-medium text-gray-300\">E-mail da Empresa</label>\r\n+                            <input type=\"email\" id=\"addCompanyEmailInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>                        \r\n+                        <div>\r\n+                            <label for=\"addCompanyPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha\r\n+                                da Empresa</label>\r\n+                            <input type=\"password\" id=\"addCompanyPasswordInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n+\r\n+                <fieldset class=\"border border-gray-700 p-4 rounded-md\">\r\n+                    <legend class=\"px-2 text-lg font-semibold text-gray-300\">Usuário Proprietário</legend>\r\n+                    <div class=\"space-y-4 pt-2\">\r\n+                        <div>\r\n+                            <label for=\"addOwnerUsernameInput\" class=\"block text-sm font-medium text-gray-300\">Nome de\r\n+                                Usuário do Proprietário</label>\r\n+                            <input type=\"text\" id=\"addOwnerUsernameInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                        <div>\r\n+                            <label for=\"addOwnerPasswordInput\" class=\"block text-sm font-medium text-gray-300\">Senha do\r\n+                                Proprietário</label>\r\n+                            <input type=\"password\" id=\"addOwnerPasswordInput\" required\r\n+                                class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\">\r\n+                        </div>\r\n+                    </div>\r\n+                </fieldset>\r\n+\r\n+                <div class=\"mt-6 pt-4 border-t border-gray-700 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAddCompanyBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition\">Cancelar</button>\r\n+                    <button type=\"submit\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Salvar\r\n+                        Empresa</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"manageUsersModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <div class=\"flex justify-between items-center mb-6\">\r\n+                <h3 class=\"text-xl font-semibold text-gray-100\">Gerenciar Utilizadores da Empresa</h3>\r\n+                <button id=\"closeManageUsersModal\" class=\"text-gray-400 hover:text-white\">\r\n+                    <i class=\"fas fa-times text-xl\"></i>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div id=\"companyUsersList\" class=\"space-y-2 mb-6 max-h-60 overflow-y-auto pr-2\">\r\n+            </div>\r\n+\r\n+            <div class=\"mt-4 flex justify-end\">\r\n+                <button id=\"addCompanyUserBtn\"\r\n+                    class=\"bg-blue-600 text-white py-2 px-5 rounded-md hover:bg-blue-700 transition duration-200 flex items-center\">\r\n+                    <i class=\"fas fa-user-plus mr-2\"></i> Adicionar Novo Utilizador\r\n+                </button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+    <button id=\"openAddBillModalBtn\"\r\n+        class=\"fixed bottom-8 right-8 bg-indigo-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl hover:bg-indigo-700 transition-transform transform hover:scale-110 z-30 hidden\">\r\n+        <i class=\"fas fa-plus\"></i>\r\n+    </button>\r\n+\r\n+    <div id=\"categoryBatchModal\"\r\n+        class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm\">\r\n+            <h3 class=\"text-xl font-semibold text-gray-100 mb-4\">Alterar Categoria dos Itens Selecionados</h3>\r\n+\r\n+            <div class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"batchCategorySelect\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nova\r\n+                        Categoria</label>\r\n+                    <select id=\"batchCategorySelect\"\r\n+                        class=\"w-full px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-indigo-300\"></select>\r\n+                </div>\r\n+\r\n+                <div class=\"flex justify-end space-x-3 pt-4\">\r\n+                    <button id=\"cancelCategoryBatchBtn\"\r\n+                        class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition\">Cancelar</button>\r\n+                    <button id=\"confirmCategoryBatchBtn\"\r\n+                        class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition\">Confirmar</button>\r\n+                </div>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"profileModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all\">\r\n+\r\n+            <button id=\"closeProfileModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n+                <i class=\"fas fa-times fa-lg\"></i>\r\n+            </button>\r\n+\r\n+            <h2 class=\"text-2xl font-bold mb-4 text-center text-indigo-400\">Meu Perfil</h2>\r\n+\r\n+            <div class=\"space-y-2 text-base border-b border-gray-700 pb-4 mb-4\">\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Utilizador:</strong> <span\r\n+                        id=\"profileUsername\"></span></p>\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Cargo:</strong> <span id=\"profileRole\"></span></p>\r\n+                <p><strong class=\"text-gray-400 w-24 inline-block\">Empresa:</strong> <span id=\"profileCompany\"></span>\r\n+                </p>\r\n+            </div>\r\n+\r\n+            <h3 class=\"text-lg font-semibold text-gray-200 mb-3\">Alterar Senha</h3>\r\n+            <form id=\"changePasswordForm\" class=\"space-y-4\">\r\n+                <div>\r\n+                    <label for=\"currentPassword\" class=\"block text-sm font-medium text-gray-300\">Senha Atual</label>\r\n+                    <input type=\"password\" id=\"currentPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"newPassword\" class=\"block text-sm font-medium text-gray-300\">Nova Senha</label>\r\n+                    <input type=\"password\" id=\"newPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <div>\r\n+                    <label for=\"confirmPassword\" class=\"block text-sm font-medium text-gray-300\">Confirmar Nova\r\n+                        Senha</label>\r\n+                    <input type=\"password\" id=\"confirmPassword\" required\r\n+                        class=\"mt-1 w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md\">\r\n+                </div>\r\n+                <button type=\"submit\"\r\n+                    class=\"w-full mt-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300\">\r\n+                    Salvar Nova Senha\r\n+                </button>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"recurrentEditModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-lg text-white relative\">\r\n+\r\n+            <h2 class=\"text-2xl font-bold mb-4 text-center text-indigo-400\">Editar Parcela Recorrente</h2>\r\n+            <p class=\"text-center text-gray-400 mb-6\">\r\n+                Esta parcela faz parte de uma série recorrente. Como deseja aplicar as alterações?\r\n+            </p>\r\n+\r\n+            <div class=\"space-y-4\">\r\n+                <button data-scope=\"single\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Somente Esta Parcela</strong>\r\n+                    <span class=\"text-sm text-gray-400\">Apenas a parcela de <span class=\"font-bold\" id=\"single-parcel-date\"></span> será modificada.</span>\r\n+                </button>\r\n+                <button data-scope=\"future\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Esta e as Próximas</strong>\r\n+                    <span class=\"text-sm text-gray-400\">O dia do vencimento, valor, descrição e cód. de barras serão aplicados nesta e em todas as parcelas futuras.</span>\r\n+                </button>\r\n+                <button data-scope=\"all\" class=\"recurrent-choice-btn w-full text-left p-4 bg-gray-700 hover:bg-indigo-600 rounded-lg transition\">\r\n+                    <strong class=\"block text-white\">Alterar Todas as Parcelas</strong>\r\n+                    <span class=\"text-sm text-gray-400\">O dia do vencimento, valor, descrição e cód. de barras serão aplicados a todas as parcelas desta série.</span>\r\n+                </button>\r\n+            </div>\r\n+\r\n+            <div class=\"text-center mt-6\">\r\n+                <button id=\"cancelRecurrentEditBtn\" class=\"text-gray-400 hover:text-white\">Cancelar</button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <div id=\"announcementModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n+        <div class=\"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg\">\r\n+            <h3 id=\"announcementModalTitle\" class=\"text-xl font-semibold text-gray-100 mb-4\">Novo Anúncio</h3>\r\n+            <form id=\"announcementForm\">\r\n+                <input type=\"hidden\" id=\"announcementId\">\r\n+                <div class=\"space-y-4\">\r\n+                    <div>\r\n+                        <label for=\"announcementMessage\" class=\"block text-sm font-medium text-gray-300\">Mensagem</label>\r\n+                        \r\n+                        <textarea id=\"announcementMessage\" required rows=\"3\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\"></textarea>\r\n+                    </div>\r\n+                    <div>\r\n+                        <label for=\"announcementLink\" class=\"block text-sm font-medium text-gray-300\">Link (Opcional)</label>\r\n+                        <input type=\"url\" id=\"announcementLink\" placeholder=\"https://exemplo.com\" class=\"w-full mt-1 px-3 py-2 border rounded-md border-gray-600 bg-gray-700 text-white\">\r\n+                    </div>\r\n+                    <div class=\"flex items-center\">\r\n+                        <input type=\"checkbox\" id=\"announcementIsActive\" class=\"h-4 w-4 text-indigo-600 border-gray-600 rounded\">\r\n+                        <label for=\"announcementIsActive\" class=\"ml-2 text-sm text-gray-300\">Marcar como anúncio ativo?</label>\r\n+                    </div>\r\n+                </div>\r\n+                <div class=\"mt-6 flex justify-end space-x-3\">\r\n+                    <button type=\"button\" id=\"cancelAnnouncementBtn\" class=\"bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700\">Cancelar</button>\r\n+                    <button type=\"submit\" class=\"bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700\">Salvar</button>\r\n+                </div>\r\n+            </form>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <script src=\"https://unpkg.com/imask\"></script>\r\n+    <script type=\"module\" src=\"scripts/main.js\"></script>\r\n+\r\n+</body>\r\n+\r\n+</html>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753826730476,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"pt-BR\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>LobosTI - Soluções em Tecnologia</title>\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n    <style>\r\n        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');\r\n        \r\n        body {\r\n            font-family: 'Poppins', sans-serif;\r\n            background-color: #0f172a;\r\n            color: #e2e8f0;\r\n        }\r\n        \r\n        .hero-gradient {\r\n            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\r\n        }\r\n        \r\n        .service-card:hover {\r\n            transform: translateY(-5px);\r\n            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);\r\n        }\r\n        \r\n        .wolf-logo {\r\n            filter: drop-shadow(0 0 5px rgba(99, 102, 241, 0.7));\r\n        }\r\n        \r\n        .login-form {\r\n            backdrop-filter: blur(10px);\r\n            background: rgba(15, 23, 42, 0.8);\r\n            border: 1px solid rgba(99, 102, 241, 0.3);\r\n        }\r\n        \r\n        .nav-link {\r\n            position: relative;\r\n        }\r\n        \r\n        .nav-link::after {\r\n            content: '';\r\n            position: absolute;\r\n            width: 0;\r\n            height: 2px;\r\n            bottom: -2px;\r\n            left: 0;\r\n            background-color: #6366f1;\r\n            transition: width 0.3s ease;\r\n        }\r\n        \r\n        .nav-link:hover::after {\r\n            width: 100%;\r\n        }\r\n        \r\n        .animated-wolf {\r\n            animation: float 6s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes float {\r\n            0% { transform: translateY(0px); }\r\n            50% { transform: translateY(-15px); }\r\n            100% { transform: translateY(0px); }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <!-- Navbar -->\r\n    <nav class=\"bg-gray-900 border-b border-gray-800 fixed w-full z-50\">\r\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div class=\"flex items-center justify-between h-20\">\r\n                <div class=\"flex items-center\">\r\n                <div class=\"flex-shrink-0\">\r\n                    <a href=\"#inicio\" aria-label=\"Página Inicial\">\r\n                        <img class=\"h-14 w-auto\" src=\"public/images/logo-lobosti.png\" alt=\"Logotipo LobosTI\">\r\n                    </a>\r\n                </div>\r\n                </div>\r\n                <div class=\"hidden md:block\">\r\n                    <div id=\"desktop-menu-items\" class=\"ml-10 flex items-baseline space-x-8\">\r\n                        <a href=\"#inicio\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Início</a>\r\n                        <a href=\"#servicos\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Serviços</a>\r\n                        <a href=\"OrgBoletos.html\" id=\"nav-login-link\" class=\"nav-link text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">Login</a>\r\n                        <a href=\"#contato\" class=\"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition duration-300\">Contato</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"-mr-2 flex md:hidden\">\r\n                    <button type=\"button\" id=\"mobile-menu-button\" class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none\">\r\n                        <span class=\"sr-only\">Abrir menu</span>\r\n                        <i class=\"fas fa-bars\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Mobile menu -->\r\n        <div class=\"hidden md:hidden\" id=\"mobile-menu\">\r\n            <div id=\"mobile-menu-items\" class=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n                <a href=\"#inicio\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Início</a>\r\n                <a href=\"#servicos\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Serviços</a>\r\n                <a href=\"OrgBoletos.html\" id=\"mobile-nav-login-link\" class=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">Login</a>\r\n                <a href=\"#contato\" class=\"bg-indigo-600 text-white block px-3 py-2 rounded-md text-base font-medium\">Contato</a>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    <!-- Hero Section -->\r\n    <section id=\"inicio\" class=\"hero-gradient pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"lg:grid lg:grid-cols-2 lg:gap-12 items-center\">\r\n                <div class=\"mb-12 lg:mb-0\">\r\n                    <h1 class=\"text-4xl md:text-5xl font-bold mb-6 text-white\">\r\n                        Soluções em TI com a <span class=\"text-indigo-500\">força</span> de uma alcateia\r\n                    </h1>\r\n                    <p class=\"text-lg text-gray-300 mb-8\">\r\n                        Nós da LobosTI oferecemos serviços especializados em tecnologia da informação para impulsionar seu negócio ao próximo nível.\r\n                    </p>\r\n                    <div class=\"flex flex-wrap gap-4\">\r\n                        <a href=\"#servicos\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n                            Nossos Serviços <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                        </a>\r\n                        <a href=\"#contato\" class=\"border border-indigo-500 text-indigo-400 hover:bg-indigo-900 hover:bg-opacity-30 font-medium py-3 px-6 rounded-lg transition duration-300\">\r\n                            Fale Conosco\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"relative\">\r\n                    <div class=\"animated-wolf\">\r\n                        <img src=\"https://cdn-icons-png.flaticon.com/512/2972/2972185.png\" alt=\"Lobo Tecnológico\" class=\"w-full max-w-md mx-auto\">\r\n                    </div>\r\n                    <div class=\"absolute -bottom-10 -left-10 w-32 h-32 bg-indigo-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                    <div class=\"absolute -top-10 -right-10 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Serviços Section -->\r\n    <section id=\"servicos\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"text-center mb-16\">\r\n                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Nossos <span class=\"text-indigo-500\">Serviços</span></h2>\r\n                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n                    Oferecemos soluções completas em TI para empresas de todos os tamanhos.\r\n                </p>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n                <!-- Serviço 1: Organizador de Boletos -->\r\n                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                    <div class=\"w-14 h-14 bg-yellow-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                        <i class=\"fas fa-file-invoice-dollar text-yellow-500 text-2xl\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-xl font-semibold text-white mb-3\">Organizador de Boletos</h3>\r\n                    <p class=\"text-gray-400 mb-4\">\r\n                        Sistema inteligente para organização, controle e pagamento de boletos e contas recorrentes.\r\n                    </p>\r\n                    <a href=\"OrgBoletos.html\" id=\"boleto-card-link\" class=\"text-yellow-500 font-medium inline-flex items-center\">\r\n                        Faça Login <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                    </a>\r\n                </div>\r\n                \r\n                <!-- Serviço 2 -->\r\n                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                    <div class=\"w-14 h-14 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                        <i class=\"fas fa-code text-blue-500 text-2xl\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-xl font-semibold text-white mb-3\">Desenvolvimento</h3>\r\n                    <p class=\"text-gray-400 mb-4\">\r\n                        Soluções personalizadas de software e aplicativos para atender às necessidades específicas do seu negócio.\r\n                    </p>\r\n                    <a href=\"#\" class=\"text-blue-500 font-medium inline-flex items-center\">\r\n                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                    </a>\r\n                </div>\r\n                \r\n                <!-- Serviço 3 -->\r\n                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                    <div class=\"w-14 h-14 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                        <i class=\"fas fa-network-wired text-green-500 text-2xl\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-xl font-semibold text-white mb-3\">Infraestrutura</h3>\r\n                    <p class=\"text-gray-400 mb-4\">\r\n                        Projeto, implementação e manutenção de redes corporativas para máxima eficiência operacional.\r\n                    </p>\r\n                    <a href=\"#\" class=\"text-green-500 font-medium inline-flex items-center\">\r\n                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                    </a>\r\n                </div>\r\n                \r\n                <!-- Serviço 4 -->\r\n                <div class=\"service-card bg-gray-800 rounded-xl p-8 transition duration-300 hover:shadow-lg\">\r\n                    <div class=\"w-14 h-14 bg-red-600 bg-opacity-20 rounded-lg flex items-center justify-center mb-6\">\r\n                        <i class=\"fas fa-headset text-red-500 text-2xl\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-xl font-semibold text-white mb-3\">Suporte Técnico</h3>\r\n                    <p class=\"text-gray-400 mb-4\">\r\n                        Suporte especializado remoto e presencial para resolver problemas e manter sua operação fluindo.\r\n                    </p>\r\n                    <a href=\"#\" class=\"text-red-500 font-medium inline-flex items-center\">\r\n                        Saiba mais <i class=\"fas fa-chevron-right ml-1 text-sm\"></i>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Login Section -->\r\n    <section id=\"login\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-800\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"flex flex-col lg:flex-row items-center justify-between\">\r\n                <div class=\"lg:w-1/2 mb-12 lg:mb-0\">\r\n                    <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-6\">\r\n                        Acesse sua <span class=\"text-indigo-500\">conta</span>\r\n                    </h2>\r\n                    <p class=\"text-lg text-gray-400 mb-8 max-w-lg\">\r\n                        Faça login para acessar nossos serviços exclusivos e gerenciar sua infraestrutura de TI de forma centralizada.\r\n                    </p>\r\n                    <div class=\"flex items-center space-x-4\">\r\n                        <div class=\"w-12 h-12 bg-gray-700 rounded-lg flex items-center justify-center\">\r\n                            <i class=\"fas fa-lock text-indigo-500 text-xl\"></i>\r\n                        </div>\r\n                        <div>\r\n                            <h4 class=\"text-white font-medium\">Segurança garantida</h4>\r\n                            <p class=\"text-gray-400 text-sm\">Autenticação de dois fatores disponível</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"lg:w-1/2 max-w-md w-full\">\r\n                    <div id=\"login-section-content\" class=\"login-form rounded-xl p-8 shadow-lg\">\r\n                        <h3 class=\"text-2xl font-bold text-white mb-6 text-center\">Acesso ao Sistema</h3>\r\n                            <form id=\"mainLoginForm\">\r\n                                <div id=\"login-step-1\">\r\n                                    <div class=\"mb-6\">\r\n                                        <label for=\"mainCnpjInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">CNPJ da Empresa</label>\r\n                                        <input type=\"text\" id=\"mainCnpjInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"00.000.000/0000-00\">\r\n                                        <div id=\"cnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                    </div>\r\n                                    <div class=\"space-y-4\">\r\n                                        <button type=\"button\" id=\"nextStepBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                            Avançar <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                                        </button>\r\n                                        <button type=\"button\" id=\"signUpBtn\" class=\"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 hidden\">\r\n                                            Cadastre-se\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div id=\"login-step-2\" class=\"hidden\">\r\n                                    <div class=\"mb-4\">\r\n                                        <label for=\"mainUsernameInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome de Usuário</label>\r\n                                        <input type=\"text\" id=\"mainUsernameInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu usuário\">\r\n                                        <div id=\"usernameError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                    </div>\r\n                                    <div class=\"mb-6\">\r\n                                        <label for=\"mainUserPasswordInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">Sua Senha</label>\r\n                                        <div class=\"relative\">\r\n                                            <input type=\"password\" id=\"mainUserPasswordInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300 pr-10\" placeholder=\"••••••••\">\r\n                                            <div id=\"passwordError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                                            <button type=\"button\" id=\"togglePasswordBtn\" class=\"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-white\">\r\n                                                <i class=\"fas fa-eye\"></i>\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button type=\"submit\" id=\"mainLoginSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                        Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>\r\n                                    </button>\r\n                                    <button type=\"button\" id=\"backToStep1Btn\" class=\"w-full text-center text-gray-400 text-sm mt-4 hover:text-white transition duration-200\">Voltar</button>\r\n                                    <div class=\"text-center mt-4\">\r\n                                        <button type=\"button\" id=\"forgotPasswordBtn\" class=\"text-sm text-indigo-400 hover:underline\">Esqueci-me da senha</button>\r\n                                    </div>    \r\n                                </div>\r\n                            </form>\r\n                            <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                        <div id=\"mainLoginFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Contato Section -->\r\n    <section id=\"contato\" class=\"py-20 px-4 sm:px-6 lg:px-8 bg-gray-900\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"text-center mb-16\">\r\n                <h2 class=\"text-3xl md:text-4xl font-bold text-white mb-4\">Entre em <span class=\"text-indigo-500\">Contato</span></h2>\r\n                <p class=\"text-lg text-gray-400 max-w-2xl mx-auto\">\r\n                    Pronto para transformar sua infraestrutura de TI? Nossa equipe está aqui para ajudar.\r\n                </p>\r\n            </div>\r\n            \r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n                <div>\r\n                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n                        <h3 class=\"text-xl font-semibold text-white mb-6\">Informações de Contato</h3>\r\n                        \r\n                        <div class=\"space-y-6\">\r\n                            <div class=\"flex items-start\">\r\n                                <div class=\"flex-shrink-0\">\r\n                                    <div class=\"w-10 h-10 bg-indigo-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n                                        <i class=\"fas fa-map-marker-alt text-indigo-500\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"ml-4\">\r\n                                    <h4 class=\"text-white font-medium\">Endereço</h4>\r\n                                    <p class=\"text-gray-400\">Loja Online</p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"flex items-start\">\r\n                                <div class=\"flex-shrink-0\">\r\n                                    <div class=\"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n                                        <i class=\"fas fa-phone-alt text-purple-500\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"ml-4\">\r\n                                    <h4 class=\"text-white font-medium\">Telefone</h4>\r\n                                    <p class=\"text-gray-400\">(21) 98765-4321</p>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"flex items-start\">\r\n                                <div class=\"flex-shrink-0\">\r\n                                    <div class=\"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center\">\r\n                                        <i class=\"fas fa-envelope text-blue-500\"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"ml-4\">\r\n                                    <h4 class=\"text-white font-medium\">E-mail</h4>\r\n                                    <p class=\"text-gray-400\">lobosti@outlook.com</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"mt-8\">\r\n                            <h4 class=\"text-white font-medium mb-4\">Siga-nos</h4>\r\n                            <div class=\"flex space-x-4\">\r\n                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-indigo-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                    <i class=\"fab fa-facebook-f text-white\"></i>\r\n                                </a>\r\n                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-400 rounded-full flex items-center justify-center transition duration-300\">\r\n                                    <i class=\"fab fa-twitter text-white\"></i>\r\n                                </a>\r\n                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-pink-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                    <i class=\"fab fa-instagram text-white\"></i>\r\n                                </a>\r\n                                <a href=\"#\" class=\"w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded-full flex items-center justify-center transition duration-300\">\r\n                                    <i class=\"fab fa-linkedin-in text-white\"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div>\r\n                    <div class=\"bg-gray-800 rounded-xl p-8 h-full\">\r\n                        <h3 class=\"text-xl font-semibold text-white mb-6\">Envie uma Mensagem</h3>\r\n                        \r\n                        <form id=\"contactForm\">\r\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                                <div>\r\n                                    <label for=\"contactName\" class=\"block text-gray-300 text-sm font-medium mb-2\">Nome</label>\r\n                                    <input type=\"text\" id=\"contactName\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Seu nome\">\r\n                                </div>\r\n                                <div>\r\n                                    <label for=\"contactEmail\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail</label>\r\n                                    <input type=\"email\" id=\"contactEmail\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"seu@email.com\">\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"mb-6\">\r\n                                <label for=\"contactSubject\" class=\"block text-gray-300 text-sm font-medium mb-2\">Assunto</label>\r\n                                <input type=\"text\" id=\"contactSubject\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Qual é o assunto?\">\r\n                            </div>\r\n                            \r\n                            <div class=\"mb-6\">\r\n                                <label for=\"contactMessage\" class=\"block text-gray-300 text-sm font-medium mb-2\">Mensagem</label>\r\n                                <textarea id=\"contactMessage\" rows=\"4\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400 transition duration-300\" placeholder=\"Sua mensagem...\"></textarea>\r\n                            </div>\r\n                            \r\n                            <button type=\"submit\" id=\"contactSubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                                Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>\r\n                            </button>\r\n                        </form>\r\n                        <div id=\"contactFormFeedback\" class=\"mt-4 text-center text-sm\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Footer -->\r\n    <footer class=\"bg-gray-900 border-t border-gray-800 py-12 px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"max-w-7xl mx-auto\">\r\n            <div class=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n                <div>\r\n                    <div class=\"flex items-center logo mb-4\">\r\n                        <img src=\"public/images/logo-lobosti.png\" alt=\"Logo LobosTI\" class=\"h-24 w-auto mr-3\">\r\n                    </div>\r\n                    <p class=\"text-gray-400 text-sm\">\r\n                        Soluções em tecnologia da informação com excelência e inovação.\r\n                    </p>\r\n                </div>\r\n                \r\n                <div>\r\n                    <h4 class=\"text-white font-medium mb-4\">Links Rápidos</h4>\r\n                    <ul class=\"space-y-2\">\r\n                        <li><a href=\"#inicio\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Início</a></li>\r\n                        <li><a href=\"#servicos\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Serviços</a></li>\r\n                        <li><a href=\"#login\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Login</a></li>\r\n                        <li><a href=\"#contato\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Contato</a></li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                <div>\r\n                    <h4 class=\"text-white font-medium mb-4\">Serviços</h4>\r\n                    <ul class=\"space-y-2\">\r\n                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Desenvolvimento</a></li>\r\n                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Infraestrutura</a></li>\r\n                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Suporte Técnico</a></li>\r\n                        <li><a href=\"#\" class=\"text-gray-400 hover:text-white text-sm transition duration-300\">Organizador de Boletos</a></li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                <div>\r\n                    <h4 class=\"text-white font-medium mb-4\">Newsletter</h4>\r\n                    <p class=\"text-gray-400 text-sm mb-4\">\r\n                        Assine nossa newsletter para receber atualizações e novidades.\r\n                    </p>\r\n                    <form class=\"flex\">\r\n                        <input type=\"email\" placeholder=\"Seu e-mail\" class=\"px-4 py-2 bg-gray-700 text-white rounded-l-lg focus:outline-none focus:ring-1 focus:ring-indigo-500 w-full text-sm\">\r\n                        <button type=\"submit\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-r-lg text-sm transition duration-300\">\r\n                            <i class=\"fas fa-paper-plane\"></i>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center\">\r\n                <p class=\"text-gray-400 text-sm mb-4 md:mb-0\">\r\n                    &copy; 2023 LobosTI. Todos os direitos reservados.\r\n                </p>\r\n                <div class=\"flex space-x-6\">\r\n                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Termos de Serviço</a>\r\n                    <a href=\"#\" class=\"text-gray-400 hover:text-white transition duration-300 text-sm\">Política de Privacidade</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n\r\n    <div id=\"registerModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n        <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-2xl text-white relative transform transition-all scale-95\">\r\n            \r\n            <button id=\"closeRegisterModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n                <i class=\"fas fa-times fa-lg\"></i>\r\n            </button>\r\n\r\n            <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Cadastro de Nova Empresa</h2>\r\n\r\n            <form id=\"registerForm\">\r\n                <div id=\"register-step-1\">\r\n                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">1. Dados da Empresa</h3>\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label for=\"registerCnpj\" class=\"block text-sm font-medium text-gray-300 mb-1\">CNPJ</label>\r\n                            <input type=\"text\" id=\"registerCnpj\" name=\"cnpj\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n                            <div id=\"registerCnpjError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"registerCompanyName\" class=\"block text-sm font-medium text-gray-300 mb-1\">Nome da Empresa</label>\r\n                            <input type=\"text\" id=\"registerCompanyName\" name=\"nomeEmpresa\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"registerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail da Empresa</label>\r\n                            <input type=\"email\" id=\"registerEmail\" name=\"email\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"registerWhatsapp\" class=\"block text-sm font-medium text-gray-300 mb-1\">WhatsApp</label>\r\n                            <input type=\"text\" id=\"registerWhatsapp\" name=\"telefoneWhatsapp\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 focus:ring-indigo-500 focus:border-indigo-500\">\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"button\" id=\"goToRegisterStep2Btn\" class=\"w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n                        Avançar para Dados do Proprietário <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                    </button>\r\n                </div>\r\n\r\n                <div id=\"register-step-2\" class=\"hidden\">\r\n                    <h3 class=\"text-lg font-semibold mb-4 border-b border-gray-600 pb-2\">2. Dados do Proprietário</h3>\r\n                    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label for=\"ownerUsername\" class=\"block text-sm font-medium text-gray-300 mb-1\">Login (Nome de Usuário)</label>\r\n                            <input type=\"text\" id=\"ownerUsername\" name=\"username\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"ownerEmail\" class=\"block text-sm font-medium text-gray-300 mb-1\">E-mail do Proprietário</label>\r\n                            <input type=\"email\" id=\"ownerEmail\" name=\"ownerEmail\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"ownerPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Senha</label>\r\n                            <input type=\"password\" id=\"ownerPassword\" name=\"password\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n                        </div>\r\n                        <div>\r\n                            <label for=\"ownerConfirmPassword\" class=\"block text-sm font-medium text-gray-300 mb-1\">Confirmar Senha</label>\r\n                            <input type=\"password\" id=\"ownerConfirmPassword\" name=\"confirmPassword\" required class=\"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2\">\r\n                            <div id=\"passwordConfirmError\" class=\"text-red-400 text-sm mt-1 h-4\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-4 mt-6\">\r\n                        <button type=\"button\" id=\"backToRegisterStep1Btn\" class=\"w-1/3 bg-gray-600 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded-lg\">\r\n                            <i class=\"fas fa-arrow-left mr-2\"></i> Voltar\r\n                        </button>\r\n                        <button type=\"submit\" id=\"submitRegistrationBtn\" class=\"w-2/3 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg\">\r\n                            Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div id=\"registrationFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n<script src=\"https://unpkg.com/imask\"></script>\r\n<script>\r\ndocument.addEventListener('DOMContentLoaded', async () => {\r\n\r\n    const API_BASE_URL = 'http://localhost:5000';\r\n\r\n    // =================================================================================\r\n    // SEÇÃO 1: FUNÇÕES GLOBAIS E DE UI\r\n    // =================================================================================\r\n\r\n    function updateUIForLoggedInUser(user) {\r\n        const desktopMenu = document.getElementById('desktop-menu-items');\r\n        const navLoginLink = document.getElementById('nav-login-link');\r\n        const loginSectionContent = document.getElementById('login-section-content');\r\n        \r\n        if (desktopMenu && navLoginLink && !document.getElementById('nav-logout-btn')) {\r\n            navLoginLink.textContent = 'Acessar Painel';\r\n            navLoginLink.href = 'OrgBoletos.html';\r\n            const logoutButton = document.createElement('button');\r\n            logoutButton.id = 'nav-logout-btn';\r\n            logoutButton.className = 'bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700';\r\n            logoutButton.textContent = 'Sair';\r\n            desktopMenu.appendChild(logoutButton);\r\n        }\r\n\r\n        if (loginSectionContent) {\r\n            loginSectionContent.innerHTML = `\r\n                <h3 class=\"text-2xl font-bold text-white mb-4 text-center\">Bem-vindo(a) de volta!</h3>\r\n                <p class=\"text-center text-gray-300 mb-6\">Você já está autenticado.</p>\r\n                <a href=\"OrgBoletos.html\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center\">\r\n                    Ir para o Painel <i class=\"fas fa-arrow-right ml-2\"></i>\r\n                </a>`;\r\n        }\r\n        \r\n        document.querySelectorAll('#nav-logout-btn').forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                localStorage.removeItem('authToken');\r\n                window.location.reload();\r\n            });\r\n        });\r\n    }\r\n\r\n    function clearLoginErrors() {\r\n        const fields = ['cnpjError', 'usernameError', 'passwordError', 'mainLoginFormFeedback'];\r\n        fields.forEach(id => {\r\n            const el = document.getElementById(id);\r\n            if (el) el.textContent = '';\r\n        });\r\n    }\r\n\r\n    // =================================================================================\r\n    // SEÇÃO 2: VERIFICAÇÃO DE SESSÃO E INICIALIZAÇÃO\r\n    // =================================================================================\r\n    \r\n    const token = localStorage.getItem('authToken');\r\n    if (token) {\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/auth/me`, { headers: { 'Authorization': `Bearer ${token}` } });\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                updateUIForLoggedInUser(data.user);\r\n                // CHAMA OS EVENTOS GERAIS NO MODO \"LOGADO\"\r\n                setupGeneralEventListeners(true); \r\n                return; \r\n            } else {\r\n                localStorage.removeItem('authToken');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erro ao verificar sessão:\", error);\r\n        }\r\n    }\r\n\r\n    // =================================================================================\r\n    // SEÇÃO 3: LÓGICA EXECUTADA APENAS SE O USUÁRIO NÃO ESTIVER LOGADO\r\n    // =================================================================================\r\n    \r\n    // CHAMA OS EVENTOS GERAIS NO MODO \"NÃO LOGADO\" (ATIVANDO O CLIQUE NO LOGO)\r\n    setupGeneralEventListeners(false);\r\n\r\n    // Variáveis para as instâncias das máscaras\r\n    let cnpjMask, registerCnpjMask, registerWhatsappMask;\r\n\r\n    // --- Lógica do formulário de Login ---\r\n    const mainLoginForm = document.getElementById('mainLoginForm');\r\n    if (mainLoginForm) {\r\n        const mainCnpjInput = document.getElementById('mainCnpjInput');\r\n        const nextStepBtn = document.getElementById('nextStepBtn');\r\n        const signUpBtn = document.getElementById('signUpBtn');\r\n        const backToStep1Btn = document.getElementById('backToStep1Btn');\r\n        \r\n        cnpjMask = IMask(mainCnpjInput, { mask: '00.000.000/0000-00' });\r\n        \r\n        cnpjMask.on('accept', () => {\r\n            document.getElementById('mainLoginFormFeedback').textContent = '';\r\n            signUpBtn.classList.add('hidden');\r\n        });\r\n\r\n        nextStepBtn.addEventListener('click', handleNextStepClick);\r\n        backToStep1Btn.addEventListener('click', handleBackToStep1Click);\r\n        mainLoginForm.addEventListener('submit', handleLoginFormSubmit);\r\n    }\r\n    \r\n    // --- Lógica do Modal de Cadastro ---\r\n\r\n    const forgotPasswordModal = document.getElementById('forgotPasswordModal');\r\n    if (forgotPasswordModal) {\r\n        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');\r\n        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModalBtn');\r\n        const forgotPasswordForm = document.getElementById('forgotPasswordForm');\r\n        const recoverySubmitBtn = document.getElementById('recoverySubmitBtn');\r\n        const recoveryFormFeedback = document.getElementById('recoveryFormFeedback');\r\n\r\n        // Abre o modal ao clicar no botão\r\n        forgotPasswordBtn.addEventListener('click', () => {\r\n            forgotPasswordModal.classList.remove('hidden');\r\n            document.getElementById('recoveryEmailInput').focus();\r\n        });\r\n\r\n        // Fecha o modal\r\n        closeForgotPasswordModalBtn.addEventListener('click', () => {\r\n            forgotPasswordModal.classList.add('hidden');\r\n        });\r\n\r\n        // Lida com o envio do formulário\r\n        forgotPasswordForm.addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            const email = document.getElementById('recoveryEmailInput').value;\r\n            \r\n            recoverySubmitBtn.disabled = true;\r\n            recoverySubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Enviando...';\r\n            recoveryFormFeedback.textContent = '';\r\n\r\n            try {\r\n                // Chama a rota do backend que já criámos\r\n                const response = await fetch(`${API_BASE_URL}/api/auth/forgot-password`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ email })\r\n                });\r\n\r\n                const result = await response.json();\r\n                if (!response.ok) { throw new Error(result.message); }\r\n\r\n                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n                recoveryFormFeedback.textContent = result.message;\r\n\r\n                // Fecha o modal após alguns segundos\r\n                setTimeout(() => {\r\n                    forgotPasswordModal.classList.add('hidden');\r\n                }, 4000);\r\n\r\n            } catch (error) {\r\n                recoveryFormFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n                recoveryFormFeedback.textContent = error.message;\r\n            } finally {\r\n                recoverySubmitBtn.disabled = false;\r\n                recoverySubmitBtn.innerHTML = 'Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n            }\r\n        });\r\n    }\r\n\r\n    const registerModal = document.getElementById('registerModal');\r\n    if (registerModal) {\r\n        const signUpBtn = document.getElementById('signUpBtn');\r\n        const closeRegisterModalBtn = document.getElementById('closeRegisterModalBtn');\r\n        const registerForm = document.getElementById('registerForm');\r\n        const goToRegisterStep2Btn = document.getElementById('goToRegisterStep2Btn');\r\n        const backToRegisterStep1Btn = document.getElementById('backToRegisterStep1Btn');\r\n        const registerCnpjInput = document.getElementById('registerCnpj');\r\n        const registerWhatsappInput = document.getElementById('registerWhatsapp');\r\n\r\n        registerCnpjMask = IMask(registerCnpjInput, { mask: '00.000.000/0000-00' });\r\n        registerWhatsappMask = IMask(registerWhatsappInput, { mask: '(00) 00000-0000' });\r\n\r\n        signUpBtn.addEventListener('click', () => {\r\n            if (cnpjMask && registerCnpjMask) { registerCnpjMask.value = cnpjMask.value; }\r\n            registerModal.classList.remove('hidden');\r\n        });\r\n        \r\n        closeRegisterModalBtn.addEventListener('click', () => {\r\n            registerModal.classList.add('hidden');\r\n            registerForm.reset();\r\n        });\r\n\r\n        goToRegisterStep2Btn.addEventListener('click', handleGoToRegisterStep2);\r\n\r\n        backToRegisterStep1Btn.addEventListener('click', () => {\r\n            document.getElementById('register-step-2').classList.add('hidden');\r\n            document.getElementById('register-step-1').classList.remove('hidden');\r\n        });\r\n\r\n        registerForm.addEventListener('submit', handleRegisterFormSubmit);\r\n    }\r\n    \r\n    // =================================================================================\r\n    // SEÇÃO 4: FUNÇÕES DE SETUP E HANDLERS\r\n    // =================================================================================\r\n    \r\n    function setupGeneralEventListeners(isLoggedIn = false) {\r\n        const mobileMenuButton = document.getElementById('mobile-menu-button');\r\n        const mobileMenu = document.getElementById('mobile-menu');\r\n        if (mobileMenuButton) {\r\n            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));\r\n        }\r\n\r\n        const contactForm = document.getElementById('contactForm');\r\n        if (contactForm) {\r\n            contactForm.addEventListener('submit', handleContactFormSubmit);\r\n        }\r\n        \r\n        // CORREÇÃO: Esta lógica agora funciona corretamente pois 'isLoggedIn' é false\r\n        if (!isLoggedIn) {\r\n            const logoElement = document.querySelector('nav .flex-shrink-0 a');\r\n            if (logoElement) {\r\n                let clickCount = 0;\r\n                let clickTimer = null;\r\n                logoElement.addEventListener('click', (e) => {\r\n                    if (document.getElementById('mainLoginForm')) {\r\n                        e.preventDefault();\r\n                        clickCount++;\r\n                        clearTimeout(clickTimer);\r\n                        clickTimer = setTimeout(() => { clickCount = 0; }, 2000);\r\n                        if (clickCount === 7) {\r\n                            activateAdminLogin();\r\n                            clickCount = 0;\r\n                            clearTimeout(clickTimer);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n    \r\n    function activateAdminLogin() {\r\n        const loginStep1 = document.getElementById('login-step-1');\r\n        const loginStep2 = document.getElementById('login-step-2');\r\n        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n        if (loginStep1 && loginStep2 && mainUsernameInput) {\r\n            document.getElementById('mainCnpjInput').removeAttribute('required');\r\n            mainLoginForm.dataset.isAdmin = \"true\";\r\n            loginStep1.classList.add('hidden');\r\n            mainUsernameInput.previousElementSibling.textContent = 'Usuário Administrador';\r\n            loginStep2.classList.remove('hidden');\r\n            mainUsernameInput.focus();\r\n        }\r\n    }\r\n\r\n    function handleBackToStep1Click() {\r\n        const loginStep1 = document.getElementById('login-step-1');\r\n        const loginStep2 = document.getElementById('login-step-2');\r\n        loginStep2.classList.add('hidden');\r\n        if(cnpjMask) cnpjMask.value = '';\r\n        loginStep1.classList.remove('hidden');\r\n        document.getElementById('mainLoginFormFeedback').textContent = '';\r\n        mainLoginForm.dataset.isAdmin = \"false\";\r\n        document.getElementById('mainCnpjInput').setAttribute('required', '');\r\n        clearLoginErrors();\r\n    }\r\n\r\n    async function handleNextStepClick() {\r\n        const mainLoginFormFeedback = document.getElementById('mainLoginFormFeedback');\r\n        const signUpBtn = document.getElementById('signUpBtn');\r\n        const nextStepBtn = document.getElementById('nextStepBtn');\r\n        const loginStep1 = document.getElementById('login-step-1');\r\n        const loginStep2 = document.getElementById('login-step-2');\r\n        \r\n        mainLoginFormFeedback.textContent = '';\r\n        signUpBtn.classList.add('hidden');\r\n        \r\n        if (!cnpjMask || cnpjMask.unmaskedValue.length !== 14) {\r\n            mainLoginFormFeedback.textContent = 'Por favor, preencha o CNPJ completo.';\r\n            return;\r\n        }\r\n\r\n        nextStepBtn.disabled = true;\r\n        nextStepBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/auth/find-company-by-cnpj`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ cnpj: cnpjMask.value }) });\r\n            const result = await response.json();\r\n            if (!response.ok) { throw new Error(result.message); }\r\n            loginStep1.classList.add('hidden');\r\n            loginStep2.classList.remove('hidden');\r\n        } catch (error) {\r\n            mainLoginFormFeedback.textContent = error.message;\r\n            if (error.message && error.message.toLowerCase().includes(\"nenhuma empresa encontrada\")) {\r\n                signUpBtn.classList.remove('hidden');\r\n            }\r\n        } finally {\r\n            nextStepBtn.disabled = false;\r\n            nextStepBtn.innerHTML = 'Avançar <i class=\"fas fa-arrow-right ml-2\"></i>';\r\n        }\r\n    }\r\n    \r\n    function handleGoToRegisterStep2() {\r\n        const registrationFeedback = document.getElementById('registrationFeedback');\r\n        registrationFeedback.textContent = '';\r\n        const companyName = document.getElementById('registerCompanyName').value;\r\n        const companyEmail = document.getElementById('registerEmail').value;\r\n\r\n        if (registerCnpjMask && registerCnpjMask.unmaskedValue.length === 14 && companyName.trim() !== '' && companyEmail.trim() !== '' && registerWhatsappMask && registerWhatsappMask.unmaskedValue.length >= 10) {\r\n            document.getElementById('register-step-1').classList.add('hidden');\r\n            document.getElementById('register-step-2').classList.remove('hidden');\r\n        } else {\r\n            registrationFeedback.textContent = 'Por favor, preencha todos os dados da empresa para avançar.';\r\n        }\r\n    }\r\n    \r\n    async function handleLoginFormSubmit(e) {\r\n        e.preventDefault();\r\n        const mainLoginSubmitBtn = document.getElementById('mainLoginSubmitBtn');\r\n        const mainUsernameInput = document.getElementById('mainUsernameInput');\r\n        const mainUserPasswordInput = document.getElementById('mainUserPasswordInput');\r\n        mainLoginSubmitBtn.disabled = true;\r\n        mainLoginSubmitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Verificando...';\r\n        clearLoginErrors();\r\n        const isAdminLoginMode = e.target.dataset.isAdmin === \"true\";\r\n\r\n        // CORREÇÃO: Usa a variável 'cnpjMask'\r\n        const payload = isAdminLoginMode ? \r\n            { username: mainUsernameInput.value, password: mainUserPasswordInput.value } :\r\n            { cnpj: cnpjMask.value, username: mainUsernameInput.value, password: mainUserPasswordInput.value };\r\n        try {\r\n            const response = await fetch(API_BASE_URL + (isAdminLoginMode ? '/api/auth/login/admin' : '/api/auth/login/direct'), { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });\r\n            const result = await response.json();\r\n            if (!response.ok) { \r\n                const error = new Error(result.message || 'Erro de validação.');\r\n                error.details = result.errors;\r\n                throw error;\r\n            }\r\n            localStorage.setItem('authToken', result.token);\r\n            window.location.href = 'OrgBoletos.html';\r\n        } catch (error) {\r\n            if (error.details) {\r\n                error.details.forEach(err => {\r\n                    const errorElement = document.getElementById(`${err.path}Error`);\r\n                    if (errorElement) { errorElement.textContent = err.msg; }\r\n                });\r\n            } else {\r\n                document.getElementById('mainLoginFormFeedback').textContent = error.message || 'Ocorreu um erro.';\r\n            }\r\n        } finally {\r\n            mainLoginSubmitBtn.disabled = false;\r\n            mainLoginSubmitBtn.innerHTML = 'Entrar no Sistema <i class=\"fas fa-sign-in-alt ml-2\"></i>';\r\n            e.target.dataset.isAdmin = \"false\";\r\n        }\r\n    }\r\n\r\n    async function handleRegisterFormSubmit(e) {\r\n        e.preventDefault();\r\n        const password = document.getElementById('ownerPassword').value;\r\n        const confirmPassword = document.getElementById('ownerConfirmPassword').value;\r\n        if (password !== confirmPassword) {\r\n            document.getElementById('passwordConfirmError').textContent = 'As senhas não coincidem.';\r\n            return;\r\n        }\r\n        document.getElementById('passwordConfirmError').textContent = '';\r\n\r\n        const submitBtn = document.getElementById('submitRegistrationBtn');\r\n        submitBtn.disabled = true;\r\n        submitBtn.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i> Finalizando...';\r\n\r\n        const registrationFeedback = document.getElementById('registrationFeedback');\r\n        registrationFeedback.textContent = '';\r\n\r\n        const payload = {\r\n            cnpj: registerCnpjMask.unmaskedValue,\r\n            nomeEmpresa: document.getElementById('registerCompanyName').value,\r\n            email: document.getElementById('registerEmail').value,\r\n            telefoneWhatsapp: registerWhatsappMask.unmaskedValue,\r\n            username: document.getElementById('ownerUsername').value,\r\n            ownerEmail: document.getElementById('ownerEmail').value,\r\n            password: password,\r\n        };\r\n\r\n        try {\r\n            // --- CORREÇÃO PRINCIPAL AQUI ---\r\n            // A URL agora aponta para a nova rota pública em auth.js\r\n            const response = await fetch(`${API_BASE_URL}/api/auth/register-company`, { \r\n                method: 'POST', \r\n                headers: { 'Content-Type': 'application/json' }, \r\n                body: JSON.stringify(payload) \r\n            });\r\n\r\n            const result = await response.json();\r\n            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro no cadastro.'); }\r\n\r\n            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-green-400';\r\n            registrationFeedback.textContent = 'Cadastro realizado com sucesso! Pode fechar e fazer o login.';\r\n\r\n            setTimeout(() => {\r\n                document.getElementById('closeRegisterModalBtn').click();\r\n                if (cnpjMask) {\r\n                    cnpjMask.value = payload.cnpj;\r\n                    document.getElementById('mainCnpjInput').focus();\r\n                }\r\n            }, 3000);\r\n        } catch (error) {\r\n            registrationFeedback.className = 'mt-4 text-center text-sm h-5 text-red-400';\r\n            registrationFeedback.textContent = error.message;\r\n        } finally {\r\n            submitBtn.disabled = false;\r\n            submitBtn.innerHTML = 'Finalizar Cadastro <i class=\"fas fa-check ml-2\"></i>';\r\n        }\r\n    }\r\n    \r\n    async function handleContactFormSubmit(e) {\r\n        e.preventDefault();\r\n        const contactSubmitBtn = document.getElementById('contactSubmitBtn');\r\n        const contactFormFeedback = document.getElementById('contactFormFeedback');\r\n        contactSubmitBtn.disabled = true;\r\n        contactSubmitBtn.innerHTML = 'Enviando... <i class=\"fas fa-spinner fa-spin ml-2\"></i>';\r\n        contactFormFeedback.textContent = '';\r\n        const payload = {\r\n            name: document.getElementById('contactName').value,\r\n            email: document.getElementById('contactEmail').value,\r\n            subject: document.getElementById('contactSubject').value,\r\n            message: document.getElementById('contactMessage').value,\r\n        };\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/contact/send`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), });\r\n            const result = await response.json();\r\n            if (!response.ok) { throw new Error(result.message || 'Ocorreu um erro.'); }\r\n            contactFormFeedback.className = 'mt-4 text-center text-sm text-green-400';\r\n            contactFormFeedback.textContent = result.message;\r\n            document.getElementById('contactForm').reset();\r\n        } catch (error) {\r\n            contactFormFeedback.className = 'mt-4 text-center text-sm text-red-400';\r\n            contactFormFeedback.textContent = error.message;\r\n        } finally {\r\n            contactSubmitBtn.disabled = false;\r\n            contactSubmitBtn.innerHTML = 'Enviar Mensagem <i class=\"fas fa-paper-plane ml-2\"></i>';\r\n        }\r\n    }\r\n});\r\n</script>\r\n\r\n<div id=\"forgotPasswordModal\" class=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden\">\r\n    <div class=\"bg-gray-800 rounded-lg shadow-2xl p-8 w-full max-w-md text-white relative transform transition-all scale-95\">\r\n        \r\n        <button id=\"closeForgotPasswordModalBtn\" class=\"absolute top-4 right-4 text-gray-400 hover:text-white transition\">\r\n            <i class=\"fas fa-times fa-lg\"></i>\r\n        </button>\r\n\r\n        <h2 class=\"text-2xl font-bold mb-6 text-center text-indigo-400\">Recuperar Senha</h2>\r\n        <p class=\"text-center text-gray-400 mb-6 text-sm\">\r\n            Insira o e-mail do **proprietário** da sua empresa. Um link para redefinir a senha será enviado para esse endereço.\r\n        </p>\r\n\r\n        <form id=\"forgotPasswordForm\">\r\n            <div class=\"mb-4\">\r\n                <label for=\"recoveryEmailInput\" class=\"block text-gray-300 text-sm font-medium mb-2\">E-mail do Proprietário</label>\r\n                <input type=\"email\" id=\"recoveryEmailInput\" required class=\"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-white placeholder-gray-400\">\r\n            </div>\r\n            <button type=\"submit\" id=\"recoverySubmitBtn\" class=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center\">\r\n                Enviar Link de Recuperação <i class=\"fas fa-paper-plane ml-2\"></i>\r\n            </button>\r\n        </form>\r\n        <div id=\"recoveryFormFeedback\" class=\"mt-4 text-center text-sm h-5\"></div>\r\n    </div>\r\n</div>\r\n\r\n</body>\r\n</html>"
        }
    ]
}